  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-25 15:58:32) [GET]

ActionController::RoutingError (No route matches "/user/new" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 15:58:36) [GET]
Rendering users/new
Completed in 247ms (View: 187, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 15:59:02) [POST]
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"AUS1p16tOguybFBX+HhR9bglMAjJOCTBqRVn4FqTfak=", "user"=>{"password_confirmation"=>"nutshell", "password"=>"nutshell", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "email") VALUES('', '1b2b8d983607306d96d1d08c7ca75b3939cd9892', '2010-05-25 22:59:02', NULL, '76207594fbe0571de3bc48c16dca6d24edea1879', NULL, '2010-05-25 22:59:02', '34f47d80e774e5858504569706a0779167f56437', NULL, 'test', 'sqrrrl@gmail.com')[0m
Redirected to http://localhost:3000/
Completed in 222ms (DB: 2) | 302 Found [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 16:07:19) [GET]
Rendering users/new
Completed in 112ms (View: 93, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 16:07:28) [POST]
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"AUS1p16tOguybFBX+HhR9bglMAjJOCTBqRVn4FqTfak=", "user"=>{"password_confirmation"=>"nutshell", "password"=>"nutshell", "login"=>"test2", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering users/new
Completed in 57ms (View: 24, DB: 1) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.8ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 16:07:59) [POST]
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"AUS1p16tOguybFBX+HhR9bglMAjJOCTBqRVn4FqTfak=", "user"=>{"password_confirmation"=>"nutshell", "password"=>"nutshell", "login"=>"test2", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "email") VALUES('', 'da808e9da216a0edc06b466892c2a91d83a5d90d', '2010-05-25 23:07:59', NULL, '355a8e568a696fb14288462b864b4a4378347aa2', NULL, '2010-05-25 23:07:59', '644e79b09e18c7e232f4a5ea6d8a1683ff109c49', NULL, 'test2', 'sqrrrl@gmail.com')[0m
Sent mail to sqrrrl@gmail.com

Date: Tue, 25 May 2010 16:07:59 -0700
From: registration@voice.saasyapp.com
To: sqrrrl@gmail.com
Subject: Confirm Registration for Voice MailPlease activate your new account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Your account has been created.

  Username: test2
  Password: nutshell

Visit this url to activate your account:

  http://localhost:3000/activate/644e79b09e18c7e232f4a5ea6d8a1683ff109c49
Redirected to http://localhost:3000/
Completed in 228ms (DB: 2) | 302 Found [http://localhost/users]


Processing UsersController#activate (for 127.0.0.1 at 2010-05-25 16:08:49) [GET]
  Parameters: {"activation_code"=>"644e79b09e18c7e232f4a5ea6d8a1683ff109c49"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."activation_code" = '644e79b09e18c7e232f4a5ea6d8a1683ff109c49') LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-25 23:08:49', "activated_at" = '2010-05-25 23:08:49', "activation_code" = NULL WHERE "id" = 1[0m
Sent mail to sqrrrl@gmail.com

Date: Tue, 25 May 2010 16:08:49 -0700
From: registration@voice.saasyapp.com
To: sqrrrl@gmail.com
Subject: Confirm Registration for Voice MailYour account has been activated!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

test2, your account has been activated.  Welcome aboard!

  http://localhost:3000/
Redirected to http://localhost:3000/login
Completed in 612ms (DB: 2) | 302 Found [http://localhost/activate/644e79b09e18c7e232f4a5ea6d8a1683ff109c49]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 16:08:50) [GET]
Rendering sessions/new
Completed in 42ms (View: 32, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 16:08:54) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"AUS1p16tOguybFBX+HhR9bglMAjJOCTBqRVn4FqTfak=", "login"=>"test", "password"=>"nutshell"}
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'test' from 127.0.0.1 at Tue May 25 23:08:54 UTC 2010
Rendering sessions/new
Completed in 22ms (View: 7, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 16:08:59) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"AUS1p16tOguybFBX+HhR9bglMAjJOCTBqRVn4FqTfak=", "login"=>"test", "password"=>"nutshell"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'test' from 127.0.0.1 at Tue May 25 23:08:59 UTC 2010
Rendering sessions/new
Completed in 21ms (View: 7, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 16:09:17) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"AUS1p16tOguybFBX+HhR9bglMAjJOCTBqRVn4FqTfak=", "login"=>"test2", "password"=>"nutshell"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test2' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 31ms (DB: 2) | 302 Found [http://localhost/session]
  [4;36;1mSQL (27.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
Migrating to CreateOauthConsumerTokens (20100525222447)
Migrating to CreateOrganizations (20100525233106)
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "phone" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "phone_number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:12:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering home/index
Completed in 59ms (View: 49, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:31:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering home/index
Completed in 57ms (View: 47, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:31:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering home/index
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:31:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering home/index
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:34:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 183ms (View: 171, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:34:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 32ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:34:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 43ms (View: 31, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:35:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/layouts/application.html.erb:16: syntax error, unexpected ';', expecting ')'
... :action => '/logout' ).to_s); @output_buffer.concat "</li>\...
                              ^
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n       \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n<head>\n  <meta http-equiv=\"content-type\" content=\"text/html;charset=UTF-8\" />\n  <title>Voice Mail</title>\n  "






; @output_buffer.concat(( stylesheet_link_tag 'site' ).to_s); @output_buffer.concat "\n</head>\n<body>\n\n<div id=\"header\">\n    <ul>\n      "





;  if logged_in?; @output_buffer.concat "\n        <li>Welcome "
; @output_buffer.concat(( current_user.email ).to_s); @output_buffer.concat "</li>\n        <li>"
; @output_buffer.concat(( link_to('Log Out', :action => '/logout' ).to_s); @output_buffer.concat "</li>\n      "
;  else ; @output_buffer.concat "\n        <li>"
; @output_buffer.concat(( link_to('Sign Up', :action => '/signup' )).to_s); @output_buffer.concat "</li>\n        <li>"
; @output_buffer.concat(( link_to('Log In', :action => '/login')).to_s); @output_buffer.concat "\n      "
;  end ; @output_buffer.concat "\n    </ul>\n</div>\n\n<p style=\"color: green\">"



; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat "</p>\n<div id=\"content\">\n"

; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n</div>\n\n<div id=\"footer\">\n</div>\n</body>\n</html>\n"






; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/layouts/application.html.erb:36:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:352:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/layouts/application.html.erb:16: syntax error, unexpected ';', expecting ')'
... :action => '/logout' ).to_s); @output_buffer.concat "</li>\...
                              ^) on line #16 of app/views/layouts/application.html.erb:
13:     <ul>
14:       <% if logged_in?%>
15:         <li>Welcome <%= current_user.email %></li>
16:         <li><%= link_to('Log Out', :action => '/logout' %></li>
17:       <% else %>
18:         <li><%= link_to('Sign Up', :action => '/signup' )%></li>
19:         <li><%= link_to('Log In', :action => '/login')%>

    app/views/layouts/application.html.erb:36:in `compile!'

Rendered rescues/_trace (198.4ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:36:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 46ms (View: 34, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#/logout (for 127.0.0.1 at 2010-05-25 17:36:14) [GET]
  Parameters: {"action"=>"/logout", "controller"=>"home"}

ActionController::UnknownAction (No action responded to /logout. Actions: index):
  

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:36:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 52ms (View: 39, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#logout (for 127.0.0.1 at 2010-05-25 17:36:40) [GET]
  Parameters: {"action"=>"logout", "controller"=>"home"}

ActionController::UnknownAction (No action responded to logout. Actions: index):
  

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:55:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 55ms (View: 43, DB: 1) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-25 17:55:30) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 11ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:55:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 8, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:57:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 29ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 17:59:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 48ms (View: 37, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 17:59:25) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"qg9AnN5fuiNzjvUITl3dZJ79iAPdYTv2eKLmpdwtNzM=", "controller"=>"sessions", "login"=>"test2", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test2' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 33ms (DB: 2) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:59:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 51ms (View: 34, DB: 2) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-25 17:59:27) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 17:59:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 17:59:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 75ms (View: 56, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 18:03:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 18:03:51) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"sessions", "login"=>"test2", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test2' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 35ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 18:03:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
Rendering template within layouts/application
Rendering organizations/new
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 610ms (View: 81, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 18:04:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 66ms (View: 16, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-25 20:15:27) [GET]

ActionController::RoutingError (No route matches "/twilio/start" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-25 20:18:17) [GET]

ActionController::RoutingError (No route matches "/twilio/start/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-25 20:18:36) [GET]

ActionController::RoutingError (No route matches "/twilio/start/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-25 20:18:39) [GET]

ActionController::RoutingError (No route matches "/twilio/start" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:18:58) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}
Completed in 16ms (View: 1, DB: 0) | 200 OK [http://localhost/twilio/start]


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:19:20) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}
Completed in 16ms (View: 1, DB: 0) | 200 OK [http://localhost/twilio/start]


Processing ApplicationController#start (for 127.0.0.1 at 2010-05-25 20:47:43) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:40: syntax error, unexpected kEND, expecting '}'
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:43: syntax error, unexpected kEND, expecting '}'):
  

Rendered rescues/_trace (85.4ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:48:07) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}

NameError (undefined local variable or method `social_credential' for #<TwilioController:0x24a3b3c>):
  app/controllers/twilio_controller.rb:32:in `verify_signature'

Rendered rescues/_trace (104.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:49:06) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}

NoMethodError (undefined method `post' for #<ActionController::Request:0x23a48e4>):
  app/controllers/twilio_controller.rb:35:in `verify_signature'

Rendered rescues/_trace (195.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:49:23) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}
Completed in 17ms (View: 1, DB: 0) | 200 OK [http://localhost/twilio/start]


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:49:26) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}
Completed in 17ms (View: 1, DB: 0) | 200 OK [http://localhost/twilio/start]


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:50:11) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}
Filter chain halted as [:verify_signature] rendered_or_redirected.
Completed in 2ms (View: 1, DB: 0) | 401 Unauthorized [http://localhost/twilio/start]


Processing TwilioController#start (for 127.0.0.1 at 2010-05-25 20:50:32) [GET]
  Parameters: {"action"=>"start", "controller"=>"twilio"}
Completed in 16ms (View: 1, DB: 0) | 200 OK [http://localhost/twilio/start]
  [4;36;1mSQL (26.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateMessages (20100525235616)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (24.2ms)[0m   [0mDROP TABLE "messages"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20100525235616'[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
Migrating to CreateOauthConsumerTokens (20100525222447)
Migrating to CreateOrganizations (20100525233106)
Migrating to AddUsersToOrg (20100525234001)
Migrating to CreatePhoneNumbers (20100525235346)
Migrating to CreateExtensions (20100525235510)
Migrating to CreateMessages (20100525235616)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.9ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 22:28:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 239ms (View: 227, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 22:28:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 90ms (View: 70, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 22:29:03) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 62ms (View: 25, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 22:29:12) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '6ef4a9de9f77c32ac4d7b08e6eb8d3a98bdc124a', '2010-05-26 05:29:12', NULL, '27d939548601f288a13206a78baa6859afeac841', NULL, '2010-05-26 05:29:12', 'a53254c7c78dc9061cfe2191d357230c2c48aa63', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
Sent mail to sqrrrl@gmail.com

Date: Tue, 25 May 2010 22:29:12 -0700
From: registration@voice.saasyapp.com
To: sqrrrl@gmail.com
Subject: Confirm Registration for Voice MailPlease activate your new account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Your account has been created.

  Username: test
  Password: nutshell

Visit this url to activate your account:

  http://localhost:3000/activate/a53254c7c78dc9061cfe2191d357230c2c48aa63

NameError (undefined local variable or method `user' for #<UsersController:0x24385bc>):
  app/controllers/users_controller.rb:15:in `create'

Rendered rescues/_trace (164.6ms)
Rendered rescues/_request_and_response (6.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 22:31:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', 'df0d3936f8822bc0c543229f788c6689e6548c9a', '2010-05-26 05:31:21', NULL, '2aabd46b4a70e0a3b7a39c79ebcf10a97772773d', NULL, '2010-05-26 05:31:21', '106583b03e738864973288dab7a186bb006690d8', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m

NoMethodError (undefined method `activatve!' for #<User:0x12be9a8>):
  app/controllers/users_controller.rb:14:in `create'

Rendered rescues/_trace (95.8ms)
Rendered rescues/_request_and_response (3.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (62.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 22:32:51) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '59ead058f7b2703b8833ed705227d87378f7dac7', '2010-05-26 05:32:51', NULL, '7f0326413b8ab9ad7336ba6dc5d9170d0f263aa3', NULL, '2010-05-26 05:32:51', 'c29f825cfad4a328aa1837613b9567166d922944', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 05:32:51', "activated_at" = '2010-05-26 05:32:51', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 571ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 22:32:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 45ms (View: 34, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 22:32:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 36ms (View: 25, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 22:33:01) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 37ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 22:33:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new

ActionView::TemplateError (undefined method `phone' for #<Organization:0x234dd50>) on line #18 of app/views/organizations/new.html.erb:
15: 
16:   <p>
17:     <%= f.label :phone %><br />
18:     <%= f.text_field :phone %>
19:   </p>
20:   <p>
21:     <%= f.label :enabled %><br />

    app/views/organizations/new.html.erb:18
    app/views/organizations/new.html.erb:3
    app/controllers/organizations_controller.rb:30:in `new'

Rendered rescues/_trace (225.7ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 22:33:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 79ms (View: 27, DB: 2) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:33:54) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"", "enabled"=>"0"}}
WARNING: Can't mass-assign these protected attributes: enabled
Rendering template within layouts/application
Rendering organizations/new
  [4;35;1mUser Load (3.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 87ms (View: 48, DB: 3) | 200 OK [http://localhost/organizations]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:34:36) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"", "enabled"=>"0"}}
WARNING: Can't mass-assign these protected attributes: enabled

NoMethodError (undefined method `allocateNumber' for Twilio:Module):
  app/controllers/organizations_controller.rb:47:in `create'

Rendered rescues/_trace (183.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:35:33) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"", "enabled"=>"0"}}
WARNING: Can't mass-assign these protected attributes: enabled

NoMethodError (undefined method `allocateNumber' for Twilio:Module):
  app/controllers/organizations_controller.rb:47:in `create'

Rendered rescues/_trace (92.8ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:38:11) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"", "enabled"=>"0"}}
WARNING: Can't mass-assign these protected attributes: enabled

NoMethodError (undefined method `allocateNumber' for Twilio:Module):
  app/controllers/organizations_controller.rb:47:in `create'

Rendered rescues/_trace (198.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:39:06) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"", "enabled"=>"0"}}
WARNING: Can't mass-assign these protected attributes: enabled

NoMethodError (undefined method `allocateNumber' for #<OrganizationsController:0x25210b4>):
  app/controllers/organizations_controller.rb:49:in `create'

Rendered rescues/_trace (89.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:39:47) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"3K+fmlvZgFKKzHE7c/vX0nYOPOAXzb2fZTe8MiMAJto=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"", "enabled"=>"0"}}
WARNING: Can't mass-assign these protected attributes: enabled

NoMethodError (undefined method `allocateNumber' for Twilio:Module):
  app/controllers/organizations_controller.rb:48:in `create'

Rendered rescues/_trace (91.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-25 22:40:10) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 22:40:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 84ms (View: 71, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 22:40:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 22:40:17) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 41ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 22:40:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 102ms (View: 32, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:40:24) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}

NoMethodError (undefined method `allocateNumber' for Twilio:Module):
  app/controllers/organizations_controller.rb:48:in `create'

Rendered rescues/_trace (186.4ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#create (for 127.0.0.1 at 2010-05-25 22:43:40) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}

MissingSourceFile (no such file to load -- twilio):
  app/controllers/organizations_controller.rb:1

Rendered rescues/_trace (99.0ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:44:13) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}

NoMethodError (undefined method `allocateNumber' for TwilioClient:Module):
  app/controllers/organizations_controller.rb:48:in `create'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:44:35) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}

NoMethodError (undefined method `allocateNumber' for TwilioClient:Module):
  app/controllers/organizations_controller.rb:50:in `create'

Rendered rescues/_trace (90.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:44:48) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}
  [4;36;1mOrganization Create (0.9ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 05:44:48', '2010-05-26 05:44:48', '', NULL)[0m

NoMethodError (undefined method `phone_number' for #<PhoneNumber:0x229e288>):
  app/controllers/organizations_controller.rb:55:in `create'
  app/controllers/organizations_controller.rb:54:in `create'

Rendered rescues/_trace (173.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 22:45:27) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 05:45:27', '2010-05-26 05:45:27', '', NULL)[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-26 05:45:27', '2010-05-26 05:45:27', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 76ms (DB: 1) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 22:45:28) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show

ActionView::TemplateError (undefined method `phone' for #<Organization:0x2331218>) on line #13 of app/views/organizations/show.html.erb:
10: 
11: <p>
12:   <b>Phone:</b>
13:   <%=h @organization.phone %>
14: </p>
15: 
16: <p>

    app/views/organizations/show.html.erb:13
    app/controllers/organizations_controller.rb:21:in `show'

Rendered rescues/_trace (236.4ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 22:46:45) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 94ms (View: 59, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing OrganizationsController#edit (for 127.0.0.1 at 2010-05-25 22:46:50) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/edit
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 84ms (View: 51, DB: 2) | 200 OK [http://localhost/organizations/1/edit]


Processing OrganizationsController#update (for 127.0.0.1 at 2010-05-25 22:46:53) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "authenticity_token"=>"bwJ/dKSmEjEJdLh8ONBt8K5KWIEcSJcZoh94r8On+8o=", "id"=>"1", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/organizations/1
Completed in 42ms (DB: 1) | 302 Found [http://localhost/organizations/1]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 22:46:53) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 77ms (View: 43, DB: 3) | 200 OK [http://localhost/organizations/1]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (13.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (2.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-25 23:01:14) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:01:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 84ms (View: 72, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:01:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 90ms (View: 69, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 23:01:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '81194c6af6b5e2a9148cb4230aa841aaa285d842', '2010-05-26 06:01:23', NULL, '813c2840925720d5fcc86d637ca55e113a8746bd', NULL, '2010-05-26 06:01:23', '51524d9029ad497c4dee5c414274abd5e08d60ba', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 06:01:23', "activated_at" = '2010-05-26 06:01:23', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 404ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:01:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 23:01:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 39ms (View: 28, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 23:01:32) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 37ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 23:01:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 94ms (View: 29, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:01:40) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/models/phone_number.rb:9: syntax error, unexpected ')', expecting tASSOC
/Users/sbazyl/railsconf/voicemail/app/models/phone_number.rb:17: syntax error, unexpected $end, expecting kEND):
  app/controllers/organizations_controller.rb:51:in `create'

Rendered rescues/_trace (231.0ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:02:00) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}

NoMethodError (undefined method `phone_number' for nil:NilClass):
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (89.9ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:02:50) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/models/phone_number.rb:8:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (181.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:03:59) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/models/phone_number.rb:8:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (96.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (7.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:05:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 204ms (View: 182, DB: 1) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 23:05:32) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 61ms (View: 26, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 23:05:38) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (1.1ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', 'd86c460f3fd93df9bd94bbc24085ab857de0e1d0', '2010-05-26 06:05:38', NULL, 'c2bdc1012eb0fcf5a28a29e19d4a6317d75e3059', NULL, '2010-05-26 06:05:38', 'b9f167059e55f56fedc0fb770577979fd35165a1', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 06:05:38', "activated_at" = '2010-05-26 06:05:38', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 317ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:05:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 21, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 23:05:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 27, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 23:05:45) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 36ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 23:05:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 85ms (View: 30, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:05:52) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/models/phone_number.rb:8:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (184.9ms)
Rendered rescues/_request_and_response (6.2ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:08:44) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
  app/models/phone_number.rb:12:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (91.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:09:43) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `build_extension' for #<PhoneNumber:0x232d2d0>):
  app/models/phone_number.rb:11:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (212.4ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:10:09) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `build_extension' for #<PhoneNumber:0x24cb4c0>):
  app/models/phone_number.rb:11:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (90.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:10:34) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `build_extension' for #<PhoneNumber:0x233b2e0>):
  app/models/phone_number.rb:12:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (92.8ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:11:54) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `build_extension' for #<PhoneNumber:0x24e99c0>):
  app/models/phone_number.rb:12:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (92.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:12:48) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m

NoMethodError (undefined method `build_extension' for #<PhoneNumber:0x23b4884>):
  app/models/phone_number.rb:12:in `allocate_extension'
  app/controllers/organizations_controller.rb:52:in `create'

Rendered rescues/_trace (100.4ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:17:58) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/organizations_controller.rb:50:in `allocateNumber'
  app/controllers/organizations_controller.rb:50:in `create'

Rendered rescues/_trace (169.3ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:18:22) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}

NameError (undefined local variable or method `current_user' for #<Organization:0x24763e4>):
  app/models/organization.rb:17:in `before_create'
  app/controllers/organizations_controller.rb:50:in `create'
  app/controllers/organizations_controller.rb:49:in `create'

Rendered rescues/_trace (113.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:20:14) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}

NameError (undefined local variable or method `session' for #<Organization:0x22eecc4>):
  lib/authenticated_system.rb:108:in `login_from_session'
  lib/authenticated_system.rb:12:in `current_user'
  app/models/organization.rb:18:in `before_create'
  app/controllers/organizations_controller.rb:50:in `create'
  app/controllers/organizations_controller.rb:49:in `create'

Rendered rescues/_trace (208.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:25:17) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"TcmFDXmqUcoTP6Pi1pFe7gZyXpwBq6gBcWRVxnU6c8A=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mOrganization Create (0.8ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 06:25:17', '2010-05-26 06:25:17', 'gmail.com', NULL)[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 06:25:17', '2010-05-26 06:25:17', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 155ms (DB: 1) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 23:25:18) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 113ms (View: 78, DB: 3) | 200 OK [http://localhost/organizations/1]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.7ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (3.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-25 23:32:51) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:32:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 86ms (View: 74, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:32:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 63ms (View: 39, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 23:33:01) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '070268c74ab1e253c6f758c69fb44cd49db9df3d', '2010-05-26 06:33:01', NULL, '527252155489745c9141c65ebcf51979d6a388a0', NULL, '2010-05-26 06:33:01', '113458f4c1059ecc256292607cdb53b00e2e787e', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 06:33:01', "activated_at" = '2010-05-26 06:33:01', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 336ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:33:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-25 23:33:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 40ms (View: 29, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-25 23:33:07) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 38ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 23:33:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 92ms (View: 28, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:33:14) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m

NoMethodError (undefined method `extension' for #<User:0x222ea14>):
  app/models/organization.rb:19:in `before_create'
  app/models/organization.rb:18:in `before_create'
  app/controllers/organizations_controller.rb:51:in `create'
  app/controllers/organizations_controller.rb:50:in `create'

Rendered rescues/_trace (231.9ms)
Rendered rescues/_request_and_response (3.7ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:33:44) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 06:33:44', '2010-05-26 06:33:44', 'gmail.com', NULL)[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 06:33:44', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.5ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 06:33:44', '2010-05-26 06:33:44', 0, 1)[0m
  [4;35;1mExtension Create (0.4ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "created_at", "updated_at", "user_id") VALUES(2, 1, '2010-05-26 06:33:44', '2010-05-26 06:33:44', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 208ms (DB: 5) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 23:33:44) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 96ms (View: 59, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing UsersController#show (for 127.0.0.1 at 2010-05-25 23:37:12) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}

ActionController::UnknownAction (No action responded to show. Actions: activate, create, and new):
  

Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2010-05-25 23:37:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

ActionController::UnknownAction (No action responded to index. Actions: activate, create, and new):
  

Rendering rescues/layout (not_found)


Processing OrganizationsController#index (for 127.0.0.1 at 2010-05-25 23:37:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"organizations"}
  [4;35;1mOrganization Load (1.3ms)[0m   [0mSELECT * FROM "organizations" [0m
Rendering template within layouts/application
Rendering organizations/index

ActionView::TemplateError (undefined method `phone' for #<Organization:0x2421fec>) on line #15 of app/views/organizations/index.html.erb:
12:   <tr>
13:     <td><%=h organization.name %></td>
14:     <td><%=h organization.domain %></td>
15:     <td><%=h organization.phone %></td>
16:     <td><%=h organization.enabled %></td>
17:     <td><%= link_to 'Show', organization %></td>
18:     <td><%= link_to 'Edit', edit_organization_path(organization) %></td>

    app/views/organizations/index.html.erb:15
    app/views/organizations/index.html.erb:11:in `each'
    app/views/organizations/index.html.erb:11
    app/controllers/organizations_controller.rb:10:in `index'

Rendered rescues/_trace (124.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 23:37:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 66ms (View: 12, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:37:41) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.8ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 06:37:41', '2010-05-26 06:37:41', 'gmail.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 06:37:41', "organization_id" = 2 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.5ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/2
Completed in 149ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 23:37:41) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;35;1mPhoneNumber Load (0.4ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 2) LIMIT 1[0m

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #13 of app/views/organizations/show.html.erb:
10: 
11: <p>
12:   <b>Phone:</b>
13:   <%=h @organization.phone_number.number %>
14: </p>
15: 
16: 

    app/views/organizations/show.html.erb:13
    app/controllers/organizations_controller.rb:21:in `show'

Rendered rescues/_trace (122.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (10.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.3ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (2.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:38:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 179ms (View: 166, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:41:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 64ms (View: 43, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-25 23:41:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrl@gmail.com"}}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '5777c3896652d91c726af43dad0b7f7298c01b3d', '2010-05-26 06:41:21', NULL, '477874b68c3fa7d8eb88fc7e920785d2a6eeb3df', NULL, '2010-05-26 06:41:21', '610a353ba6f3026635b079da443efbb53fadab47', NULL, 'test', NULL, 'sqrrl@gmail.com')[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 06:41:22', "activated_at" = '2010-05-26 06:41:21', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 314ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:41:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 35ms (View: 22, DB: 1) | 200 OK [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-25 23:42:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 80ms (View: 28, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-25 23:42:15) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"zrm7jI+Sb25C3bUnBHqMb4d0VuxWUuVXc3sGqYxxKXc=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"gmail.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 06:42:15', '2010-05-26 06:42:15', 'gmail.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 06:42:15', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.4ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.4ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 06:42:15', '2010-05-26 06:42:15', 0, 1)[0m
  [4;35;1mExtension Create (0.3ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "created_at", "updated_at", "user_id") VALUES(2, 1, '2010-05-26 06:42:15', '2010-05-26 06:42:15', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 162ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-25 23:42:15) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 93ms (View: 56, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing UsersController#index (for 127.0.0.1 at 2010-05-25 23:42:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"users", "organization_id"=>"1"}

ActionController::UnknownAction (No action responded to index. Actions: activate, create, and new):
  

Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2010-05-25 23:46:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"users", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 134ms (View: 68, DB: 4) | 200 OK [http://localhost/organizations/1/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-25 23:47:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"users", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 118ms (View: 58, DB: 4) | 200 OK [http://localhost/organizations/1/users]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:47:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
Rendering template within layouts/application
Rendering users/new
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 41ms (View: 20, DB: 1) | 200 OK [http://localhost/organizations/1/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:49:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 88ms (View: 25, DB: 2) | 200 OK [http://localhost/organizations/1/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:52:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 94ms (View: 27, DB: 2) | 200 OK [http://localhost/organizations/1/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:53:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 93ms (View: 25, DB: 2) | 200 OK [http://localhost/organizations/1/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:54:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 91ms (View: 25, DB: 2) | 200 OK [http://localhost/organizations/1/users/new]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:55:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/new
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 83ms (View: 20, DB: 2) | 200 OK [http://localhost/organizations/1/users/new]


Processing HomeController#index (for 127.0.0.1 at 2010-05-25 23:57:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 123ms (View: 110, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-05-25 23:57:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"users", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 967ms (View: 61, DB: 5) | 200 OK [http://localhost/organizations/1/users]


Processing UsersController#new (for 127.0.0.1 at 2010-05-25 23:57:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"users", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined local variable or method `users_path' for #<ActionView::Base:0x2315bbc>) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <%= error_messages_for :user %>
5: <% form_for :user, :url => users_path do |f| -%>
6: <p><%= label_tag 'login' %><br/>
7: <%= f.text_field :login %></p>
8: 

    app/views/users/new.html.erb:5

Rendered rescues/_trace (244.1ms)
Rendered rescues/_request_and_response (3.3ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:27:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 63ms (View: 50, DB: 2) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 11:27:10) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:27:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:27:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new

ActionView::TemplateError (undefined local variable or method `session_path' for #<ActionView::Base:0x233fda4>) on line #3 of app/views/sessions/new.html.erb:
1: <h1>Log In</h1>
2: 
3: <% form_tag session_path do -%>
4: <p><%= label_tag 'login' %><br />
5: <%= text_field_tag 'login', @login %></p>
6: 

    app/views/sessions/new.html.erb:3

Rendered rescues/_trace (215.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:27:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new

ActionView::TemplateError (undefined local variable or method `session_path' for #<ActionView::Base:0x249d32c>) on line #3 of app/views/sessions/new.html.erb:
1: <h1>Log In</h1>
2: 
3: <% form_tag session_path do -%>
4: <p><%= label_tag 'login' %><br />
5: <%= text_field_tag 'login', @login %></p>
6: 

    app/views/sessions/new.html.erb:3

Rendered rescues/_trace (109.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:27:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new

ActionView::TemplateError (undefined local variable or method `session_path' for #<ActionView::Base:0x2301798>) on line #3 of app/views/sessions/new.html.erb:
1: <h1>Log In</h1>
2: 
3: <% form_tag session_path do -%>
4: <p><%= label_tag 'login' %><br />
5: <%= text_field_tag 'login', @login %></p>
6: 

    app/views/sessions/new.html.erb:3

Rendered rescues/_trace (210.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:28:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 164ms (View: 153, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 11:28:43) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"X8CJaZ3sSt3M5svTAbSMvEJzhDyD5j41ITe0yGFswXI=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/
Completed in 950ms (DB: 3) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:28:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 68ms (View: 54, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:29:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 109ms (View: 97, DB: 1) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:29:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 56ms (View: 44, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 11:29:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}

ActiveRecord::RecordNotFound (Couldn't find Organization without an ID):
  app/controllers/users_controller.rb:16:in `new'

Rendered rescues/_trace (98.0ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 11:30:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined local variable or method `users_path' for #<ActionView::Base:0x2545a04>) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <%= error_messages_for :user %>
5: <% form_for :user, :url => users_path do |f| -%>
6: <p><%= label_tag 'login' %><br/>
7: <%= f.text_field :login %></p>
8: 

    app/views/users/new.html.erb:5

Rendered rescues/_trace (111.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 11:31:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 197ms (View: 175, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 11:31:12) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"X8CJaZ3sSt3M5svTAbSMvEJzhDyD5j41ITe0yGFswXI=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '22b15e235cfae494811ed0de6aa35c7466d2bdfa', '2010-05-26 18:31:12', NULL, '08fa63fb1f36f1ee1cecd7fbd6635b5300e7fe4b', NULL, '2010-05-26 18:31:12', '171e65a6edb61edaccce532e2fe25f50e53d9250', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 18:31:12', "activated_at" = '2010-05-26 18:31:12', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 424ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:31:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 51ms (View: 38, DB: 2) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 11:31:50) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:31:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:31:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 27, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 11:31:55) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"J6pxGhvjDfRqoKSwWO2t02ThpAx8cTfTVO3WBF7ouBA=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m

ActionController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/application_controller.rb:23:in `ensure_setup'

Rendered rescues/_trace (103.4ms)
Rendered rescues/_request_and_response (3.9ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 11:32:30) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"J6pxGhvjDfRqoKSwWO2t02ThpAx8cTfTVO3WBF7ouBA=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Completed in 32ms (DB: 2) | 302 Found [http://localhost/session]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 11:32:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (2.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 94ms (View: 34, DB: 3) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 11:32:43) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"J6pxGhvjDfRqoKSwWO2t02ThpAx8cTfTVO3WBF7ouBA=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"google.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('Test Domain', '2010-05-26 18:32:43', '2010-05-26 18:32:43', 'google.com', NULL)[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 18:32:43', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 18:32:43', '2010-05-26 18:32:43', 0, 1)[0m
  [4;36;1mExtension Create (0.4ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "created_at", "updated_at", "user_id") VALUES(2, 1, '2010-05-26 18:32:43', '2010-05-26 18:32:43', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 212ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 11:32:43) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mOrganization Load (0.7ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 131ms (View: 91, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 11:32:52) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:32:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 11:32:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 38ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 11:33:03) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"7IUr5XQnvhidoH4k3PmwASuI0aqHdNTQAJSchfUdXRc=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sbazyl@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 60ms (View: 25, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 11:33:15) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"7IUr5XQnvhidoH4k3PmwASuI0aqHdNTQAJSchfUdXRc=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sbazyl@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '80ca0ea1babc903c60e1037bdc3b37dae4e5ca24', '2010-05-26 18:33:15', NULL, 'b145de513d74eeb5bcdf437c384c1eb45e10c81e', NULL, '2010-05-26 18:33:15', 'b15f7053fe93058dc018cfdd9f6922797e7b0343', NULL, 'test2', NULL, 'sbazyl@google.com')[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 18:33:15', "activated_at" = '2010-05-26 18:33:15', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 55ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:33:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 18:33:15', "organization_id" = 1 WHERE "id" = 2[0m
Rendering template within layouts/application
Rendering home/index
Completed in 93ms (View: 3, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:35:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m

NameError (uninitialized constant ApplicationController::RAILS_LOGGER):
  app/controllers/application_controller.rb:28:in `ensure_setup'

Rendered rescues/_trace (193.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:35:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (1.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "created_at", "updated_at", "user_id") VALUES(2, 1, '2010-05-26 18:35:42', '2010-05-26 18:35:42', 2)[0m
Rendering template within layouts/application
Rendering home/index
Completed in 144ms (View: 10, DB: 5) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.6ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (2.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (1.2ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 11:46:00) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:46:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 86ms (View: 73, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 11:46:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 59ms (View: 39, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 11:46:14) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"nzoTzdLjg8OpXgB1zdsopVj70kFlfa0/JsjqhtqTTu4=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (214.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '0a7e1987a2038f09cc081854f5d9429c34bebc0c', '2010-05-26 18:46:14', NULL, '15e773ce8df900006a4ea8d587530b9543e1c3e7', NULL, '2010-05-26 18:46:14', '2f6cb514bfa79540a65d9e1bb155aa68ab946847', NULL, 'test', NULL, 'sqrrl@gmail.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 18:46:15', "activated_at" = '2010-05-26 18:46:15', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 955ms (DB: 216) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:46:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organization/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 805ms (DB: 2) | 302 Found [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-26 11:46:16) [GET]

ActionController::RoutingError (No route matches "/organization/new" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 11:46:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 85ms (View: 29, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:46:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.4ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 73ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 11:46:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 67ms (View: 14, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 11:47:02) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"nzoTzdLjg8OpXgB1zdsopVj70kFlfa0/JsjqhtqTTu4=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"google.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 18:47:02', '2010-05-26 18:47:02', 'google.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 18:47:02', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 18:47:02', '2010-05-26 18:47:02', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 115ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 11:47:02) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 97ms (View: 58, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 11:47:28) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:47:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 11:47:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 37ms (View: 18, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 11:47:40) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"ctTNIvpS6T37PXSjlRtwcfPXOdCLmQ/yA27Xm4LORV0=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sbazyl@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '26210b54d5f01b5b77620227eaa7570cd5fad2a2', '2010-05-26 18:47:40', NULL, 'ca1cb364b016cbbe92b41e6692db2456033a4fa1', NULL, '2010-05-26 18:47:40', '10f85ece8d69244cb8811d1ccc3f4268555066e5', NULL, 'test2', NULL, 'sbazyl@google.com')[0m
  [4;35;1mUser Update (2.1ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 18:47:40', "activated_at" = '2010-05-26 18:47:40', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 150ms (DB: 3) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:47:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 18:47:41', "organization_id" = 1 WHERE "id" = 2[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m

ArgumentError (wrong number of arguments (1 for 0)):
  app/models/phone_number.rb:18:in `save!'
  app/models/phone_number.rb:18:in `allocate_extension!'
  app/models/phone_number.rb:17:in `allocate_extension!'
  app/controllers/application_controller.rb:28:in `ensure_setup'

Rendered rescues/_trace (123.6ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:48:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798' AND "phone_numbers".id <> 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.9ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "created_at", "updated_at", "user_id") VALUES(2, 1, '2010-05-26 18:48:09', '2010-05-26 18:48:09', 2)[0m
Rendering template within layouts/application
Rendering home/index
Completed in 146ms (View: 9, DB: 5) | 200 OK [http://localhost/]


Processing UsersController#show (for 127.0.0.1 at 2010-05-26 11:48:22) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"users"}

ActionController::UnknownAction (No action responded to show. Actions: activate, create, index, invite, and new):
  

Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 11:48:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"users", "organization_id"=>"1"}
  [4;35;1mOrganization Load (1.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.8ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Completed in 141ms (View: 75, DB: 7) | 200 OK [http://localhost/organizations/1/users]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 11:48:40) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:48:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 11:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 483ms (View: 470, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 11:48:45) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"LhCNNFYgIDPHLZiIh62HkRZ2g/2T4wRee56+Da3uUDg=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/
Completed in 77ms (DB: 3) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 11:48:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798' AND "phone_numbers".id <> 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "created_at", "updated_at", "user_id") VALUES(2, 1, '2010-05-26 18:48:46', '2010-05-26 18:48:46', 1)[0m
Rendering template within layouts/application
Rendering home/index
Completed in 144ms (View: 9, DB: 4) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 11:48:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"users", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 119ms (View: 53, DB: 7) | 200 OK [http://localhost/organizations/1/users]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-26 11:51:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}

NameError (uninitialized constant ExtensionsController):
  

Rendered rescues/_trace (82.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 11:58:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #10 of app/views/extensions/index.html.erb:
7:     <th>Extension</th>
8:   </tr>
9: 
10: <% @extnesons.each do |extension| %>
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>

    app/views/extensions/index.html.erb:10

Rendered rescues/_trace (116.2ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 11:58:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (2.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.3ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (3.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 185ms (View: 67, DB: 11) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 11:59:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m

ActionView::MissingTemplate (Missing template extensions/new.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 12:03:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m

ActiveRecord::RecordNotFound (Couldn't find Organization with ID=1):
  app/controllers/extensions_controller.rb:9:in `new'

Rendered rescues/_trace (102.1ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 12:03:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 128ms (View: 33, DB: 1) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 12:03:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."remember_token" = '') LIMIT 1[0m
Completed in 62ms (View: 42, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 12:03:36) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"LhCNNFYgIDPHLZiIh62HkRZ2g/2T4wRee56+Da3uUDg=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (386.5ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', 'bda81aa1721d0d5e631cb6db69b496453179dafa', '2010-05-26 19:03:37', NULL, '17aaeca44978f8197f183a98903dc7309dd194e9', NULL, '2010-05-26 19:03:37', 'b7d4cc9239acdef416ededae93a7445e801f27d8', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 19:03:38', "activated_at" = '2010-05-26 19:03:38', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 1509ms (DB: 388) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 12:03:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.4ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 91ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 12:03:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 108ms (View: 33, DB: 3) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 12:03:43) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"LhCNNFYgIDPHLZiIh62HkRZ2g/2T4wRee56+Da3uUDg=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"google.com"}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (1.1ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 19:03:43', '2010-05-26 19:03:43', 'google.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 19:03:43', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.5ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 19:03:43', '2010-05-26 19:03:43', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 113ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 12:03:43) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 94ms (View: 58, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:03:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.6ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 137ms (View: 41, DB: 4) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 12:03:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 185ms (View: 106, DB: 3) | 200 OK [http://localhost/organizations/1/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 12:17:21) [POST]
  Parameters: {"commit"=>"Create", "extension"=>{"number"=>"3", "forward_to"=>""}, "action"=>"create", "authenticity_token"=>"LhCNNFYgIDPHLZiIh62HkRZ2g/2T4wRee56+Da3uUDg=", "controller"=>"extensions", "organization_id"=>"1"}

NoMethodError (undefined method `stringify_keys!' for "1":String):
  app/controllers/extensions_controller.rb:48:in `new'
  app/controllers/extensions_controller.rb:48:in `create'

Rendered rescues/_trace (92.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 12:18:24) [POST]
  Parameters: {"commit"=>"Create", "extension"=>{"number"=>"3", "forward_to"=>""}, "action"=>"create", "authenticity_token"=>"LhCNNFYgIDPHLZiIh62HkRZ2g/2T4wRee56+Da3uUDg=", "controller"=>"extensions", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.1ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES('3', 1, '', '2010-05-26 19:18:24', '2010-05-26 19:18:24', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 137ms (DB: 4) | 302 Found [http://localhost/organizations/1/extensions]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 12:18:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 93ms (View: 52, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:18:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 148ms (View: 44, DB: 5) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 12:20:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 146ms (View: 68, DB: 3) | 200 OK [http://localhost/organizations/1/extensions/new]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 12:20:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/show

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #13 of app/views/extensions/show.html.erb:
10: 
11: <p>
12:   <b>Extension:</b>
13:   <%=h @extension.number %>
14: </p>
15: 
16: <p>

    app/views/extensions/show.html.erb:13
    app/controllers/extensions_controller.rb:21:in `show'

Rendered rescues/_trace (212.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 12:20:35) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions", "organization_id"=>"1"}
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/show

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #13 of app/views/extensions/show.html.erb:
10: 
11: <p>
12:   <b>Extension:</b>
13:   <%=h @extension.number %>
14: </p>
15: 
16: <p>

    app/views/extensions/show.html.erb:13
    app/controllers/extensions_controller.rb:21:in `show'

Rendered rescues/_trace (125.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 12:20:37) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (1.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/show

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #13 of app/views/extensions/show.html.erb:
10: 
11: <p>
12:   <b>Extension:</b>
13:   <%=h @extension.number %>
14: </p>
15: 
16: <p>

    app/views/extensions/show.html.erb:13
    app/controllers/extensions_controller.rb:21:in `show'

Rendered rescues/_trace (122.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:20:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 132ms (View: 34, DB: 6) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:25:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
ERROR: compiling _run_erb_app47views47extensions47index46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/extensions/index.html.erb:14: syntax error, unexpected ';', expecting ')'
...anization,@extension) ).to_s); @output_buffer.concat "</td>\...
                              ^
Function body:           def _run_erb_app47views47extensions47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Extensions in "; @output_buffer.concat(( @organization.name ).to_s); @output_buffer.concat "</h1>\n\n<table>\n  <tr>\n    <th>Username</th>\n    <th>Email</th>\n    <th>Extension</th>\n  </tr>\n\n"








;  @extensions.each do |extension| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h extension.user.login unless extension.user.nil?).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h extension.user.email unless extension.user.nil? ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to(extension.number, edit_organization_extensions_path(@organization,@extension) ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/extensions/index.html.erb:23:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:9:in `index'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/extensions/index.html.erb:14: syntax error, unexpected ';', expecting ')'
...anization,@extension) ).to_s); @output_buffer.concat "</td>\...
                              ^) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to(extension.number, edit_organization_extensions_path(@organization,@extension) %></td>
15:   </tr>
16: <% end %>
17: </table>

    app/views/extensions/index.html.erb:23:in `compile!'
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (120.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:25:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
ERROR: compiling _run_erb_app47views47extensions47index46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/extensions/index.html.erb:14: syntax error, unexpected ';', expecting ')'
...anization,@extension) ).to_s); @output_buffer.concat "</td>\...
                              ^
Function body:           def _run_erb_app47views47extensions47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Extensions in "; @output_buffer.concat(( @organization.name ).to_s); @output_buffer.concat "</h1>\n\n<table>\n  <tr>\n    <th>Username</th>\n    <th>Email</th>\n    <th>Extension</th>\n  </tr>\n\n"








;  @extensions.each do |extension| ; @output_buffer.concat "\n  <tr>\n    <td>"

; @output_buffer.concat((h extension.user.login unless extension.user.nil?).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat((h extension.user.email unless extension.user.nil? ).to_s); @output_buffer.concat "</td>\n    <td>"
; @output_buffer.concat(( link_to("#{extension.number}", edit_organization_extensions_path(@organization,@extension) ).to_s); @output_buffer.concat "</td>\n  </tr>\n"

;  end ; @output_buffer.concat "\n</table>\n\n<br />\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/extensions/index.html.erb:23:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:9:in `index'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/extensions/index.html.erb:14: syntax error, unexpected ';', expecting ')'
...anization,@extension) ).to_s); @output_buffer.concat "</td>\...
                              ^) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", edit_organization_extensions_path(@organization,@extension) %></td>
15:   </tr>
16: <% end %>
17: </table>

    app/views/extensions/index.html.erb:23:in `compile!'
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (207.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:25:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.3ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `edit_organization_extensions_path' for #<ActionView::Base:0x24e125c>) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", edit_organization_extensions_path(@organization,@extension)) %></td>
15:   </tr>
16: <% end %>
17: </table>

    app/views/extensions/index.html.erb:14
    app/views/extensions/index.html.erb:10
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (131.0ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:25:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (edit_organization_extension_url failed to generate from {:organization_id=>#<Organization id: 1, name: "test Domain", domain: "google.com", enabled: nil, created_at: "2010-05-26 19:03:43", updated_at: "2010-05-26 19:03:43">, :controller=>"extensions", :action=>"edit", :id=>nil}, expected: {:controller=>"extensions", :action=>"edit"}, diff: {:organization_id=>#<Organization id: 1, name: "test Domain", domain: "google.com", enabled: nil, created_at: "2010-05-26 19:03:43", updated_at: "2010-05-26 19:03:43">, :id=>nil}) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", edit_organization_extension_path(@organization,@extension)) %></td>
15:   </tr>
16: <% end %>
17: </table>

    (eval):16:in `edit_organization_extension_path'
    app/views/extensions/index.html.erb:14
    app/views/extensions/index.html.erb:10
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (145.3ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:30:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 142ms (View: 46, DB: 5) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:30:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 129ms (View: 37, DB: 5) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:31:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (6.6ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (organization_extension_url failed to generate from {:organization_id=>#<Organization id: 1, name: "test Domain", domain: "google.com", enabled: nil, created_at: "2010-05-26 19:03:43", updated_at: "2010-05-26 19:03:43">, :controller=>"extensions", :action=>"show", :id=>nil}, expected: {:controller=>"extensions", :action=>"show"}, diff: {:organization_id=>#<Organization id: 1, name: "test Domain", domain: "google.com", enabled: nil, created_at: "2010-05-26 19:03:43", updated_at: "2010-05-26 19:03:43">, :id=>nil}) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", organization_extension_path(@organization,@extension)) %></td>
15:   </tr>
16: <% end %>
17: </table>

    (eval):16:in `organization_extension_path'
    app/views/extensions/index.html.erb:14
    app/views/extensions/index.html.erb:10
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (234.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:31:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `extension_path' for #<ActionView::Base:0x24f9320>) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", extension_path(@organization,@extension)) %></td>
15:   </tr>
16: <% end %>
17: </table>

    app/views/extensions/index.html.erb:14
    app/views/extensions/index.html.erb:10
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (128.6ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:31:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (edit_organization_extension_url failed to generate from {:organization_id=>#<Organization id: 1, name: "test Domain", domain: "google.com", enabled: nil, created_at: "2010-05-26 19:03:43", updated_at: "2010-05-26 19:03:43">, :controller=>"extensions", :action=>"edit", :id=>nil}, expected: {:controller=>"extensions", :action=>"edit"}, diff: {:organization_id=>#<Organization id: 1, name: "test Domain", domain: "google.com", enabled: nil, created_at: "2010-05-26 19:03:43", updated_at: "2010-05-26 19:03:43">, :id=>nil}) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", edit_organization_extension_path(@organization,@extension)) %></td>
15:   </tr>
16: <% end %>
17: </table>

    (eval):16:in `edit_organization_extension_path'
    app/views/extensions/index.html.erb:14
    app/views/extensions/index.html.erb:10
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (143.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:32:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 162ms (View: 56, DB: 8) | 200 OK [http://localhost/organizations/1/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 12:32:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions", "organization_id"=>"1"}
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/show

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #13 of app/views/extensions/show.html.erb:
10: 
11: <p>
12:   <b>Extension:</b>
13:   <%=h @extension.number %>
14: </p>
15: 
16: <p>

    app/views/extensions/show.html.erb:13
    app/controllers/extensions_controller.rb:21:in `show'

Rendered rescues/_trace (122.1ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 12:34:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions", "organization_id"=>"1"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
' AND ("extensions".phone_number_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Extension with ID=id AND ("extensions".phone_number_id = 1)):
  app/controllers/extensions_controller.rb:19:in `show'

Rendered rescues/_trace (204.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (not_found)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:42:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined method `organization_extension_path' for #<ActionView::Base:0x13a4f20>) on line #14 of app/views/extensions/index.html.erb:
11:   <tr>
12:     <td><%=h extension.user.login unless extension.user.nil?%></td>
13:     <td><%=h extension.user.email unless extension.user.nil? %></td>
14:     <td><%= link_to("#{extension.number}", organization_extension_path(@organization,extension)) %></td>
15:   </tr>
16: <% end %>
17: </table>

    app/views/extensions/index.html.erb:14
    app/views/extensions/index.html.erb:10
    app/controllers/extensions_controller.rb:9:in `index'

Rendered rescues/_trace (230.2ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 12:42:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 144ms (View: 37, DB: 5) | 200 OK [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 12:42:32) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
' AND ("extensions".phone_number_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Extension with ID=id AND ("extensions".phone_number_id = 1)):
  app/controllers/extensions_controller.rb:19:in `show'

Rendered rescues/_trace (102.2ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (not_found)


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 13:42:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/1/edit
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/extensions_controller.rb:35:in `new'

Rendered rescues/_trace (104.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 13:45:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/1/edit
Filter chain halted as [:check_extension] rendered_or_redirected.
Completed in 32ms (DB: 2) | 302 Found [http://localhost/extensions/new]


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 13:45:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
' AND ("extensions".phone_number_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Extension with ID=id AND ("extensions".phone_number_id = 1)):
  app/controllers/extensions_controller.rb:45:in `edit'

Rendered rescues/_trace (181.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:46:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 120ms (View: 33, DB: 3) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 13:46:29) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:46:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 13:46:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 64ms (View: 45, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 13:46:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"BA7uMTUybUzCE4zDQySz+KIDgY3oMVZRQYkb4J4Cm8Q=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sbazyl@google.com"}}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;35;1mUser Create (0.9ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '634afcfde13053940fc9d00884c4b8842ac71fa3', '2010-05-26 20:46:46', NULL, '92ad8616b40cdb86982973e96a27b5634876a712', NULL, '2010-05-26 20:46:46', '6da7dbbb75b14b0d372f0c3c1fa34781a0f0d7a0', NULL, 'test2', NULL, 'sbazyl@google.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 20:46:46', "activated_at" = '2010-05-26 20:46:46', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 449ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:46:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 20:46:46', "organization_id" = 1 WHERE "id" = 2[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798' AND "phone_numbers".id <> 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(2, 1, NULL, '2010-05-26 20:46:46', '2010-05-26 20:46:46', 2)[0m
Rendering template within layouts/application
Rendering home/index
Completed in 156ms (View: 3, DB: 5) | 200 OK [http://localhost/]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 13:46:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.1ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 132ms (View: 26, DB: 7) | 200 OK [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 13:46:57) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = '--- :id
' AND ("extensions".phone_number_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Extension with ID=id AND ("extensions".phone_number_id = 1)):
  app/controllers/extensions_controller.rb:21:in `show'

Rendered rescues/_trace (208.0ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (not_found)


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 13:50:49) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (2.2ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show

ActionView::TemplateError (undefined method `edit_organization_extension_path' for #<ActionView::Base:0x243e854>) on line #22 of app/views/extensions/show.html.erb:
19: </p>
20: 
21: 
22: <%= link_to 'Edit', edit_organization_extension_path(@organization, @extension) %> |

    app/views/extensions/show.html.erb:22
    app/controllers/extensions_controller.rb:23:in `show'

Rendered rescues/_trace (123.7ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 13:51:11) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 140ms (View: 29, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 13:51:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m

ActionView::MissingTemplate (Missing template extensions/edit.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 13:52:20) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/edit
Completed in 149ms (View: 42, DB: 4) | 200 OK [http://localhost/extensions/2/edit]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 13:52:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/2/edit
Filter chain halted as [:check_extension] rendered_or_redirected.
Completed in 125ms (DB: 2) | 302 Found [http://localhost/extensions/new]


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 13:52:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (1.6ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/edit
Completed in 140ms (View: 26, DB: 5) | 200 OK [http://localhost/extensions/2/edit]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 13:52:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 132ms (View: 26, DB: 7) | 200 OK [http://localhost/extensions/]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 13:52:51) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 128ms (View: 18, DB: 4) | 200 OK [http://localhost/extensions/1]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 13:52:59) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 11ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:53:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 13:53:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 37ms (View: 18, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 13:53:09) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"89ullGxZcSsc9uZ7Q9+opMAVFfg9/exlhVWOs83HUBU=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test3", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test3') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', 'ca1f5c414721318ac6a220abbfde5baed0bf7931', '2010-05-26 20:53:09', NULL, '854ff8c2b5354815141d4a9a6c6e29564abfa411', NULL, '2010-05-26 20:53:09', 'e377890efb13934e53a181ae9668bdcd65df215b', NULL, 'test3', NULL, 'foo@google.com')[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 20:53:09', "activated_at" = '2010-05-26 20:53:09', "activation_code" = NULL WHERE "id" = 3[0m
Redirected to http://localhost:3000/
Completed in 55ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:53:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 20:53:09', "organization_id" = 1 WHERE "id" = 3[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
  [4;36;1mPhoneNumber Load (1.2ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798' AND "phone_numbers".id <> 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(2, 1, NULL, '2010-05-26 20:53:09', '2010-05-26 20:53:09', 3)[0m
Rendering template within layouts/application
Rendering home/index
Completed in 157ms (View: 3, DB: 5) | 200 OK [http://localhost/]


Processing ExtensionsController#index (for 127.0.0.1 at 2010-05-26 13:53:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"extensions"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.6ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/index
  [4;36;1mExtension Load (1.8ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".phone_number_id = 1) [0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) [0m
Completed in 180ms (View: 37, DB: 10) | 200 OK [http://localhost/extensions]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 13:54:03) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:54:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 13:54:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 42ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 13:54:19) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"FyW+VgnaAPxx2hlRRsh5BahZbiRTaiJ4G5hh5o2z5Qk=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test4", "email"=>"bar@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test4') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '67cfe9c4bdee32d9cfb44f209b2040117ceebdd5', '2010-05-26 20:54:19', NULL, 'becbbe38f11cf5a5d3de33f496059c439ec6d5a5', NULL, '2010-05-26 20:54:19', '62f60f39f211469c8db88dbde58458d7404acda2', NULL, 'test4', NULL, 'bar@google.com')[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 20:54:19', "activated_at" = '2010-05-26 20:54:19', "activation_code" = NULL WHERE "id" = 4[0m
Redirected to http://localhost:3000/
Completed in 52ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:54:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 20:54:19', "organization_id" = 1 WHERE "id" = 4[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 92ms (DB: 3) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 13:54:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (3.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/new
Completed in 289ms (View: 159, DB: 6) | 200 OK [http://localhost/extensions/new]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 13:57:44) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:57:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 157ms (View: 146, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 13:57:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 63ms (View: 44, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 13:57:54) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"1IxcYSGU6of1bnX5YHJutTqW7ZhvGddsHGA2TeeZAt8=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '7990456c7ac6d03bf1bdeb96b157227ab3d95210', '2010-05-26 20:57:54', NULL, 'c8ce7dbd05d9a29559a2d7c461e3d463c999e70a', NULL, '2010-05-26 20:57:54', '84f8cbb3d299947e01eca1b9c92862c658b4076a', NULL, 'test', NULL, 'foo@google.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 20:57:54', "activated_at" = '2010-05-26 20:57:54', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 312ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:57:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 889ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 13:57:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (2.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 80ms (View: 28, DB: 3) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 13:58:03) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"1IxcYSGU6of1bnX5YHJutTqW7ZhvGddsHGA2TeeZAt8=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"google.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.7ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 20:58:03', '2010-05-26 20:58:03', 'google.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 20:58:03', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 20:58:03', '2010-05-26 20:58:03', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 111ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 13:58:03) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering organizations/show
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 110ms (View: 73, DB: 3) | 200 OK [http://localhost/organizations/1]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 13:58:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 77ms (DB: 3) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 13:58:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798' AND "phone_numbers".id <> 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.5ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(2, 1, NULL, '2010-05-26 20:58:26', '2010-05-26 20:58:26', 1)[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1 AND "extensions".id <> 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/new

ActionView::TemplateError (undefined method `true_class_path' for #<ActionView::Base:0x24937a0>) on line #5 of app/views/extensions/new.html.erb:
2: 
3: <p>Your company phone number is <%=h @organization.phone_number.number %></p>
4: 
5: <% form_for(@extension) do |f| %>
6:   <%= f.error_messages %>
7: 
8:   <p>

    app/views/extensions/new.html.erb:5
    app/controllers/extensions_controller.rb:35:in `new'

Rendered rescues/_trace (215.8ms)
Rendered rescues/_request_and_response (4.0ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 13:59:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/1/edit
Filter chain halted as [:check_extension] rendered_or_redirected.
Completed in 34ms (DB: 2) | 302 Found [http://localhost/extensions/new]


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 13:59:42) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/edit
Completed in 142ms (View: 34, DB: 4) | 200 OK [http://localhost/extensions/1/edit]


Processing ApplicationController#new (for 127.0.0.1 at 2010-05-26 14:12:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:105: syntax error, unexpected kEND, expecting $end):
  

Rendered rescues/_trace (86.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 14:14:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/1/edit
Filter chain halted as [:check_extension] rendered_or_redirected.
Completed in 126ms (DB: 2) | 302 Found [http://localhost/extensions/new]


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 14:14:02) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/edit
Completed in 130ms (View: 25, DB: 4) | 200 OK [http://localhost/extensions/1/edit]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 14:14:07) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 14:14:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 14:14:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 37ms (View: 18, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 14:14:18) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 64ms (View: 30, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 14:14:27) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"bar@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bar@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '84227b6c1d5d172f2c124fd4cd612125bf3c0f26', '2010-05-26 21:14:27', NULL, '47c54beda7e94328a36660713eda88d17f0d5b2c', NULL, '2010-05-26 21:14:27', '341170d998d20392622249fab8a42fae2fcb1ee4', NULL, 'test2', NULL, 'bar@google.com')[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 21:14:27', "activated_at" = '2010-05-26 21:14:27', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 142ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 14:14:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 21:14:27', "organization_id" = 1 WHERE "id" = 2[0m
  [4;35;1mExtension Load (0.7ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 92ms (DB: 3) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 14:14:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (1.5ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 137ms (View: 49, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:14:43) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.5ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m

ArgumentError (too few arguments):
  app/controllers/extensions_controller.rb:66:in `format'
  app/controllers/extensions_controller.rb:66:in `create'

Rendered rescues/_trace (177.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:18:48) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.5ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m
Exception Validation failed: Number has already been taken

ArgumentError (too few arguments):
  app/controllers/extensions_controller.rb:67:in `format'
  app/controllers/extensions_controller.rb:67:in `create'

Rendered rescues/_trace (89.8ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:26:17) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (71.1ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m

TypeError (Symbol as array index):
  app/controllers/extensions_controller.rb:52:in `[]'
  app/controllers/extensions_controller.rb:52:in `create'

Rendered rescues/_trace (182.8ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#create (for 127.0.0.1 at 2010-05-26 14:27:29) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:52: syntax error, unexpected tIDENTIFIER, expecting ']'
      :user => current_user, :forward_to =>['extension]['forward_to'])
                                                                   ^
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:56: syntax error, unexpected tCONSTANT, expecting kEND
        flash[:notice] = 'Extension was successfully created.'
                                   ^
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:56: syntax error, unexpected tSTRING_BEG
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:74: syntax error, unexpected tCONSTANT, expecting kEND
        flash[:notice] = 'Extension was successfully updated.'
                                   ^
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:74: syntax error, unexpected tSTRING_BEG
/Users/sbazyl/railsconf/voicemail/app/controllers/extensions_controller.rb:74: unterminated string meets end of file):
  

Rendered rescues/_trace (87.1ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:27:42) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m

TypeError (can't convert String into Integer):
  app/controllers/extensions_controller.rb:52:in `[]'
  app/controllers/extensions_controller.rb:52:in `create'

Rendered rescues/_trace (86.9ms)
Rendered rescues/_request_and_response (90.2ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:28:21) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.5ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering extensions/new
Completed in 153ms (View: 28, DB: 4) | 200 OK [http://localhost/extensions]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:28:37) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m

TypeError (can't convert Fixnum into String):
  app/models/phone_number.rb:9:in `next_extension'
  app/controllers/extensions_controller.rb:50:in `create'

Rendered rescues/_trace (94.5ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:29:22) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.6ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m

TypeError (can't convert Fixnum into String):
  app/models/phone_number.rb:11:in `next_extension'
  app/controllers/extensions_controller.rb:50:in `create'

Rendered rescues/_trace (102.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:31:10) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '3' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(3, 1, '', '2010-05-26 21:31:10', '2010-05-26 21:31:10', 2)[0m
Redirected to http://localhost:3000/extensions/2
Completed in 130ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 14:31:11) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 144ms (View: 30, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing ExtensionsController#edit (for 127.0.0.1 at 2010-05-26 14:31:36) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/edit
Completed in 137ms (View: 26, DB: 4) | 200 OK [http://localhost/extensions/2/edit]


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-26 14:31:38) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"123"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"IVNTJFcT35Mpk9wIZgziApzoHjA5sUnss8SY2jSCc24=", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '3' AND "extensions".phone_number_id = 1 AND "extensions".id <> 2) LIMIT 1[0m
  [4;36;1mExtension Update (0.5ms)[0m   [0;1mUPDATE "extensions" SET "updated_at" = '2010-05-26 21:31:38', "forward_to" = '123' WHERE "id" = 2[0m
Redirected to http://localhost:3000/extensions/2
Completed in 133ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 14:31:38) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 124ms (View: 18, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 14:31:49) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 14:31:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 14:31:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 43ms (View: 22, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 14:32:00) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"4E4ii7jb2sRKfZBwJPnm9UhV1IcnaRyWyi+y056KErA=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test3", "email"=>"baz@google.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test3') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'baz@google.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', 'afee845b1ccd98b45b956b62e695cd2b2a379764', '2010-05-26 21:32:00', NULL, '09530841008dc310e4c4ee4b2e7efc49b52d1a64', NULL, '2010-05-26 21:32:00', 'acbce48bfabc08de247ea10d29b67497505eb0d2', NULL, 'test3', NULL, 'baz@google.com')[0m
  [4;36;1mUser Update (0.9ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 21:32:00', "activated_at" = '2010-05-26 21:32:00', "activation_code" = NULL WHERE "id" = 3[0m
Redirected to http://localhost:3000/
Completed in 55ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 14:32:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 21:32:00', "organization_id" = 1 WHERE "id" = 3[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 89ms (DB: 3) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 14:32:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 135ms (View: 42, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:32:04) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>"456"}, "action"=>"create", "authenticity_token"=>"4E4ii7jb2sRKfZBwJPnm9UhV1IcnaRyWyi+y056KErA=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '4' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.9ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(4, 1, '456', '2010-05-26 21:32:05', '2010-05-26 21:32:05', 3)[0m
Redirected to http://localhost:3000/extensions/3
Completed in 220ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 14:32:05) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 3 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 136ms (View: 19, DB: 4) | 200 OK [http://localhost/extensions/3]
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.2ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (2.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 14:44:36) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 14:44:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 235ms (View: 224, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 14:44:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 59ms (View: 39, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 14:44:49) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', '3e41bd5414279017ef19d4e3a533ed0cad28345e', '2010-05-26 21:44:49', NULL, '8f3b376299e90b643ec124e051027ae689418ffc', NULL, '2010-05-26 21:44:49', '6b3971e1974baf11db0c35f11bf7075d5d92ae88', NULL, 'test', NULL, 'foo@google.com')[0m
  [4;35;1mUser Update (717.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 21:44:49', "activated_at" = '2010-05-26 21:44:49', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 1142ms (DB: 719) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 14:44:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 1136ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 14:44:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 322ms (View: 270, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 14:44:56) [POST]
  Parameters: {"commit"=>"Create", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"google.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.7ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 21:44:56', '2010-05-26 21:44:56', 'google.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 21:44:56', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 21:44:56', '2010-05-26 21:44:56', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 116ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 14:44:56) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 54ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 14:44:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 163ms (View: 69, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 14:45:04) [POST]
  Parameters: {"commit"=>"Get an extension", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
WARNING: Can't mass-assign these protected attributes: number, user
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" IS NULL AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (1.0ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(NULL, 1, '', '2010-05-26 21:45:04', '2010-05-26 21:45:04', NULL)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 134ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 14:45:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.1ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 147ms (View: 31, DB: 4) | 200 OK [http://localhost/extensions/1]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("messages")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("organizations")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("phone_numbers")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 15:00:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 30, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 15:00:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 62ms (View: 40, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 15:00:37) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"foo@google.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
  [4;35;1mUser Create (1.1ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('', 'ad527653dc202167793103e2947b51a7e56d2465', '2010-05-26 22:00:38', NULL, '16548207380bf0b099c8f999d6a14c872cd784b1', NULL, '2010-05-26 22:00:38', '2bc9a00a4244054e8c2978ce5bb9ea5e91aae84f', NULL, 'test', NULL, 'foo@google.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 22:00:38', "activated_at" = '2010-05-26 22:00:38', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 318ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 15:00:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 766ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 15:00:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 82ms (View: 30, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 15:00:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"organizations", "organization"=>{"name"=>"foo", "domain"=>"google.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('foo', '2010-05-26 22:00:46', '2010-05-26 22:00:46', 'google.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 22:00:46', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 22:00:46', '2010-05-26 22:00:46', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 106ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 15:00:46) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 48ms (DB: 2) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 15:00:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.2ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 240ms (View: 148, DB: 5) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 15:00:52) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.5ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-26 22:00:53', '2010-05-26 22:00:53', 1)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 143ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 15:00:53) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 158ms (View: 29, DB: 5) | 200 OK [http://localhost/extensions/1]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-26 15:20:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/users_controller.rb:100: syntax error, unexpected $end, expecting kEND):
  

Rendered rescues/_trace (84.9ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-26 15:21:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/users_controller.rb:68: syntax error, unexpected $end, expecting kEND):
  

Rendered rescues/_trace (86.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:21:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}

ActiveRecord::RecordNotFound (Couldn't find Organization without an ID):
  app/controllers/users_controller.rb:4:in `index'

Rendered rescues/_trace (185.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:21:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index

ActionView::TemplateError (undefined method `name' for nil:NilClass) on line #1 of app/views/users/index.html.erb:
1: <h1>Users in <%= @organization.name %></h1>
2: 
3: <table>
4:   <tr>

    app/views/users/index.html.erb:1

Rendered rescues/_trace (123.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:22:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m

ActionView::TemplateError (undefined method `new_organization_user_path' for #<ActionView::Base:0x220914c>) on line #22 of app/views/users/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'Invite a user', new_organization_user_path(@organization) %>

    app/views/users/index.html.erb:22

Rendered rescues/_trace (110.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:23:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m

ActionView::TemplateError (edit_user_url failed to generate from {:controller=>"users", :action=>"edit"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["users", :id, "edit"] - are they all satisfied?) on line #16 of app/views/layouts/application.html.erb:
13:     <ul>
14:       <% if logged_in?%>
15:         <li>Welcome <%= current_user.email %></li>
16:         <li><%= link_to('My Profile', edit_user_path)%>
17:         <li><%= link_to('Log Out', logout_path) %></li>
18:       <% else %>
19:         <li><%= link_to('Sign Up', signup_path )%></li>

    (eval):16:in `edit_user_path'
    app/views/layouts/application.html.erb:16

Rendered rescues/_trace (215.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:24:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 130ms (View: 50, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2010-05-26 15:24:52) [GET]
  Parameters: {"action"=>"show", "id"=>"invite", "controller"=>"users"}

ActionController::UnknownAction (No action responded to show. Actions: activate, change_password, change_password_update, create, edit, index, invite, new, and update):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "valid" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 15:48:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 106ms (View: 30, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 15:48:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 60ms (View: 40, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 15:48:33) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"steve@jessica-and-steve.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('Steven Bazyl', '9ad46f6b15593f51e6ddbb0b19ee06f35024da36', '2010-05-26 22:48:33', NULL, '5cb69747138e3b944b3f3e9d0f9797c99dfc00fa', NULL, '2010-05-26 22:48:33', '27fa4c960c86a197e398d91519000ec14d2e12b8', NULL, 'test', NULL, 'steve@jessica-and-steve.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 22:48:34', "activated_at" = '2010-05-26 22:48:33', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 313ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 15:48:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 1377ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 15:48:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 94ms (View: 34, DB: 2) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 15:48:43) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"organizations", "organization"=>{"name"=>"Foo", "domain"=>""}}
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('Foo', '2010-05-26 22:48:43', '2010-05-26 22:48:43', '', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 22:48:43', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Load (0.4ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 22:48:43', '2010-05-26 22:48:43', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 115ms (DB: 5) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 15:48:43) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.2ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 51ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 15:48:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (1.2ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 246ms (View: 62, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 15:48:46) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-26 22:48:46', '2010-05-26 22:48:46', 1)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 155ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 15:48:46) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 144ms (View: 32, DB: 4) | 200 OK [http://localhost/extensions/1]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:48:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `invitation_path' for #<ActionView::Base:0x2350ed8>) on line #22 of app/views/users/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'Invite a user', invitation_path %>

    app/views/users/index.html.erb:22

Rendered rescues/_trace (111.3ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:49:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `invitations_path' for #<ActionView::Base:0x23f7e04>) on line #22 of app/views/users/index.html.erb:
19: 
20: <br />
21: 
22: <%= link_to 'Invite a user', invitations_path %>

    app/views/users/index.html.erb:22

Rendered rescues/_trace (214.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 15:49:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 120ms (View: 46, DB: 5) | 200 OK [http://localhost/users]


Processing ApplicationController#new (for 127.0.0.1 at 2010-05-26 15:49:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/invitations_controller.rb:28: syntax error, unexpected $end, expecting kEND):
  

Rendered rescues/_trace (170.2ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#new (for 127.0.0.1 at 2010-05-26 15:49:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}

LoadError (Expected /Users/sbazyl/railsconf/voicemail/app/controllers/invitations_controller.rb to define InvitationsController):
  

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 15:50:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}

ActionView::MissingTemplate (Missing template invitations/new.erb in view path app/views):
  app/controllers/invitations_controller.rb:7:in `new'

Rendering rescues/layout (internal_server_error)


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 15:51:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
Rendering template within layouts/application
Rendering invitations/new

ActionView::TemplateError (undefined method `phone_number' for nil:NilClass) on line #3 of app/views/invitations/new.html.erb:
1: <h1>Invite a user</h1>
2: 
3: <p>Your company phone number is <%=h @organization.phone_number.number %></p>
4: <p>
5:   To allow a user to create an extension for your company, enter the email address of the
6:   user you'd like to invite.

    app/views/invitations/new.html.erb:3
    app/controllers/invitations_controller.rb:7:in `new'

Rendered rescues/_trace (215.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 15:52:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
Rendering template within layouts/application
Rendering invitations/new

ActionView::TemplateError (undefined method `phone_number' for nil:NilClass) on line #3 of app/views/invitations/new.html.erb:
1: <h1>Invite a user</h1>
2: 
3: <p>Your company phone number is <%=h @organization.phone_number.number %></p>
4: <p>
5:   To allow a user to create an extension for your company, enter the email address of the
6:   user you'd like to invite.

    app/views/invitations/new.html.erb:3
    app/controllers/invitations_controller.rb:7:in `new'

Rendered rescues/_trace (131.7ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 15:52:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m

ActionView::TemplateError (valid? is defined by ActiveRecord) on line #10 of app/views/invitations/new.html.erb:
7: </p>
8: 
9: <% form_for(@invitation) do |f| %>
10:   <%= f.error_messages %>
11: 
12:   <p>
13:     <%= f.label :email %><br />

    app/views/invitations/new.html.erb:10
    app/views/invitations/new.html.erb:9
    app/controllers/invitations_controller.rb:7:in `new'

Rendered rescues/_trace (136.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 15:52:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m

ActionView::TemplateError (valid? is defined by ActiveRecord) on line #10 of app/views/invitations/new.html.erb:
7: </p>
8: 
9: <% form_for(@invitation) do |f| %>
10:   <%= f.error_messages %>
11: 
12:   <p>
13:     <%= f.label :email %><br />

    app/views/invitations/new.html.erb:10
    app/views/invitations/new.html.erb:9
    app/controllers/invitations_controller.rb:7:in `new'

Rendered rescues/_trace (139.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:20:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 168ms (View: 91, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 16:20:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 62ms (View: 41, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 16:20:40) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"steve@jessica-and-steve.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('Steven Bazyl', 'fd75e16e2890bf2587c939bbdd9a667ba0609b1f', '2010-05-26 23:20:40', NULL, 'aac98c9e8927c2e63e7b531077b15a1ff631d198', NULL, '2010-05-26 23:20:40', '5b5ba2dceb1422e2abfe6acc88e185e7d34f0cdf', NULL, 'test', NULL, 'steve@jessica-and-steve.com')[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 23:20:40', "activated_at" = '2010-05-26 23:20:40', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 435ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:20:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 1730ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 16:20:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 87ms (View: 32, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 16:20:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"organizations", "organization"=>{"name"=>"foo", "domain"=>"jessica-and-steve.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.7ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('foo', '2010-05-26 23:20:46', '2010-05-26 23:20:46', 'jessica-and-steve.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 23:20:46', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Load (0.4ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 23:20:46', '2010-05-26 23:20:46', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 108ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 16:20:46) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 52ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 16:20:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (1.4ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 159ms (View: 60, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 16:20:48) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-26 23:20:48', '2010-05-26 23:20:48', 1)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 144ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 16:20:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 143ms (View: 30, DB: 4) | 200 OK [http://localhost/extensions/1]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:20:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (1.2ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 251ms (View: 153, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:21:02) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "invitation"=>{"email"=>"jessica@jessica-and-steve.com"}, "controller"=>"invitations"}

NameError (undefined local variable or method `crypted_password' for #<Invitation:0x24d8f08>):
  vendor/plugins/restful-authentication/rails/./lib/authentication/by_password.rb:60:in `password_required?'
  app/controllers/invitations_controller.rb:18:in `create'
  app/controllers/invitations_controller.rb:17:in `create'

Rendered rescues/_trace (136.4ms)
Rendered rescues/_request_and_response (3.7ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:21:32) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "invitation"=>{"email"=>"jessica@jessica-and-steve.com"}, "controller"=>"invitations"}
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'jessica@jessica-and-steve.com') LIMIT 1[0m
  [4;36;1mInvitation Create (0.8ms)[0m   [0;1mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:21:32', '2010-05-26 23:21:32', NULL, NULL, 'jessica@jessica-and-steve.com')[0m

ActionController::ActionControllerError (Cannot redirect to nil!):
  app/controllers/invitations_controller.rb:20:in `create'
  app/controllers/invitations_controller.rb:17:in `create'

Rendered rescues/_trace (187.7ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:22:23) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "invitation"=>{"email"=>"jessica@jessica-and-steve.com"}, "controller"=>"invitations"}
  [4;35;1mInvitation Load (0.6ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'jessica@jessica-and-steve.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering invitations/new

ActionView::TemplateError (undefined method `phone_number' for nil:NilClass) on line #3 of app/views/invitations/new.html.erb:
1: <h1>Invite a user</h1>
2: 
3: <p>Your company phone number is <%=h @organization.phone_number.number %></p>
4: <p>
5:   To allow a user to create an extension for your company, enter the email address of the
6:   user you'd like to invite.

    app/views/invitations/new.html.erb:3
    app/controllers/invitations_controller.rb:23:in `create'
    app/controllers/invitations_controller.rb:17:in `create'

Rendered rescues/_trace (787.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:22:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 216ms (View: 127, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:22:37) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "invitation"=>{"email"=>"foo@jessica-and-steve.com"}, "controller"=>"invitations"}
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'foo@jessica-and-steve.com') LIMIT 1[0m
  [4;36;1mInvitation Create (0.5ms)[0m   [0;1mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:22:37', '2010-05-26 23:22:37', NULL, NULL, 'foo@jessica-and-steve.com')[0m
Redirected to http://localhost:3000/users
Completed in 45ms (DB: 1) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:22:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 120ms (View: 47, DB: 5) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:22:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 131ms (View: 42, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:22:59) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"UeLtar8TjbJb/sTfA64yy96leIwnb0Fg/xCF5OoAaHI=", "invitation"=>{"email"=>"sqrrrl@gmail.com"}, "controller"=>"invitations"}
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mInvitation Create (0.5ms)[0m   [0mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:22:59', '2010-05-26 23:22:59', NULL, NULL, 'sqrrrl@gmail.com')[0m
Redirected to http://localhost:3000/users
Completed in 44ms (DB: 1) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:22:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 111ms (View: 37, DB: 5) | 200 OK [http://localhost/users]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 16:23:04) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 12ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:23:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 16:23:12) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 16:23:22) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"B1jPq2uVtuY4yFKLp7p1jnRgGqY1g1ziRAKRAkVRNHE=", "controller"=>"users", "user"=>{"name"=>"steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('steven Bazyl', '5e904b4be01336d2afad7bf9c47b59c2d089e315', '2010-05-26 23:23:22', NULL, 'b8e3b3f96991e6f5ef00043dc018f1b4df0ccc21', NULL, '2010-05-26 23:23:22', '34ab106f73e46b081610e9f1e304d95139978151', NULL, 'test2', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 23:23:22', "activated_at" = '2010-05-26 23:23:22', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 59ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:23:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.5ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (1.0ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 83ms (DB: 3) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 16:23:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 191ms (View: 13, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 16:25:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Completed in 59ms (View: 46, DB: 1) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 16:25:40) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"B1jPq2uVtuY4yFKLp7p1jnRgGqY1g1ziRAKRAkVRNHE=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/
Completed in 78ms (DB: 3) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:25:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 94ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:25:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.1ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 112ms (View: 36, DB: 5) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:25:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 126ms (View: 40, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:25:51) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"B1jPq2uVtuY4yFKLp7p1jnRgGqY1g1ziRAKRAkVRNHE=", "invitation"=>{"email"=>"foo@bar.com"}, "controller"=>"invitations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;36;1mInvitation Create (0.5ms)[0m   [0;1mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:25:51', '2010-05-26 23:25:51', NULL, NULL, 'foo@bar.com')[0m
Redirected to http://localhost:3000/users
Completed in 104ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:25:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 108ms (View: 37, DB: 5) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:53:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 127ms (View: 39, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:53:28) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"B1jPq2uVtuY4yFKLp7p1jnRgGqY1g1ziRAKRAkVRNHE=", "invitation"=>{"email"=>"a@b.com"}, "controller"=>"invitations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'a@b.com') LIMIT 1[0m
  [4;35;1mInvitation Create (0.6ms)[0m   [0mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:53:29', '2010-05-26 23:53:29', NULL, NULL, 'a@b.com')[0m
Redirected to http://localhost:3000/users
Completed in 102ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:53:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 112ms (View: 38, DB: 5) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:54:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 129ms (View: 40, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:54:07) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"B1jPq2uVtuY4yFKLp7p1jnRgGqY1g1ziRAKRAkVRNHE=", "invitation"=>{"email"=>"b@c.com"}, "controller"=>"invitations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m

NameError (undefined local variable or method `organization' for #<InvitationsController:0x23074b8>):
  app/controllers/invitations_controller.rb:17:in `create'

Rendered rescues/_trace (168.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:54:23) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"B1jPq2uVtuY4yFKLp7p1jnRgGqY1g1ziRAKRAkVRNHE=", "invitation"=>{"email"=>"b@c.com"}, "controller"=>"invitations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = 
Invite #<Invitation:0x2479c10>
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'b@c.com') LIMIT 1[0m
  [4;36;1mInvitation Create (0.5ms)[0m   [0;1mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:54:23', '2010-05-26 23:54:23', NULL, NULL, 'b@c.com')[0m
Redirected to http://localhost:3000/users
Completed in 105ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:54:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 119ms (View: 41, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.1ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 16:56:43) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:56:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 87ms (View: 75, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 16:56:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 60ms (View: 40, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 16:57:31) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "controller"=>"users", "user"=>{"name"=>"test", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('test', 'f19a2c816ed1306657fa4167041dc719a88c29cd', '2010-05-26 23:57:31', NULL, 'b41b5f684e4af6ab11627197080a9e57f604569f', NULL, '2010-05-26 23:57:31', 'f3eefa3f67048a82149273f66ee1eb4a6d30a935', NULL, 'test2', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-26 23:57:31', "activated_at" = '2010-05-26 23:57:31', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 523ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 16:57:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 805ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 16:57:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 84ms (View: 30, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 16:57:43) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.5ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-26 23:57:43', '2010-05-26 23:57:43', '', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-26 23:57:43', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.4ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-26 23:57:44', '2010-05-26 23:57:44', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 109ms (DB: 5) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 16:57:44) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 145ms (DB: 2) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 16:57:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.2ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 362ms (View: 240, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 16:58:03) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.7ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-26 23:58:03', '2010-05-26 23:58:03', 1)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 144ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 16:58:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 141ms (View: 29, DB: 4) | 200 OK [http://localhost/extensions/1]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:58:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 516ms (View: 441, DB: 4) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:58:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 152ms (View: 62, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:58:17) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "invitation"=>{"email"=>"foo@bar.com"}, "controller"=>"invitations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.2ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = 
Invite #<Invitation:0x2369244>
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'foo@bar.com') LIMIT 1[0m
  [4;35;1mInvitation Create (0.5ms)[0m   [0mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:58:17', '2010-05-26 23:58:17', NULL, NULL, 'foo@bar.com')[0m
Redirected to http://localhost:3000/users
Completed in 104ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:58:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 114ms (View: 36, DB: 5) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:59:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.2ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (2.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 163ms (View: 63, DB: 5) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:59:20) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "invitation"=>{"email"=>"a@b.com"}, "controller"=>"invitations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Org = #<User:0x2453e34>
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = 
Invite #<Invitation:0x242fdf4>
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'a@b.com') LIMIT 1[0m
  [4;36;1mInvitation Create (0.6ms)[0m   [0;1mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:59:20', '2010-05-26 23:59:20', NULL, NULL, 'a@b.com')[0m
Redirected to http://localhost:3000/users
Completed in 102ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:59:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 115ms (View: 37, DB: 4) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 16:59:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering invitations/new
  [4;35;1mPhoneNumber Load (1.2ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 135ms (View: 45, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 16:59:48) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "invitation"=>{"email"=>"c@d.com"}, "controller"=>"invitations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = #<Organization:0x250e284>
Org = 
Invite #<Invitation:0x2507934>
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'c@d.com') LIMIT 1[0m
  [4;35;1mInvitation Create (0.6ms)[0m   [0mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-26 23:59:48', '2010-05-26 23:59:48', NULL, NULL, 'c@d.com')[0m
Redirected to http://localhost:3000/users
Completed in 105ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 16:59:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 110ms (View: 35, DB: 4) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 17:00:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = #<Organization:0x23a9d1c>
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 137ms (View: 43, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 17:01:24) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "invitation"=>{"email"=>"c@d.com"}, "controller"=>"invitations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = #<Organization:0x22def04>
Org = #<Organization:0x22def04>
Invite #<Invitation:0x22d3960>
  [4;35;1mInvitation Load (0.5ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'c@d.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering invitations/new
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 151ms (View: 54, DB: 4) | 200 OK [http://localhost/invitations]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 17:01:28) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"7uNM9mSkeJN/hO9X9/9fy0CDdKg2z7p+oekIbhDANts=", "invitation"=>{"email"=>"e@f.com"}, "controller"=>"invitations"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = #<Organization:0x2506124>
Org = #<Organization:0x2506124>
Invite #<Invitation:0x24ff3ec>
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'e@f.com') LIMIT 1[0m
  [4;36;1mInvitation Create (0.5ms)[0m   [0;1mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-27 00:01:28', '2010-05-27 00:01:28', 1, NULL, 'e@f.com')[0m
Redirected to http://localhost:3000/users
Completed in 103ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 17:01:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 105ms (View: 34, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 17:03:10) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 17:03:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 91ms (View: 79, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 17:03:12) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 61ms (View: 41, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 17:03:30) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"K+//LhJAdzsIG3ct/hm1G80w06rkqOelCVCuYRpHJHM=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('Steven Bazyl', 'fa44d5b6a6f6d09e13f63662b46c89d15e3583c7', '2010-05-27 00:03:30', NULL, 'a4fc0513d25bb6e6b15e3e0e79b656972b854ff8', NULL, '2010-05-27 00:03:30', '3ea1d9fbcf4a8de3053b33fa35a27cbe9f5c3a10', NULL, 'test', NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-27 00:03:31', "activated_at" = '2010-05-27 00:03:30', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 316ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 17:03:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 785ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 17:03:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 82ms (View: 30, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 17:03:40) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"K+//LhJAdzsIG3ct/hm1G80w06rkqOelCVCuYRpHJHM=", "controller"=>"organizations", "organization"=>{"name"=>"Foo", "domain"=>""}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('Foo', '2010-05-27 00:03:40', '2010-05-27 00:03:40', '', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-27 00:03:40', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (0.5ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-27 00:03:40', '2010-05-27 00:03:40', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 109ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 17:03:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 139ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 17:03:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 147ms (View: 58, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 17:03:44) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"K+//LhJAdzsIG3ct/hm1G80w06rkqOelCVCuYRpHJHM=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.5ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (1.2ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-27 00:03:45', '2010-05-27 00:03:45', 1)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 188ms (DB: 7) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 17:03:45) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 140ms (View: 32, DB: 4) | 200 OK [http://localhost/extensions/1]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 17:03:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 123ms (View: 47, DB: 4) | 200 OK [http://localhost/users]


Processing InvitationsController#new (for 127.0.0.1 at 2010-05-26 17:03:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"invitations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Org = #<Organization:0x24555b8>
Rendering template within layouts/application
Rendering invitations/new
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 160ms (View: 61, DB: 3) | 200 OK [http://localhost/invitations/new]


Processing InvitationsController#create (for 127.0.0.1 at 2010-05-26 17:04:03) [POST]
  Parameters: {"commit"=>"Invite user", "action"=>"create", "authenticity_token"=>"K+//LhJAdzsIG3ct/hm1G80w06rkqOelCVCuYRpHJHM=", "invitation"=>{"email"=>"sbazyl@google.com"}, "controller"=>"invitations"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mInvitation Load (0.4ms)[0m   [0;1mSELECT "invitations".id FROM "invitations" WHERE ("invitations"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;35;1mInvitation Create (0.5ms)[0m   [0mINSERT INTO "invitations" ("created_at", "updated_at", "organization_id", "expired", "email") VALUES('2010-05-27 00:04:03', '2010-05-27 00:04:03', 1, NULL, 'sbazyl@google.com')[0m
Redirected to http://localhost:3000/users
Completed in 105ms (DB: 3) | 302 Found [http://localhost/invitations]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 17:04:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 112ms (View: 37, DB: 4) | 200 OK [http://localhost/users]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 17:04:07) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 13ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 17:04:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 17:04:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 17:04:28) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"CD0TRf69Nyd9pgug8oQlPHvQOcFKH48Mtzha28QG0Ew=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sbazyl@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('Steven Bazyl', '737857a07b0721aff25c9a7df0f12717397cfbca', '2010-05-27 00:04:28', NULL, '92dcf71f6620c489b2b2b129a61e54b25f48b305', NULL, '2010-05-27 00:04:28', '69400c4104eabd25968c3ae01af1c6742eb6231e', NULL, 'test2', NULL, 'sbazyl@google.com')[0m
  [4;35;1mUser Update (1.2ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-27 00:04:28', "activated_at" = '2010-05-27 00:04:28', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 54ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 17:04:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.9ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-27 00:04:28', "organization_id" = 1 WHERE "id" = 2[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 112ms (DB: 4) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 17:04:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 221ms (View: 129, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 17:04:32) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"CD0TRf69Nyd9pgug8oQlPHvQOcFKH48Mtzha28QG0Ew=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.7ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(2, 1, '', '2010-05-27 00:04:33', '2010-05-27 00:04:33', 2)[0m
Redirected to http://localhost:3000/extensions/2
Completed in 135ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 17:04:33) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 132ms (View: 20, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 17:04:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Completed in 111ms (View: 38, DB: 6) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (3.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 19:31:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m

NoMethodError (undefined method `organization' for nil:NilClass):
  app/controllers/users_controller.rb:4:in `index'

Rendered rescues/_trace (92.7ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 19:35:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 4ms (DB: 0) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 19:35:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 45ms (View: 32, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 19:35:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 559ms (View: 538, DB: 0) | 200 OK [http://localhost/signup]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "next_extension" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 20:17:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 178ms (View: 157, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 20:17:33) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"CD0TRf69Nyd9pgug8oQlPHvQOcFKH48Mtzha28QG0Ew=", "controller"=>"users", "user"=>{"name"=>"test", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"sbazyl@google.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('test', 'd690d6e7dec507a01e1886822b27ac37204c9d3f', '2010-05-27 03:17:33', NULL, '5579f67755243cb3ba5c88f095713a19ede0831d', NULL, '2010-05-27 03:17:33', '19d80efdaa6c37c8d21c0a8f0679286a2178011c', NULL, 'test2', NULL, 'sbazyl@google.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-27 03:17:33', "activated_at" = '2010-05-27 03:17:33', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 348ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 20:17:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.5ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sbazyl@google.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 923ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 20:17:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 84ms (View: 29, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 20:17:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"CD0TRf69Nyd9pgug8oQlPHvQOcFKH48Mtzha28QG0Ew=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>"google.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (15.4ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', '2010-05-27 03:17:46', '2010-05-27 03:17:46', 'google.com', NULL)[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-27 03:17:46', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Load (0.3ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mPhoneNumber Create (421.2ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "next_extension", "organization_id") VALUES('8776601798', '2010-05-27 03:17:46', '2010-05-27 03:17:46', 0, 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 702ms (DB: 439) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 20:17:47) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 51ms (DB: 2) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 20:17:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 239ms (View: 58, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 20:17:52) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"CD0TRf69Nyd9pgug8oQlPHvQOcFKH48Mtzha28QG0Ew=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-27 03:17:52', '2010-05-27 03:17:52', 1)[0m
Redirected to http://localhost:3000/extensions/1
Completed in 133ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-26 20:17:52) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 1 AND ("extensions".phone_number_id = 1)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 143ms (View: 30, DB: 4) | 200 OK [http://localhost/extensions/1]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-26 20:19:27) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 33ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 20:19:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 20:19:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 43ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 20:19:50) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test2", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 63ms (View: 29, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 20:19:56) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test3", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test3') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 71ms (View: 37, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 20:20:01) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test3", "email"=>"foo@google.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test3') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'foo@google.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('Steven Bazyl', '406bdaa84e55cef56e8bea39e6128fecaea28681', '2010-05-27 03:20:01', NULL, 'afd58f14a7e54765268d34551c18839b4b37eae3', NULL, '2010-05-27 03:20:01', '2154d65e3f41431a8aca8c1a050892e4d99f848a', NULL, 'test3', NULL, 'foo@google.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-27 03:20:01', "activated_at" = '2010-05-27 03:20:01', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 52ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 20:20:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-27 03:20:02', "organization_id" = 1 WHERE "id" = 2[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 192ms (DB: 4) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 20:20:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 133ms (View: 41, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 20:20:06) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(2, 1, '', '2010-05-27 03:20:06', '2010-05-27 03:20:06', 2)[0m
Redirected to http://localhost:3000/messages
Completed in 134ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 20:20:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Rendering template within layouts/messages
Rendering messages/index
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 107ms (View: 32, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 20:23:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Completed in 129ms (View: 51, DB: 6) | 200 OK [http://localhost/users]


Processing TwilioController#record (for 127.0.0.1 at 2010-05-26 20:24:21) [GET]
  Parameters: {"CallGuid"=>"abc", "Caller"=>"1234567890", "extension"=>"3", "action"=>"record", "controller"=>"twilio", "Called"=>"8776601798", "Duration"=>"30"}

NameError (uninitialized constant TwilioController::Phone):
  app/controllers/twilio_controller.rb:56:in `lookup_phone'

Rendered rescues/_trace (99.1ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#record (for 127.0.0.1 at 2010-05-26 20:24:51) [GET]
  Parameters: {"CallGuid"=>"abc", "Caller"=>"1234567890", "extension"=>"3", "action"=>"record", "controller"=>"twilio", "Called"=>"8776601798", "Duration"=>"30"}
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."number" = '3') AND ("extensions".phone_number_id = 1) LIMIT 1[0m

NoMethodError (undefined method `messages' for nil:NilClass):
  app/controllers/twilio_controller.rb:32:in `record'

Rendered rescues/_trace (179.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#record (for 127.0.0.1 at 2010-05-26 20:25:56) [GET]
  Parameters: {"CallGuid"=>"abc", "Caller"=>"1234567890", "extension"=>"2", "action"=>"record", "controller"=>"twilio", "Called"=>"8776601798", "Duration"=>"30"}
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."number" = '2') AND ("extensions".phone_number_id = 1) LIMIT 1[0m

ActiveRecord::UnknownAttributeError (unknown attribute: duration):
  app/controllers/twilio_controller.rb:32:in `record'

Rendered rescues/_trace (96.6ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#record (for 127.0.0.1 at 2010-05-26 20:26:54) [GET]
  Parameters: {"CallGuid"=>"abc", "Caller"=>"1234567890", "extension"=>"2", "action"=>"record", "controller"=>"twilio", "Called"=>"8776601798", "Duration"=>"30"}
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."number" = '2') AND ("extensions".phone_number_id = 1) LIMIT 1[0m

ActiveRecord::UnknownAttributeError (unknown attribute: duration):
  app/controllers/twilio_controller.rb:32:in `record'

Rendered rescues/_trace (195.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (3.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (83.4ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (1.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m


Processing UsersController#index (for 127.0.0.1 at 2010-05-26 20:27:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 128ms (DB: 0) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 20:27:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 44ms (View: 31, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-26 20:28:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 61ms (View: 41, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-26 20:28:13) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"users", "user"=>{"name"=>"test", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test3", "email"=>"sbazyl@google.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test3') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('test', '825e0306cf7091a891b8a4ec055f459f031df0c5', '2010-05-27 03:28:13', NULL, '6f49e8e2dfe83cd86a6127e89b93c28b9a86b4ca', NULL, '2010-05-27 03:28:13', '1788517d32e2f4dc96ede54cc0cc8ece7dda89bc', NULL, 'test3', NULL, 'sbazyl@google.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-27 03:28:13', "activated_at" = '2010-05-27 03:28:13', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 332ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 20:28:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sbazyl@google.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 784ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-26 20:28:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 85ms (View: 29, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-26 20:28:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"organizations", "organization"=>{"name"=>"google", "domain"=>"google.com"}}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test3' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('google', '2010-05-27 03:28:21', '2010-05-27 03:28:21', 'google.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-27 03:28:21', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Load (0.3ms)[0m   [0;1mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-27 03:28:21', '2010-05-27 03:28:21', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 114ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-26 20:28:21) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.5ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 56ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-26 20:28:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 147ms (View: 57, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-26 20:28:29) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"9PivV4g26Befgp+dT4l+5Ml6+duAvUP5oCuX4dPHwtc=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-27 03:28:29', '2010-05-27 03:28:29', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 135ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 20:28:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/messages
Rendering messages/index
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 176ms (View: 117, DB: 3) | 200 OK [http://localhost/messages]


Processing TwilioController#record (for 127.0.0.1 at 2010-05-26 20:28:37) [GET]
  Parameters: {"CallGuid"=>"abc", "Caller"=>"1234567890", "extension"=>"1", "action"=>"record", "controller"=>"twilio", "Called"=>"8776601798", "Duration"=>"30"}
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mMessage Create (0.6ms)[0m   [0mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(30, '2010-05-27 03:28:38', 'abc', '1234567890', '2010-05-27 03:28:38', NULL, 1)[0m
Completed in 90ms (View: 2, DB: 2) | 200 OK [http://localhost/twilio/record?Called=8776601798&Caller=1234567890&CallGuid=abc&Duration=30&extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 20:28:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/messages
Rendering messages/index
  [4;36;1mMessage Load (3.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 92ms (View: 29, DB: 6) | 200 OK [http://localhost/messages]


Processing TwilioController#start (for 127.0.0.1 at 2010-05-26 21:28:48) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"start", "controller"=>"twilio", "Called"=>"8776601798"}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  

Rendered rescues/_trace (115.3ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (unprocessable_entity)


Processing TwilioController#start (for 127.0.0.1 at 2010-05-26 21:31:50) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"start", "controller"=>"twilio", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
Completed in 115ms (View: 2, DB: 1) | 200 OK [http://localhost/twilio/start]


Processing TwilioController#start (for 127.0.0.1 at 2010-05-26 22:26:29) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"start", "controller"=>"twilio", "Called"=>"8776601798"}
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
Completed in 35ms (View: 1, DB: 1) | 200 OK [http://localhost/twilio/start]


Processing TwilioController#extension (for 127.0.0.1 at 2010-05-26 22:27:05) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"extension", "controller"=>"twilio", "Digits"=>"1", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 206ms (View: 2, DB: 3) | 200 OK [http://localhost/twilio/extension]


Processing TwilioController#extension (for 127.0.0.1 at 2010-05-26 22:28:21) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"extension", "controller"=>"twilio", "Digits"=>"1", "Called"=>"8776601798"}
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 78ms (View: 1, DB: 3) | 200 OK [http://localhost/twilio/extension]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:41:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 109ms (View: 49, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:41:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 93ms (View: 33, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:46:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 176ms (View: 115, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:46:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 83ms (View: 22, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:46:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 4ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 22:46:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-26 22:46:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 22:46:57) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"K3b10bD5piitaWjn5LTn74TzXCfR7wVUkENHI+plVcg=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'test' from 127.0.0.1 at Thu May 27 05:46:57 UTC 2010
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 22:47:05) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"K3b10bD5piitaWjn5LTn74TzXCfR7wVUkENHI+plVcg=", "controller"=>"sessions", "login"=>"sbazyl", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'sbazyl' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'sbazyl' from 127.0.0.1 at Thu May 27 05:47:05 UTC 2010
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 9, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 22:47:12) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"K3b10bD5piitaWjn5LTn74TzXCfR7wVUkENHI+plVcg=", "controller"=>"sessions", "login"=>"test2", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test2' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'test2' from 127.0.0.1 at Thu May 27 05:47:12 UTC 2010
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 8, DB: 1) | 200 OK [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:48:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 90ms (View: 32, DB: 3) | 200 OK [http://localhost/messages]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-26 22:48:26) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"K3b10bD5piitaWjn5LTn74TzXCfR7wVUkENHI+plVcg=", "controller"=>"sessions", "login"=>"test3", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test3' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/
Completed in 816ms (DB: 3) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-26 22:48:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:48:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 79ms (View: 20, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:49:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 78ms (View: 20, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:49:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (2.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 189ms (View: 126, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-26 22:50:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 87ms (View: 30, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 10:02:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined method `messagess_path' for #<ActionView::Base:0x245f48c>) on line #19 of app/views/layouts/application.html.erb:
16:     <ul>
17:       <% if logged_in?%>
18:         <li>Welcome <%= current_user.name %>(<%= current_user.login %>)</li>        
19:         <li><%= link_to('Messages', messagess_path())%>
20:         <li><%= link_to('Directory', users_path())%>
21:         <li><%= link_to('My Profile', edit_user_path(current_user))%>
22:         <li><%= link_to('Log Out', logout_path) %></li>

    app/views/layouts/application.html.erb:19
    app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (228.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:02:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (undefined method `messagess_path' for #<ActionView::Base:0x250222c>) on line #19 of app/views/layouts/application.html.erb:
16:     <ul>
17:       <% if logged_in?%>
18:         <li>Welcome <%= current_user.name %>(<%= current_user.login %>)</li>        
19:         <li><%= link_to('Messages', messagess_path())%>
20:         <li><%= link_to('Directory', users_path())%>
21:         <li><%= link_to('My Profile', edit_user_path(current_user))%>
22:         <li><%= link_to('Log Out', logout_path) %></li>

    app/views/layouts/application.html.erb:19

Rendered rescues/_trace (103.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:03:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 105ms (View: 22, DB: 3) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 10:03:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.7ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 107ms (View: 31, DB: 5) | 200 OK [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:09:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:10:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 104ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:11:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 110ms (View: 23, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:11:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 105ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:12:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:13:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:13:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 109ms (View: 17, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:14:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 109ms (View: 22, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:16:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.7ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 131ms (View: 34, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:16:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:17:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:18:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:20:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 112ms (View: 23, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:23:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 115ms (View: 22, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:25:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.5ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 99ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:25:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:25:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:25:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:26:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:28:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:28:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:28:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:28:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 111ms (View: 12, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:28:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:29:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:35:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:35:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:35:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:35:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:35:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:36:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 124ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:36:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 107ms (View: 12, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:36:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 108ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:36:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (2.2ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:36:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:37:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 123ms (View: 13, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:37:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:38:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:38:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:38:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 195ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:38:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:38:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 104ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:38:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:39:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 181ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:39:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:54:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (2.1ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 111ms (View: 22, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:54:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:55:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 191ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:55:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:55:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 108ms (View: 22, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:55:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:56:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 206ms (View: 27, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:56:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.2ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 99ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:56:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.5ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 110ms (View: 20, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:58:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 114ms (View: 23, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:58:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 110ms (View: 23, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 10:58:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.7ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:02:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (4.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.5ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 140ms (View: 28, DB: 7) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:02:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (2.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 210ms (View: 112, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:05:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:05:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:05:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 106ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:05:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 12, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:05:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:06:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:06:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:06:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:06:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (2.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 105ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:06:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 110ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:10:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:10:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:10:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:10:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.2ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 104ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:11:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:11:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:12:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:12:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:12:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:12:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:12:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.6ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 115ms (View: 14, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:13:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:13:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 95ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:13:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:13:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:13:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 10, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:14:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:14:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (2.4ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 10, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:14:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 195ms (View: 12, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:16:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 114ms (View: 13, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:16:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 99ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 11:16:18) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:16:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 11:16:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 11:16:28) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"7IoNkgLTO8le6cXsEP1YvrvZ6CV63X0FWh0ekyGvOyY=", "controller"=>"sessions", "login"=>"test3", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test3' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/
Completed in 84ms (DB: 3) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:16:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:16:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:50:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (2.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 124ms (View: 11, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:50:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 95ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 106ms (View: 12, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 98ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 94ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:51:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 104ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 106ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (2.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 109ms (View: 11, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.2ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 203ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 96ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 11:52:53) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 34ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:52:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:53:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:53:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 135ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:53:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:53:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 192ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:53:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:53:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:54:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 11:54:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 11:54:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 175ms (View: 21, DB: 3) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 11:54:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 137ms (View: 59, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 11:54:30) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 53ms (View: 28, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 11:54:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 81ms (View: 22, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 11:54:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 180ms (View: 118, DB: 4) | 200 OK [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:15:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 39ms (View: 27, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:16:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:20:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:40:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:40:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:42:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 119ms (View: 107, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:44:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:45:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:45:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:46:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 12:46:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 12:46:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 56ms (View: 35, DB: 0) | 200 OK [http://localhost/signup]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:19:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 27ms (View: 14, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:22:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:24:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:25:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:25:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:25:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:25:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:26:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:26:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:26:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:36:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:36:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:38:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 12, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:39:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:39:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:39:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.7ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 112ms (View: 11, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:40:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:40:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 99ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:40:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (2.6ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 104ms (View: 11, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:40:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:40:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 97ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:41:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 102ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:42:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:42:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:43:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:43:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:43:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:43:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:43:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 100ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:44:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:45:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:54:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:54:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:55:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 276ms (View: 263, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:56:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:56:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 111ms (View: 13, DB: 3) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 13:56:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 84ms (View: 20, DB: 3) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 13:57:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 84ms (View: 20, DB: 3) | 200 OK [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 13:57:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 13:58:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 45ms (View: 25, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:01:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:02:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 14:02:21) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 34ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:02:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:02:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 42ms (View: 21, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:03:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 50ms (View: 30, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:03:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:05:29) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 115ms (View: 80, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:08:00) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 115ms (View: 76, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:15:03) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 120ms (View: 81, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:15:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 142ms (View: 122, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:15:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:15:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 39ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:15:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 42ms (View: 22, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:15:56) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 119ms (View: 82, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:16:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 39ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:16:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 57ms (View: 24, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:16:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 39ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:16:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 39ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:16:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 39ms (View: 19, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:16:54) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 118ms (View: 80, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:17:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:17:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 14:17:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 40ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:17:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 138ms (View: 88, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:34:39) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 112ms (View: 74, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:35:13) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 211ms (View: 86, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:35:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:35:47) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 115ms (View: 78, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:35:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:36:15) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 112ms (View: 78, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:36:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:36:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 14:36:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:36:34) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 108ms (View: 73, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:36:55) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 111ms (View: 75, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:37:04) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 116ms (View: 79, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:37:14) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 110ms (View: 75, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:37:43) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 123ms (View: 86, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 14:37:52) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 87ms (View: 51, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 15:04:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 15:09:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `instance_varaiable_get' for #<ActionView::Base:0x24db758>) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path, :builder => MyFormBuilder do |f| -%>
5: <p><%= f.label 'name' %>
6: <%= f.text_field :name %></p>
7: 
8: <p><%= f.label 'login' %>

    lib/my_form_builder.rb:4:in `label'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4

Rendered rescues/_trace (111.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 15:10:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 52ms (View: 32, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:10:06) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined local variable or method `eerrors' for #<MyFormBuilder:0x2549ed8>) on line #8 of app/views/users/new.html.erb:
5: <p><%= f.label 'name' %>
6: <%= f.text_field :name %></p>
7: 
8: <p><%= f.label 'login' %>
9: <%= f.text_field :login %></p>
10: 
11: <p><%= f.label 'email' %>

    lib/my_form_builder.rb:9:in `label'
    app/views/users/new.html.erb:8
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (125.6ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:10:19) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 143ms (View: 105, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:36:44) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 220ms (View: 185, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:37:47) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 113ms (View: 75, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:42:45) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 101ms (View: 64, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:46:26) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 98ms (View: 62, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:47:00) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 195ms (View: 63, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:47:08) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 102ms (View: 65, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:47:17) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 101ms (View: 65, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:47:43) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 98ms (View: 63, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:47:44) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 194ms (View: 159, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:47:52) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 98ms (View: 62, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:48:09) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 93ms (View: 58, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:48:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 99ms (View: 64, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:48:45) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 99ms (View: 63, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:49:24) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 99ms (View: 62, DB: 1) | 200 OK [http://localhost/users]
/!\ FAILSAFE /!\  Thu May 27 15:49:43 -0700 2010
  Status: 500 Internal Server Error
  /Users/sbazyl/railsconf/voicemail/lib/my_form_builder.rb:6: syntax error, unexpected $undefined, expecting ')'
    object = @template.instance_variable_get("@#{@object_name}")
                                               ^
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:437:in `load_missing_constant'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:96:in `const_missing'
    /Users/sbazyl/railsconf/voicemail/app/controllers/application_controller.rb:7
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
    /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:50:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 102ms (View: 65, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:50:41) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 103ms (View: 65, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:50:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 186ms (View: 56, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:51:06) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 98ms (View: 60, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:51:50) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 97ms (View: 57, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:52:08) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 90ms (View: 55, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:52:33) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (uninitialized constant MyFormBuilder::LOGGER) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <p><%= f.label 'name' %>
6: <%= f.text_field :name %></p>
7: 
8: <p><%= f.label 'login' %>

    lib/my_form_builder.rb:5:in `label'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (117.4ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:52:57) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 135ms (View: 100, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:53:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (undefined method `errors_on' for #<MyFormBuilder:0x22ea4d0>) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <p><%= f.label 'name' %>
6: <%= f.text_field :name %></p>
7: 
8: <p><%= f.label 'login' %>

    lib/my_form_builder.rb:5:in `label'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (211.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:53:39) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (uninitialized constant MyFormBuilder::LOGGER) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <p><%= f.label 'name' %>
6: <%= f.text_field :name %></p>
7: 
8: <p><%= f.label 'login' %>

    lib/my_form_builder.rb:6:in `label'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (118.2ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:53:52) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 131ms (View: 93, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:54:14) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 142ms (View: 106, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:54:22) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 116ms (View: 81, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:55:02) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 147ms (View: 111, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:55:44) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 140ms (View: 101, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:58:33) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 130ms (View: 95, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:59:12) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 127ms (View: 93, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:59:39) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 283ms (View: 240, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 15:59:57) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 132ms (View: 96, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:00:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 166ms (View: 127, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:00:32) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 321ms (View: 269, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:01:25) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 222ms (View: 95, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:04:22) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 134ms (View: 100, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:04:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 264ms (View: 212, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:30:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 134ms (View: 96, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:36:22) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #6 of app/views/users/new.html.erb:
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <p><%= f.label 'name' %>
6: <%= f.text_field :name %></p>
7: 
8: <p><%= f.label 'login' %>
9: <%= f.text_field :login %></p>

    lib/my_form_builder.rb:14:in `method'
    lib/my_form_builder.rb:14:in `text_field'
    app/views/users/new.html.erb:6
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (117.5ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:38:48) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <%= f.text_field :name %>
6: <%= f.text_field :login %>
7: <%= f.text_field :email %>
8: <%= f.password_field :password %>

    lib/my_form_builder.rb:14:in `method'
    lib/my_form_builder.rb:14:in `text_field'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (214.0ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:39:17) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <%= f.text_field :name %>
6: <%= f.text_field :login %>
7: <%= f.text_field :email %>
8: <%= f.password_field :password %>

    lib/my_form_builder.rb:15:in `method'
    lib/my_form_builder.rb:15:in `text_field'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (117.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:48:41) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <%= f.text_field :name %>
6: <%= f.text_field :login %>
7: <%= f.text_field :email %>
8: <%= f.password_field :password %>

    lib/my_form_builder.rb:15:in `method'
    lib/my_form_builder.rb:15:in `text_field'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:49:04) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <%= f.text_field :name %>
6: <%= f.text_field :login %>
7: <%= f.text_field :email %>
8: <%= f.password_field :password %>

    lib/my_form_builder.rb:15:in `method'
    lib/my_form_builder.rb:15:in `text_field'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (115.5ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:49:44) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <%= f.text_field :name %>
6: <%= f.text_field :login %>
7: <%= f.text_field :email %>
8: <%= f.password_field :password %>

    lib/my_form_builder.rb:15:in `method'
    lib/my_form_builder.rb:15:in `text_field'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (113.5ms)
Rendered rescues/_request_and_response (1.2ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:50:28) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 96ms (View: 59, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:51:03) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 104ms (View: 65, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:53:01) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 107ms (View: 70, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:53:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #5 of app/views/users/new.html.erb:
2: <% @user.password = @user.password_confirmation = nil %>
3: 
4: <% form_for :user, :url => users_path do |f| -%>
5: <%= f.text_field :name %>
6: <%= f.text_field :login %>
7: <%= f.text_field :email %>
8: <%= f.password_field :password %>

    lib/my_form_builder.rb:15:in `method'
    lib/my_form_builder.rb:15:in `text_field'
    app/views/users/new.html.erb:5
    app/views/users/new.html.erb:4
    app/controllers/users_controller.rb:76:in `create'

Rendered rescues/_trace (120.8ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:53:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 142ms (View: 103, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:53:35) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 117ms (View: 80, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:53:37) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 118ms (View: 79, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:54:16) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 232ms (View: 197, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:54:31) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 149ms (View: 112, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:55:22) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 136ms (View: 98, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:56:09) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 141ms (View: 105, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:56:26) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 125ms (View: 89, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:57:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 129ms (View: 91, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:57:39) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 144ms (View: 107, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 16:57:53) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"a", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'a') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 249ms (View: 213, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 16:58:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:00:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 17, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:00:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:01:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:01:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:01:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 87ms (View: 64, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:01:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 93ms (View: 58, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:01:27) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 297ms (View: 225, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:02:48) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 136ms (View: 101, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:03:07) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 152ms (View: 115, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:04:06) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 162ms (View: 127, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:04:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 165ms (View: 125, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:04:36) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 391ms (View: 348, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:04:45) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 136ms (View: 101, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:05:06) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 138ms (View: 102, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:05:15) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 180ms (View: 140, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:05:39) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 253ms (View: 213, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:05:50) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 277ms (View: 230, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:06:35) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 159ms (View: 120, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:06:45) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 337ms (View: 288, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:10:14) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 202ms (View: 164, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:17:38) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 135ms (View: 97, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:17:51) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 153ms (View: 106, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:18:16) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 134ms (View: 100, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:18:25) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 147ms (View: 112, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:18:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 154ms (View: 120, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:18:59) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 140ms (View: 103, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:19:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 139ms (View: 94, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:19:22) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 170ms (View: 129, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:19:48) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 151ms (View: 117, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:20:19) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 158ms (View: 123, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:20:29) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 141ms (View: 105, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:20:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:21:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 38ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:21:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 48ms (View: 27, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:21:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 52ms (View: 29, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:21:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 46ms (View: 24, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:21:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 47ms (View: 26, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:21:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:22:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
ERROR: compiling _run_erb_app47views47sessions47new46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:6: syntax error, unexpected ':', expecting ')'
...ember_me', '1', @remember_me :label=>'Remember me').to_s); @...
                              ^
Function body:           def _run_erb_app47views47sessions47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Log In</h1>\n\n"

;  form_tag session_path do 
@output_buffer.concat(( text_field_tag 'login', @login ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( password_field_tag 'password', nil ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( check_box_tag 'remember_me', '1', @remember_me :label=>'Remember me').to_s); @output_buffer.concat "\n\n<p>"

; @output_buffer.concat(( submit_tag 'Log in' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:13:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:6: syntax error, unexpected ':', expecting ')'
...ember_me', '1', @remember_me :label=>'Remember me').to_s); @...
                              ^) on line #6 of app/views/sessions/new.html.erb:
3: <% form_tag session_path do -%>
4: <%= text_field_tag 'login', @login %>
5: <%= password_field_tag 'password', nil %>
6: <%= check_box_tag 'remember_me', '1', @remember_me :label=>'Remember me'%>
7: 
8: <p><%= submit_tag 'Log in' %></p>
9: <% end -%>

    app/views/sessions/new.html.erb:13:in `compile!'

Rendered rescues/_trace (108.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:22:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 30ms (View: 18, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:23:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new

ActionView::TemplateError (undefined method `text_field' for nil:NilClass) on line #4 of app/views/sessions/new.html.erb:
1: <h1>Log In</h1>
2: 
3: <% form_tag session_path do |f|-%>
4: <%= f.text_field 'login', @login %>
5: <%= f.password_field 'password', nil %>
6: <%= f.check_box 'remember_me', '1', @remember_me, :label=>'Remember me'%>
7: 

    app/views/sessions/new.html.erb:4
    app/views/sessions/new.html.erb:3

Rendered rescues/_trace (206.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:23:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 17:24:02) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"JZxPP80qVHgXtEL1hLuPdCPX82SiuFlZVJM7VrPdpys=", "controller"=>"sessions", "login"=>"test3", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test3' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/
Completed in 83ms (DB: 3) | 302 Found [http://localhost/session]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:24:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 10, DB: 3) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:24:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 85ms (View: 23, DB: 3) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 17:24:28) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 38ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:24:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 17:24:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 17:24:35) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"aJ/lWE40i7e+DzSjw40uQ08izHN0ZR3JoKyod3HJDlk=", "controller"=>"sessions", "login"=>"test3", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test3' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/messages
Completed in 92ms (DB: 3) | 302 Found [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:24:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 83ms (View: 21, DB: 3) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 17:25:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 60ms (View: 36, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:25:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.6ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 85ms (View: 21, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:29:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (3.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `user' for #<ActionView::Base:0x236471c>) on line #3 of app/views/messages/index.html.erb:
1: <section id="messages">
2:     <header>
3: <h2>Messages for <%=h user.name %> (<%=h user.extension.phone_number.number%> x<%=h user.extension.number%>)</h2>
4: 
5: <div id="messages">
6: <% @messages.each do |message| %>

    app/views/messages/index.html.erb:3
    app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (126.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:29:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `user' for #<ActionView::Base:0x243a27c>) on line #3 of app/views/messages/index.html.erb:
1: <section id="messages">
2:     <header>
3: <h2>Messages for <%=h user.name %> (<%=h user.extension.phone_number.number%> x<%=h user.extension.number%>)</h2>
4: 
5: <div id="messages">
6: <% @messages.each do |message| %>

    app/views/messages/index.html.erb:3
    app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (220.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:29:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 121ms (View: 57, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:32:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.7ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined method `created' for #<Message:0x23e9c28>) on line #9 of app/views/messages/index.html.erb:
6:    <% @messages.each do |message| %>
7:      <li class="message">
8:       <span class="call_from">Call from <%=h message.from %></span>
9:       <span class="receved">Received <%h message.created %></span>
10:       <audio controls="controls">
11:           <source src="<%= message.url %>.mp3"/>
12:       </audio>

    app/views/messages/index.html.erb:9
    app/views/messages/index.html.erb:6
    app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (225.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:32:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 441ms (View: 377, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:32:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 102ms (View: 42, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:33:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 117ms (View: 55, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:33:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 141ms (View: 76, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:33:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 114ms (View: 55, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:35:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 120ms (View: 59, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:35:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 106ms (View: 45, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:35:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 115ms (View: 44, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:35:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 199ms (View: 46, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:35:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 115ms (View: 49, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 108ms (View: 44, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 110ms (View: 45, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 111ms (View: 47, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 104ms (View: 43, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 103ms (View: 42, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 205ms (View: 51, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:36:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 103ms (View: 43, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:37:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 396ms (View: 359, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:38:04) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"", "email"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 336ms (View: 295, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:39:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 132ms (View: 48, DB: 4) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:39:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 109ms (View: 45, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:39:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (3.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 120ms (View: 40, DB: 6) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 17:39:09) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 80ms (View: 51, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:39:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 124ms (View: 42, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:39:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 129ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:39:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 114ms (View: 39, DB: 4) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:39:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 121ms (View: 52, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:41:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.2ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mMessage Load (1.1ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 119ms (View: 46, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:46:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 106ms (View: 44, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:46:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 206ms (View: 48, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:46:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 117ms (View: 54, DB: 5) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:46:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 126ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:46:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 110ms (View: 45, DB: 5) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:46:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 112ms (View: 39, DB: 4) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 17:46:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 126ms (View: 49, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 17:46:56) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 49ms (View: 22, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 17:46:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mMessage Load (1.8ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 113ms (View: 46, DB: 5) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 17:46:59) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 49ms (View: 23, DB: 1) | 200 OK [http://localhost/users/1/edit]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 17:47:04) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 41ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:47:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 17:47:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 43ms (View: 22, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 17:47:34) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"+rIqJbENfFjc2JrqwMA4foeNc7M1yZ4lIyydTVQhdk4=", "controller"=>"users", "user"=>{"name"=>"test4", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test4", "email"=>"aaa@bar.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test4') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'aaa@bar.com') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('test4', '6701e97831fb8757b80103782e707402e2a4c390', '2010-05-28 00:47:34', NULL, '4c726c5ed248b4df0e17be13d70f68b34e060d62', NULL, '2010-05-28 00:47:34', 'fd4bbf71f450d3f45bbc0bfad95b74603d5cff01', NULL, 'test4', NULL, 'aaa@bar.com')[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-28 00:47:34', "activated_at" = '2010-05-28 00:47:34', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 57ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 17:47:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'bar.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.4ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'aaa@bar.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 96ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-27 17:47:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 86ms (View: 31, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-27 17:47:44) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"+rIqJbENfFjc2JrqwMA4foeNc7M1yZ4lIyydTVQhdk4=", "controller"=>"organizations", "organization"=>{"name"=>"My Company", "domain"=>"bar.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test4' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'aaa@bar.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('My Company', '2010-05-28 00:47:44', '2010-05-28 00:47:44', 'bar.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 00:47:44', "organization_id" = 2 WHERE "id" = 2[0m
  [4;35;1mPhoneNumber Load (0.5ms)[0m   [0mSELECT "phone_numbers".id FROM "phone_numbers" WHERE ("phone_numbers"."number" = '8776601798') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/2
Completed in 104ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-27 17:47:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"organizations"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 65ms (DB: 3) | 302 Found [http://localhost/organizations/2]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-27 17:47:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.4ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 2) LIMIT 1[0m

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #3 of app/views/extensions/new.html.erb:
1: <h1>Almost done!</h1>
2: 
3: <p>Your company phone number is <%=h @organization.phone_number.number %></p>
4: <p>
5:     You'll be ready to receive messages in just a moment.  If you'd like to forward calls
6:     to a number, please enter it now.

    app/views/extensions/new.html.erb:3
    app/controllers/extensions_controller.rb:34:in `new'

Rendered rescues/_trace (124.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 18:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 150ms (View: 127, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 18:48:54) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"foobar", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test5", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 62ms (View: 28, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 18:49:00) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"users", "user"=>{"name"=>"foobar", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"test5", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com') LIMIT 1[0m
  [4;36;1mUser Create (0.9ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('foobar', 'd8ee8b95728c55384571ed1a67a5481dfc045300', '2010-05-28 01:49:00', NULL, 'ae87646f0df3f4c992bd02143053565f0f911053', NULL, '2010-05-28 01:49:00', '8ea3286b23375cb3619aa1b7ee3c09da23ec6063', NULL, 'test5', NULL, 'g@foo.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-28 01:49:00', "activated_at" = '2010-05-28 01:49:00', "activation_code" = NULL WHERE "id" = 3[0m
Redirected to http://localhost:3000/
Completed in 399ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 18:49:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'foo.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.4ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'g@foo.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 1171ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-27 18:49:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 87ms (View: 32, DB: 2) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-27 18:49:08) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"organizations", "organization"=>{"name"=>"xxxxx", "domain"=>"foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
  [4;35;1mOrganization Create (0.7ms)[0m   [0mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('xxxxx', '2010-05-28 01:49:08', '2010-05-28 01:49:08', 'foo.com', NULL)[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 01:49:08', "organization_id" = 3 WHERE "id" = 3[0m
  [4;35;1mPhoneNumber Create (0.4ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-28 01:49:08', '2010-05-28 01:49:08', 3)[0m
Redirected to http://localhost:3000/organizations/3
Completed in 220ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-27 18:49:08) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 57ms (DB: 3) | 302 Found [http://localhost/organizations/3]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-27 18:49:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (1.5ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
Completed in 155ms (View: 62, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-27 18:49:18) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 2) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 2, '', '2010-05-28 01:49:19', '2010-05-28 01:49:19', 3)[0m
Redirected to http://localhost:3000/messages
Completed in 142ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 18:49:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;35;1mMessage Load (0.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 113ms (View: 53, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 18:50:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 127ms (View: 60, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:52:43) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 59ms (View: 35, DB: 1) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 18:52:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 3) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 238ms (View: 149, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:52:46) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 43ms (View: 18, DB: 1) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:53:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
ERROR: compiling _run_erb_app47views47users47edit46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:11: syntax error, unexpected ')'
...fields_for :extension do |p| ).to_s); @output_buffer.concat ...
                              ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:16: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:18: syntax error, unexpected kENSURE, expecting ')'
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<section id=\"new_user\">\n  <header>\n      <h3>Update your profile</h3>\n  </header>\n"



;  @user.password = @user.password_confirmation = nil ; @output_buffer.concat "\n\n"

; @output_buffer.concat(( error_messages_for :user ).to_s); @output_buffer.concat "\n"
;  form_for :user, :url => edit_user_path(current_user) do |f| 
@output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( f.fields_for :extension do |p| ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( p.text_field :forward_to ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n<p>"

; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "</section>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:11: syntax error, unexpected ')'
...fields_for :extension do |p| ).to_s); @output_buffer.concat ...
                              ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:16: syntax error, unexpected kEND, expecting ')'
;  end 
      ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:18: syntax error, unexpected kENSURE, expecting ')'
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20: syntax error, unexpected kEND, expecting ')') on line #11 of app/views/users/edit.html.erb:
8: <% form_for :user, :url => edit_user_path(current_user) do |f| -%>
9: <%= f.text_field :name %>
10: <%= f.text_field :email %>
11: <%= f.fields_for :extension do |p| %>
12: <%= p.text_field :forward_to %>
13: <% end %>
14: 

    app/views/users/edit.html.erb:20:in `compile!'

Rendered rescues/_trace (115.7ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:54:03) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #12 of app/views/users/edit.html.erb:
9: <%= f.text_field :name %>
10: <%= f.text_field :email %>
11: <% f.fields_for :extension do |p| %>
12: <%= p.text_field :forward_to %>
13: <% end %>
14: 
15: <p><%= f.submit 'Update' %></p>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:12
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:8

Rendered rescues/_trace (116.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:54:27) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #12 of app/views/users/edit.html.erb:
9: <%= f.text_field :name %>
10: <%= f.text_field :email %>
11: <% f.fields_for @user.extension do |p| %>
12: <%= p.text_field :forward_to %>
13: <% end %>
14: 
15: <p><%= f.submit 'Update' %></p>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:12
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:8

Rendered rescues/_trace (221.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:55:38) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #12 of app/views/users/edit.html.erb:
9: <%= f.text_field :name %>
10: <%= f.text_field :email %>
11: <% f.fields_for @user.extension do |p| %>
12: <%= p.text_field :forward_to %>
13: <% end %>
14: 
15: <p><%= f.submit 'Update' %></p>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:12
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:8

Rendered rescues/_trace (130.8ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:56:17) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #12 of app/views/users/edit.html.erb:
9: <%= f.text_field :name %>
10: <%= f.text_field :email %>
11: <% f.fields_for :extension do |p| %>
12: <%= p.text_field :forward_to %>
13: <% end %>
14: 
15: <p><%= f.submit 'Update' %></p>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:12
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:8

Rendered rescues/_trace (125.9ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:56:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #12 of app/views/users/edit.html.erb:
9: <%= f.text_field :name %>
10: <%= f.text_field :email %>
11: <% f.fields_for :extension do |p| %>
12: <%= p.text_field :forward_to %>
13: <% end %>
14: 
15: <p><%= f.submit 'Update' %></p>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:12
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:8

Rendered rescues/_trace (224.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:58:11) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 89ms (View: 63, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing ExtensionsController#2 (for 127.0.0.1 at 2010-05-27 18:58:15) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"123"}, "action"=>"2", "_method"=>"put", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"extensions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 2. Actions: create, destroy, edit, index, new, show, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:59:09) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (undefined method `update_extension_path' for #<ActionView::Base:0x2339364>) on line #13 of app/views/users/edit.html.erb:
10: <p><%= f.submit 'Update' %></p>
11: <% end -%>
12: 
13: <% form_for @user.extension, :url => update_extension_path(@user.extension) do |f| -%>
14: <%= f.text_field :forward_to %>
15: <p><%= f.submit 'Update' %></p>
16: <% end -%>

    app/views/users/edit.html.erb:13

Rendered rescues/_trace (213.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:59:28) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.5ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 94ms (View: 68, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 18:59:31) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"123"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
  [4;36;1mExtension Update (0.6ms)[0m   [0;1mUPDATE "extensions" SET "updated_at" = '2010-05-28 01:59:31', "forward_to" = '123' WHERE "id" = 2[0m
Redirected to http://localhost:3000/extensions/2
Completed in 126ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 18:59:31) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 233ms (View: 33, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 18:59:33) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 77ms (View: 51, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 18:59:46) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"Foo Bar", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:00:01) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 90ms (View: 65, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:00:05) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foo bar", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:00:18) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (undefined method `update_user_path' for #<ActionView::Base:0x24fd4e8>) on line #7 of app/views/users/edit.html.erb:
4:   </header>
5: <% @user.password = @user.password_confirmation = nil %>
6: 
7: <% form_for :user, :url => update_user_path(@user) do |f| -%>
8: <%= f.text_field :name %>
9: <%= f.text_field :email %>
10: <p><%= f.submit 'Update' %></p>

    app/views/users/edit.html.erb:7

Rendered rescues/_trace (119.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:00:34) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 90ms (View: 64, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:00:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 80ms (View: 53, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:00:37) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:01:34) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 187ms (View: 102, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:01:36) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 95ms (View: 67, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:01:38) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:02:32) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (2.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 234ms (View: 191, DB: 4) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:02:35) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 19:02:54) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"1234"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
  [4;35;1mExtension Update (0.7ms)[0m   [0mUPDATE "extensions" SET "updated_at" = '2010-05-28 02:02:55', "forward_to" = '1234' WHERE "id" = 2[0m
Redirected to http://localhost:3000/extensions/2
Completed in 1022ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 19:02:56) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 164ms (View: 40, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:02:58) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 90ms (View: 64, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:03:04) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foobar111", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:05:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 105ms (View: 79, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:05:07) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 19:07:45) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 860ms (View: 54, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:07:47) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 216ms (View: 190, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:07:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 90ms (View: 63, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#3 (for 127.0.0.1 at 2010-05-27 19:07:53) [POST]
  Parameters: {"commit"=>"Update", "action"=>"3", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"edit", "controller"=>"users", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionController::UnknownAction (No action responded to 3. Actions: activate, change_password, change_password_update, create, edit, index, new, and update):
  

Rendering rescues/layout (not_found)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:09:08) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.6ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 195ms (View: 110, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:09:10) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (70.2ms)
Rendered rescues/_request_and_response (4.2ms)
Rendering rescues/layout (method_not_allowed)


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 19:09:23) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"1234"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (1.3ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/2
Completed in 890ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 19:09:24) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 161ms (View: 39, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 19:09:30) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>""}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
  [4;36;1mExtension Update (0.8ms)[0m   [0;1mUPDATE "extensions" SET "updated_at" = '2010-05-28 02:09:30', "forward_to" = '' WHERE "id" = 2[0m
Redirected to http://localhost:3000/extensions/2
Completed in 137ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 19:09:30) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 158ms (View: 23, DB: 5) | 200 OK [http://localhost/extensions/2]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:09:34) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (69.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:10:34) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 91ms (View: 65, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:10:37) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (74.8ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 19:15:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 251ms (View: 125, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:15:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (2.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 106ms (View: 78, DB: 4) | 200 OK [http://localhost/users/3/edit]


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 19:15:31) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"1"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
  [4;35;1mExtension Update (0.6ms)[0m   [0mUPDATE "extensions" SET "updated_at" = '2010-05-28 02:15:31', "forward_to" = '1' WHERE "id" = 2[0m
Redirected to http://localhost:3000/extensions/2
Completed in 1017ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 19:15:32) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (1.2ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 161ms (View: 40, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:15:34) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 119ms (View: 92, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:15:37) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "user"=>{"name"=>"foobar2", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (5.5ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:16:34) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"fFm4iex0AuVwB2HC3EWi9Vh7OX+HUOjcpA6Quui9NWM=", "user"=>{"name"=>"foobar2", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (79.2ms)
Rendered rescues/_request_and_response (3.7ms)
Rendering rescues/layout (method_not_allowed)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 19:17:04) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 113ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 19:17:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 50ms (View: 38, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-27 19:17:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 82ms (View: 61, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 19:17:16) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "controller"=>"users", "user"=>{"name"=>"abc", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"abc", "email"=>"abc@def.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'abc') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'abc@def.com') LIMIT 1[0m
  [4;35;1mUser Create (1.5ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "email") VALUES('abc', '92fa7b60a3abb3879c56e92145556cb75b35dfa5', '2010-05-28 02:17:16', NULL, '024a937920e0b0023ce2cb09dbe5a1710337514a', NULL, '2010-05-28 02:17:16', 'ba40ae09d98d439f943d6b6c51ffef1690a7bdf8', NULL, 'abc', NULL, 'abc@def.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 02:17:17', "activated_at" = '2010-05-28 02:17:17', "activation_code" = NULL WHERE "id" = 4[0m
Redirected to http://localhost:3000/
Completed in 1199ms (DB: 3) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 19:17:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;36;1mOrganization Load (0.4ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'def.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.4ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'abc@def.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 771ms (DB: 3) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-27 19:17:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 110ms (View: 56, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-27 19:17:23) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "controller"=>"organizations", "organization"=>{"name"=>"abc", "domain"=>"def.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'abc' AND "users".id <> 4) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'abc@def.com' AND "users".id <> 4) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "created_at", "updated_at", "domain", "enabled") VALUES('abc', '2010-05-28 02:17:23', '2010-05-28 02:17:23', 'def.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-28 02:17:23', "organization_id" = 4 WHERE "id" = 4[0m
  [4;36;1mPhoneNumber Create (0.4ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-28 02:17:23', '2010-05-28 02:17:23', 4)[0m
Redirected to http://localhost:3000/organizations/4
Completed in 112ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-27 19:17:24) [GET]
  Parameters: {"action"=>"show", "id"=>"4", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 4) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 54ms (DB: 2) | 302 Found [http://localhost/organizations/4]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-27 19:17:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 4) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 4) LIMIT 1[0m
Completed in 272ms (View: 71, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-27 19:17:26) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 4) [0m
  [4;35;1mPhoneNumber Load (3.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 4) LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 3) [0m
  [4;35;1mExtension Load (0.7ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 3) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 3, '', '2010-05-28 02:17:26', '2010-05-28 02:17:26', 4)[0m
Redirected to http://localhost:3000/messages
Completed in 173ms (DB: 8) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 19:17:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 3) [0m
Completed in 139ms (View: 76, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:17:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"4", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (5.6ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
Completed in 229ms (View: 197, DB: 7) | 200 OK [http://localhost/users/4/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:17:33) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"abc", "email"=>"abc@def.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (64.5ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:17:57) [GET]
  Parameters: {"action"=>"edit", "id"=>"4", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `logout_path' for #<ActionView::Base:0x22446d4>) on line #14 of app/views/layouts/application.html.erb:
11:     <ul>
12:              <% if logged_in?%>
13:              <li>Welcome <%= current_user.name %>(<%= current_user.login %>)</li>
14:              <li><%= link_to('Log Out', logout_path) %></li>
15:              <% else %>
16:              <li><%= link_to('Log In', login_path) %></li>
17:              <% end %>

    app/views/layouts/application.html.erb:14

Rendered rescues/_trace (114.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:18:13) [GET]
  Parameters: {"action"=>"edit", "id"=>"4", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
Completed in 206ms (View: 179, DB: 2) | 200 OK [http://localhost/users/4/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:18:16) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"abc", "email"=>"abc@def.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (71.7ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:18:23) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"abc", "email"=>"abc@def.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (184.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:18:46) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"abc", "email"=>"abc@def.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (78.5ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (method_not_allowed)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:19:58) [GET]
  Parameters: {"action"=>"edit", "id"=>"4", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (2.5ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
Completed in 104ms (View: 76, DB: 4) | 200 OK [http://localhost/users/4/edit]


Processing UsersController#create (for 127.0.0.1 at 2010-05-27 19:20:02) [POST]
  Parameters: {"commit"=>"Update", "action"=>"create", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "controller"=>"users", "user"=>{"name"=>"abc", "email"=>"abc@def.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'abc@def.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 131ms (View: 91, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:20:13) [GET]
  Parameters: {"action"=>"edit", "id"=>"4", "controller"=>"users"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 4ms (DB: 0) | 302 Found [http://localhost/users/4/edit]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 19:20:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 19:20:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 59ms (View: 47, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 19:20:21) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "controller"=>"sessions", "login"=>"test5", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test5' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
Redirected to http://localhost:3000/messages
Completed in 104ms (DB: 3) | 302 Found [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 19:20:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (7.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 121ms (View: 43, DB: 10) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:20:23) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (undefined local variable or method `edit_users_path' for #<ActionView::Base:0x2575df8>) on line #7 of app/views/users/edit.html.erb:
4:   </header>
5: <% @user.password = @user.password_confirmation = nil %>
6: 
7: <% form_for :user, :url => edit_users_path do |f| -%>
8: <%= f.text_field :name %>
9: <%= f.text_field :email %>
10: <p><%= f.submit 'Update' %></p>

    app/views/users/edit.html.erb:7

Rendered rescues/_trace (111.9ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:20:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.5ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 101ms (View: 74, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:20:32) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (189.4ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:22:27) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (75.9ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:23:17) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (76.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (method_not_allowed)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-27 19:23:42) [POST]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "user"=>{"name"=>"foobar", "email"=>"g@foo.com"}}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (74.2ms)
Rendered rescues/_request_and_response (5.2ms)
Rendering rescues/layout (method_not_allowed)


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 19:24:43) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>""}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
  [4;35;1mExtension Update (0.8ms)[0m   [0mUPDATE "extensions" SET "updated_at" = '2010-05-28 02:24:44', "forward_to" = '' WHERE "id" = 2[0m
Redirected to http://localhost:3000/extensions/2
Completed in 1036ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing ExtensionsController#show (for 127.0.0.1 at 2010-05-27 19:24:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
Rendering template within layouts/application
Rendering extensions/show
Completed in 173ms (View: 53, DB: 4) | 200 OK [http://localhost/extensions/2]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:25:16) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 140ms (View: 113, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 19:25:20) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foobarx", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-28 02:25:20', "name" = 'foobarx' WHERE "id" = 3[0m
Redirected to http://localhost:3000/users/3
Completed in 52ms (DB: 3) | 302 Found [http://localhost/users/3]


Processing UsersController#show (for 127.0.0.1 at 2010-05-27 19:25:20) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/show.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2010-05-27 19:25:55) [GET]
  Parameters: {"action"=>"show", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/show.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 19:25:59) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foobarx", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 67ms (DB: 4) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:25:59) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 122ms (View: 94, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing ExtensionsController#update (for 127.0.0.1 at 2010-05-27 19:26:22) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"123"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"2", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."id" = 2 AND ("extensions".phone_number_id = 2)) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2 AND "extensions".id <> 2) LIMIT 1[0m
  [4;36;1mExtension Update (0.5ms)[0m   [0;1mUPDATE "extensions" SET "updated_at" = '2010-05-28 02:26:22', "forward_to" = '123' WHERE "id" = 2[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 132ms (DB: 5) | 302 Found [http://localhost/extensions/2]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:26:22) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (2.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 99ms (View: 70, DB: 4) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 19:26:42) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foob", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Update (0.8ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 02:26:42', "name" = 'foob' WHERE "id" = 3[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 50ms (DB: 3) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 19:26:43) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 121ms (View: 90, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 19:26:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (2.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 3) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 148ms (View: 53, DB: 6) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 19:26:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (2.6ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 188ms (View: 107, DB: 6) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:09:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 110ms (View: 82, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 20:09:43) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"123"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foob", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 45ms (DB: 2) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:09:43) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (2.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 109ms (View: 77, DB: 4) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:10:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 114ms (View: 88, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 20:10:34) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"1234"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foob", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 43ms (DB: 2) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:10:34) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 108ms (View: 77, DB: 3) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 20:11:10) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"1235"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foob", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 42ms (DB: 2) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:11:11) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 97ms (View: 70, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:16:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 89ms (View: 63, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 20:16:17) [PUT]
  Parameters: {"commit"=>"Update", "extension"=>{"forward_to"=>"1234"}, "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"foob", "email"=>"g@foo.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 44ms (DB: 2) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:16:17) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (2.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 111ms (View: 80, DB: 4) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:16:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 239ms (View: 213, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:17:01) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (2.7ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `f' for #<ActionView::Base:0x24fdee8>) on line #16 of app/views/users/edit.html.erb:
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>
15: 
16: <% f.form_for :extension do |f| -%>
17: <%= f.text_field :forward_to %>
18: <p><%= f.submit 'Update' %></p>
19: <% end -%>

    app/views/users/edit.html.erb:16

Rendered rescues/_trace (119.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:17:15) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for @user.extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (129.5ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:17:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (240.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:18:10) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for @user.extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (124.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:18:18) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (127.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:19:09) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (129.4ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:19:11) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (126.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:19:28) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (244.2ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:19:30) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (138.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:19:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (129.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:20:58) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (217.8ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:21:01) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (133.8ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:21:21) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (123.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:21:27) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (126.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:21:40) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (4.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (126.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:23:55) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension_attributes do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (216.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:24:04) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 75ms (View: 49, DB: 1) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:24:20) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m

ActionView::TemplateError (`@user[extension_attributes]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (222.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:24:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (`@user[extension]' is not allowed as an instance variable name) on line #11 of app/views/users/edit.html.erb:
8:   <%= f.text_field :name %>
9:   <%= f.text_field :email %>
10:   <% f.fields_for :extension do |e| -%>
11:     <%= e.text_field :forward_to %>
12:   <% end -%>
13:   <p><%= f.submit 'Update' %></p>
14: <% end -%>

    lib/my_form_builder.rb:12:in `instance_variable_get'
    lib/my_form_builder.rb:12:in `text_field'
    app/views/users/edit.html.erb:11
    app/views/users/edit.html.erb:10
    app/views/users/edit.html.erb:7

Rendered rescues/_trace (122.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:25:00) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 70ms (View: 45, DB: 1) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:25:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 75ms (View: 47, DB: 1) | 200 OK [http://localhost/users/3/edit]


Processing UsersController#update (for 127.0.0.1 at 2010-05-27 20:25:32) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "authenticity_token"=>"TZuNXgJW7cpn9NXu3COkqfJ6zDG1paIYGGojnDV5Sfg=", "id"=>"3", "controller"=>"users", "user"=>{"name"=>"fooba", "email"=>"g@foo.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'test5' AND "users".id <> 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'g@foo.com' AND "users".id <> 3) LIMIT 1[0m
  [4;36;1mUser Update (1.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 03:25:32', "name" = 'fooba' WHERE "id" = 3[0m
Redirected to http://localhost:3000/users/3/edit
Completed in 50ms (DB: 3) | 302 Found [http://localhost/users/3]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:25:33) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 64ms (View: 40, DB: 1) | 200 OK [http://localhost/users/3/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 20:25:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 227ms (View: 162, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-27 20:25:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 3) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Completed in 729ms (View: 47, DB: 4) | 200 OK [http://localhost/users]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:30:57) [GET]
  Parameters: {"action"=>"show", "id"=>"google3", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mGoogle3Token Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'Google3Token' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject):
  oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:30:in `get_request_token'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:23:in `show'

Rendered rescues/_trace (184.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#index (for 127.0.0.1 at 2010-05-27 20:33:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mConsumerToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) [0m
Rendering template within layouts/application
Rendering oauth_consumers/index
Completed in 79ms (View: 31, DB: 2) | 200 OK [http://localhost/oauth_consumers]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:33:57) [GET]
  Parameters: {"action"=>"show", "id"=>"google3", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mGoogle3Token Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'Google3Token' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject):
  oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:30:in `get_request_token'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:23:in `show'

Rendered rescues/_trace (92.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:35:48) [GET]
  Parameters: {"action"=>"show", "id"=>"google3", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mGoogle3Token Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'Google3Token' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject):
  oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:30:in `get_request_token'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:23:in `show'

Rendered rescues/_trace (97.0ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:35:51) [GET]
  Parameters: {"action"=>"show", "id"=>"google3", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mGoogle3Token Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'Google3Token' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject):
  oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:30:in `get_request_token'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:23:in `show'

Rendered rescues/_trace (96.9ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:36:06) [GET]
  Parameters: {"action"=>"show", "id"=>"fire_eagle", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

NameError (uninitialized constant Oauth::Controllers::ConsumerController::RecordNotFound):
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:69:in `load_consumer'

Rendered rescues/_trace (97.7ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:36:11) [GET]
  Parameters: {"action"=>"show", "id"=>"google3", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mGoogle3Token Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'Google3Token' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject):
  oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:30:in `get_request_token'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:23:in `show'

Rendered rescues/_trace (96.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:37:18) [GET]
  Parameters: {"action"=>"show", "id"=>"google3", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mGoogle3Token Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'Google3Token' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject):
  oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:30:in `get_request_token'
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:23:in `show'

Rendered rescues/_trace (99.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:37:22) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m

NameError (uninitialized constant Oauth::Controllers::ConsumerController::RecordNotFound):
  /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/controllers/consumer_controller.rb:69:in `load_consumer'

Rendered rescues/_trace (101.0ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:43:39) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2F5eEJWm0ONllI-G07qCTJ9kuFObc2
Completed in 457ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-05-27 20:43:57) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"amT7YvnGWl8OiookyE6BX1wx", "oauth_token"=>"4/5eEJWm0ONllI-G07qCTJ9kuFObc2"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 3) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mGoogleToken Create (0.9ms)[0m   [0;1mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-05-28 03:43:57', '1/G-0JO2qloQD8GwIqeUuuBzeDZpcVyFQ7mUAIPkUjGZw', '2010-05-28 03:43:57', 3, 'GoogleToken', 'lWHSjbzU9NqbqCRPrATka+CO')[0m
Redirected to http://localhost:3000/
Completed in 397ms (DB: 3) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=amT7YvnGWl8OiookyE6BX1wx&oauth_token=4%2F5eEJWm0ONllI-G07qCTJ9kuFObc2]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 20:43:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 3) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 851ms (View: 40, DB: 3) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:46:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
ERROR: compiling _run_erb_app47views47users47edit46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:21: syntax error, unexpected kENSURE, expecting kEND
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:23: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47users47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<section id=\"new_user\">\n  <header>\n      <h3>Update your profile</h3>\n  </header>\n"



;  @user.password = @user.password_confirmation = nil ; @output_buffer.concat "\n\n"

;  form_for @user do |f| 
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n  <p>"
; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "\n"
;  form_for :extension do |f| 
@output_buffer.concat(( f.text_field :forward_to ).to_s); @output_buffer.concat "\n<p>"
; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "\n"
;  if user.google.nil? ; @output_buffer.concat "\n<p>"
; @output_buffer.concat " link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google') to import your contacts.</p>\n</section>"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:23:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:21: syntax error, unexpected kENSURE, expecting kEND
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:23: syntax error, unexpected $end, expecting kEND) on line #21 of app/views/users/edit.html.erb:
18: <% if user.google.nil? %>
19: <p><%= link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google') to import your contacts.</p>
20: </section>

    app/views/users/edit.html.erb:23:in `compile!'

Rendered rescues/_trace (110.1ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:47:11) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
ERROR: compiling _run_erb_app47views47users47edit46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:19: syntax error, unexpected tIDENTIFIER, expecting ')'
...sumers', :action=>'google') to import your contacts.</p>
                              ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20: syntax error, unexpected '<'
<% else ).to_s); @output_buffer...
 ^
Function body:           def _run_erb_app47views47users47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<section id=\"new_user\">\n  <header>\n      <h3>Update your profile</h3>\n  </header>\n"



;  @user.password = @user.password_confirmation = nil ; @output_buffer.concat "\n\n"

;  form_for @user do |f| 
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n  <p>"
; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "\n"
;  form_for :extension do |f| 
@output_buffer.concat(( f.text_field :forward_to ).to_s); @output_buffer.concat "\n<p>"
; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "\n"
;  if user.google.nil? ; @output_buffer.concat "\n<p>"
; @output_buffer.concat(( link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google') to import your contacts.</p>
<% else ).to_s); @output_buffer.concat "\n<p>Your Google Account is linked.</p>\n"

;  end ; @output_buffer.concat "\n</section>"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:26:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:19: syntax error, unexpected tIDENTIFIER, expecting ')'
...sumers', :action=>'google') to import your contacts.</p>
                              ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20: syntax error, unexpected '<'
<% else ).to_s); @output_buffer...
 ^) on line #19 of app/views/users/edit.html.erb:
16: <% end -%>
17: 
18: <% if user.google.nil? %>
19: <p><%= link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google') to import your contacts.</p>
20: <% else %>
21: <p>Your Google Account is linked.</p>
22: <% end %>

    app/views/users/edit.html.erb:26:in `compile!'

Rendered rescues/_trace (201.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:47:23) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
ERROR: compiling _run_erb_app47views47users47edit46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:19: syntax error, unexpected tIDENTIFIER, expecting ')'
...umers', :action=>'google')) to import your contacts.</p>
                              ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20: syntax error, unexpected '<'
<% else ).to_s); @output_buffer...
 ^
Function body:           def _run_erb_app47views47users47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<section id=\"new_user\">\n  <header>\n      <h3>Update your profile</h3>\n  </header>\n"



;  @user.password = @user.password_confirmation = nil ; @output_buffer.concat "\n\n"

;  form_for @user do |f| 
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n  <p>"
; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "\n"
;  form_for :extension do |f| 
@output_buffer.concat(( f.text_field :forward_to ).to_s); @output_buffer.concat "\n<p>"
; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "\n"
;  if user.google.nil? ; @output_buffer.concat "\n<p>"
; @output_buffer.concat(( link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google')) to import your contacts.</p>
<% else ).to_s); @output_buffer.concat "\n<p>Your Google Account is linked.</p>\n"

;  end ; @output_buffer.concat "\n</section>"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:26:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:19: syntax error, unexpected tIDENTIFIER, expecting ')'
...umers', :action=>'google')) to import your contacts.</p>
                              ^
/Users/sbazyl/railsconf/voicemail/app/views/users/edit.html.erb:20: syntax error, unexpected '<'
<% else ).to_s); @output_buffer...
 ^) on line #19 of app/views/users/edit.html.erb:
16: <% end -%>
17: 
18: <% if user.google.nil? %>
19: <p><%= link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google')) to import your contacts.</p>
20: <% else %>
21: <p>Your Google Account is linked.</p>
22: <% end %>

    app/views/users/edit.html.erb:26:in `compile!'

Rendered rescues/_trace (112.2ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:47:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (undefined local variable or method `user' for #<ActionView::Base:0x22accd4>) on line #18 of app/views/users/edit.html.erb:
15: <p><%= f.submit 'Update' %></p>
16: <% end -%>
17: 
18: <% if user.google.nil? %>
19: <p><%= link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google')) %> to import your contacts.</p>
20: <% else %>
21: <p>Your Google Account is linked.</p>

    app/views/users/edit.html.erb:18

Rendered rescues/_trace (116.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:47:47) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit

ActionView::TemplateError (uninitialized constant User::Google) on line #18 of app/views/users/edit.html.erb:
15: <p><%= f.submit 'Update' %></p>
16: <% end -%>
17: 
18: <% if @user.google.nil? %>
19: <p><%= link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google')) %> to import your contacts.</p>
20: <% else %>
21: <p>Your Google Account is linked.</p>

    app/views/users/edit.html.erb:18

Rendered rescues/_trace (238.9ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:48:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 3) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Completed in 54ms (View: 28, DB: 2) | 200 OK [http://localhost/users/3/edit]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-27 20:49:01) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 3) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 49ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 20:49:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 20:49:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 71ms (View: 60, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 20:49:09) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "login"=>"test4", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test4' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
Redirected to http://localhost:3000/messages
Completed in 81ms (DB: 3) | 302 Found [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 20:49:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m

NoMethodError (undefined method `messages' for nil:NilClass):
  app/controllers/messages_controller.rb:8:in `index'

Rendered rescues/_trace (83.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-27 20:49:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Completed in 41ms (View: 28, DB: 1) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 20:49:23) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "login"=>"test", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'test' from 127.0.0.1 at Fri May 28 03:49:23 UTC 2010
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 20:49:27) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "login"=>"test2", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (login = 'test2' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for 'test2' from 127.0.0.1 at Fri May 28 03:49:27 UTC 2010
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 9, DB: 1) | 200 OK [http://localhost/session]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-27 20:49:33) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "login"=>"test3", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE (login = 'test3' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/messages
Completed in 82ms (DB: 2) | 302 Found [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 20:49:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 444ms (View: 381, DB: 5) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:49:36) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ActionView::TemplateError (No route matches {:action=>"google", :controller=>"oauth_consumers"}) on line #19 of app/views/users/edit.html.erb:
16: <% end -%>
17: 
18: <% if @user.google.nil? %>
19: <p><%= link_to('Link your Google Account', url_for(:controller=>'oauth_consumers', :action=>'google')) %> to import your contacts.</p>
20: <% else %>
21: <p>Your Google Account is linked.</p>
22: <% end %>

    app/views/users/edit.html.erb:19

Rendered rescues/_trace (119.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2010-05-27 20:50:09) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Completed in 69ms (View: 42, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-27 20:50:13) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2F0iK3rEMAmiALjAr8Xt5nqT0_4CKh
Completed in 442ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-05-27 20:50:20) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"zeNSEnZt9X+SRugOGAaz+KJU", "oauth_token"=>"4/0iK3rEMAmiALjAr8Xt5nqT0_4CKh"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.7ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mGoogleToken Create (0.7ms)[0m   [0;1mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-05-28 03:50:20', '1/_ErgRf0LbC10xKJHKYZ_K8JL-pUcO9nOiGkgS0Hl2cs', '2010-05-28 03:50:20', 1, 'GoogleToken', '4Ew2UHyB2Q/FLqqh+kWSZmcN')[0m
Redirected to http://localhost:3000/
Completed in 501ms (DB: 3) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=zeNSEnZt9X%2BSRugOGAaz%2BKJU&oauth_token=4%2F0iK3rEMAmiALjAr8Xt5nqT0_4CKh]


Processing HomeController#index (for 127.0.0.1 at 2010-05-27 20:50:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 103ms (View: 11, DB: 3) | 200 OK [http://localhost/]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:29:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.5ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.5ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1498ms (View: 354, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:29:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 340ms (View: 47, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:30:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.1ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.4ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.5ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 314ms (View: 68, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:31:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m

SyntaxError (/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:35: syntax error, unexpected tIDENTIFIER, expecting ')'
      contact.name = entry.elements["title"].text
                                          ^
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:36: syntax error, unexpected tIDENTIFIER, expecting kEND
      contact.phones = entry.collect("phoneNumber") do |element|
                                                 ^
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:37: syntax error, unexpected tIDENTIFIER, expecting kEND
...(:rel=>element.attributes["rel"], :value=>element.text)
                              ^
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:39: syntax error, unexpected tIDENTIFIER, expecting kEND
      contact.email = entry.collect("email") do |element|
                                          ^
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:40: syntax error, unexpected tIDENTIFIER, expecting kEND
...(:rel=>element.attributes["rel"], :value=>element.text)
                              ^
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:40: unterminated string meets end of file
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:40: syntax error, unexpected $end, expecting kEND
#puts(fetcher.fetch)
                    ^):
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (213.4ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:32:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 291ms (View: 57, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:32:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.5ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 782ms (View: 139, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:33:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NameError (uninitialized constant Contacts::GoogleContactsFetcher::HttpSuccess):
  lib/contacts.rb:25:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (116.7ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:33:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NameError (uninitialized constant Contacts::GoogleContactsFetcher::HTTPSuccess):
  lib/contacts.rb:25:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (209.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:33:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 531ms (View: 48, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:34:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.5ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (2.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 631ms (View: 70, DB: 9) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:34:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (2.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 571ms (View: 66, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:35:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (1 for 0)):
  lib/contacts.rb:39:in `collect'
  lib/contacts.rb:39:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (103.2ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:36:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (1 for 0)):
  lib/contacts.rb:39:in `collect'
  lib/contacts.rb:39:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (101.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:37:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NameError (undefined local variable or method `elements' for #<Contacts::GoogleContactsFetcher:0x24c523c>):
  lib/contacts.rb:42:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (94.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:37:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (1 for 0)):
  lib/contacts.rb:39:in `collect'
  lib/contacts.rb:39:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (102.9ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:43:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NameError (undefined local variable or method `element' for #<Contacts::GoogleContactsFetcher:0x239bbb8>):
  lib/contacts.rb:42:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (95.8ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:43:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.5ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NameError (undefined local variable or method `elements' for #<Contacts::GoogleContactsFetcher:0x24c1934>):
  lib/contacts.rb:42:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (98.3ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:43:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (undefined method `email=' for #<Contacts::Contact:0x24dacb8 @name=nil, @phones=[]>):
  lib/contacts.rb:42:in `parse_entry'
  lib/contacts.rb:30:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:28:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (95.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:44:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.4ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1375ms (View: 64, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:45:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1653ms (View: 66, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:47:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.7ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1049ms (View: 153, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:47:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.2ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 909ms (View: 60, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:48:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.split):
  lib/contacts.rb:46:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:897:in `collect'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:896:in `collect'
  lib/contacts.rb:45:in `parse_entry'
  lib/contacts.rb:34:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:33:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (211.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:49:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.5ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 914ms (View: 52, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:51:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (2.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.4ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (3.7ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1173ms (View: 105, DB: 10) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:51:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 919ms (View: 79, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:51:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (0 for 1)):
  lib/contacts.rb:48:in `attribute'
  lib/contacts.rb:48:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:46:in `parse_entry'
  lib/contacts.rb:34:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:33:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (112.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:54:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (0 for 1)):
  lib/contacts.rb:48:in `attribute'
  lib/contacts.rb:48:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:46:in `parse_entry'
  lib/contacts.rb:34:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:33:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (110.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:55:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.2ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (private method `split' called for rel='http://schemas.google.com/g/2005#other':REXML::Attribute):
  lib/contacts.rb:48:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:46:in `parse_entry'
  lib/contacts.rb:34:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:33:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (204.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:55:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (1 for 0)):
  lib/contacts.rb:48:in `initialize'
  lib/contacts.rb:48:in `new'
  lib/contacts.rb:48:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:46:in `parse_entry'
  lib/contacts.rb:34:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:33:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (106.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:56:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ArgumentError (wrong number of arguments (1 for 0)):
  lib/contacts.rb:48:in `initialize'
  lib/contacts.rb:48:in `new'
  lib/contacts.rb:48:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:46:in `parse_entry'
  lib/contacts.rb:34:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:33:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (105.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 21:59:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<):
  lib/contacts.rb:53:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:51:in `parse_entry'
  lib/contacts.rb:39:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:38:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (205.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:00:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.1ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<):
  lib/contacts.rb:53:in `parse_entry'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:51:in `parse_entry'
  lib/contacts.rb:39:in `fetch'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
  /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
  lib/contacts.rb:38:in `fetch'
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (100.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:01:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (2.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.6ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1082ms (View: 66, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:02:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.7ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1183ms (View: 66, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:03:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.6ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.8ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1401ms (View: 69, DB: 9) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:04:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.2ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.6ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1138ms (View: 181, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:04:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.7ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 981ms (View: 63, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:05:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1091ms (View: 61, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:06:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.6ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 936ms (View: 62, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:07:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m

SyntaxError (/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:59: unterminated string meets end of file
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:59: syntax error, unexpected $end, expecting ')'
#puts(fetcher.fetch)
                    ^):
  app/controllers/messages_controller.rb:10:in `index'

Rendered rescues/_trace (226.2ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:07:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.2ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 932ms (View: 60, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:08:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1215ms (View: 60, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:08:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.2ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1298ms (View: 83, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:09:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1023ms (View: 56, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:10:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.6ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1046ms (View: 63, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:10:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 826ms (View: 49, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:10:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1057ms (View: 62, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:10:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (6.4ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.8ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 1060ms (View: 93, DB: 13) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:13:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined method `value' for #<REXML::Element:0x25556e8>) on line #26 of app/views/messages/index.html.erb:
23:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
24:       <% end %>
25:       <% contact.emails.each do |p| %>
26:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
27:       <% end %>
28:       </li>
29:    <% end %>

    app/views/messages/index.html.erb:26
    app/views/messages/index.html.erb:25:in `each'
    app/views/messages/index.html.erb:25
    app/views/messages/index.html.erb:19:in `each'
    app/views/messages/index.html.erb:19
    app/controllers/messages_controller.rb:12:in `index'

Rendered rescues/_trace (119.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:14:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.7ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined method `value' for #<REXML::Element:0x251c2e4>) on line #26 of app/views/messages/index.html.erb:
23:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
24:       <% end %>
25:       <% contact.emails.each do |p| %>
26:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
27:       <% end %>
28:       </li>
29:    <% end %>

    app/views/messages/index.html.erb:26
    app/views/messages/index.html.erb:25:in `each'
    app/views/messages/index.html.erb:25
    app/views/messages/index.html.erb:19:in `each'
    app/views/messages/index.html.erb:19
    app/controllers/messages_controller.rb:12:in `index'

Rendered rescues/_trace (124.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:16:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (2.6ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined method `value' for #<REXML::Element:0x255556c>) on line #26 of app/views/messages/index.html.erb:
23:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
24:       <% end %>
25:       <% contact.emails.each do |p| %>
26:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
27:       <% end %>
28:       </li>
29:    <% end %>

    app/views/messages/index.html.erb:26
    app/views/messages/index.html.erb:25:in `each'
    app/views/messages/index.html.erb:25
    app/views/messages/index.html.erb:19:in `each'
    app/views/messages/index.html.erb:19
    app/controllers/messages_controller.rb:12:in `index'

Rendered rescues/_trace (126.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:16:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.7ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (undefined method `value' for #<REXML::Element:0x2315ab8>) on line #26 of app/views/messages/index.html.erb:
23:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
24:       <% end %>
25:       <% contact.emails.each do |p| %>
26:       <span class="receved"><%=h p.value %> <%=h p.rel %></span>
27:       <% end %>
28:       </li>
29:    <% end %>

    app/views/messages/index.html.erb:26
    app/views/messages/index.html.erb:25:in `each'
    app/views/messages/index.html.erb:25
    app/views/messages/index.html.erb:19:in `each'
    app/views/messages/index.html.erb:19
    app/controllers/messages_controller.rb:12:in `index'

Rendered rescues/_trace (132.6ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-27 22:16:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.1ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.3ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 935ms (View: 59, DB: 7) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
Migrating to CreateOauthConsumerTokens (20100525222447)
Migrating to CreateOrganizations (20100525233106)
Migrating to AddUsersToOrg (20100525234001)
Migrating to CreatePhoneNumbers (20100525235346)
Migrating to CreateExtensions (20100525235510)
Migrating to CreateMessages (20100525235616)
Migrating to CreateInvitations (20100526222914)
Migrating to CreateContactProperties (20100528052237)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "contact_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "contact_id" integer, "field" varchar(255), "rel" varchar(255), "value" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528052237')[0m
Migrating to CreateContacts (20100528052553)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "contacts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528052553')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("contact_properties")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("contacts")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (73.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
Migrating to CreateOauthConsumerTokens (20100525222447)
Migrating to CreateOrganizations (20100525233106)
Migrating to AddUsersToOrg (20100525234001)
Migrating to CreatePhoneNumbers (20100525235346)
Migrating to CreateExtensions (20100525235510)
Migrating to CreateMessages (20100525235616)
Migrating to CreateInvitations (20100526222914)
Migrating to CreateContactProperties (20100528052237)
Migrating to CreateContacts (20100528052553)
Migrating to AddUserContactSync (20100528175705)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "users" ADD "last_contact_sync" datetime[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175705')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("contact_properties")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("contacts")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-28 11:19:09) [GET]

ActionController::RoutingError (No route matches "/sesson/new_openid" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:20:47) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 301ms (View: 288, DB: 1) | 200 OK [http://localhost/openid]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-28 11:20:55) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "identifer"=>"google.com", "controller"=>"sessions"}
Failed login for '' from 127.0.0.1 at Fri May 28 18:20:55 UTC 2010
Rendering template within layouts/application
Rendering sessions/new
Completed in 43ms (View: 30, DB: 0) | 200 OK [http://localhost/session]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:21:37) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 33ms (View: 19, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:21:40) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "identifer"=>"google.com", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 20ms (View: 7, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:22:16) [GET]
  Parameters: {"action"=>"openid_start", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 31ms (View: 18, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:22:19) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}

NameError (undefined local variable or method `consumer' for #<SessionsController:0x244b0e0>):
  app/controllers/sessions_controller.rb:58:in `openid_start'

Rendered rescues/_trace (89.2ms)
Rendered rescues/_request_and_response (34.3ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:26:04) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}

NameError (uninitialized constant SessionsController::MemcacheStore):
  app/controllers/sessions_controller.rb:125:in `consumer'
  app/controllers/sessions_controller.rb:57:in `openid_start'

Rendered rescues/_trace (193.0ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:26:45) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Cache write: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>

NoMethodError (undefined method `get' for #<ActiveSupport::Cache::MemoryStore:0x129d564>):
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/store/memcache.rb:33:in `get_association'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/associationmanager.rb:116:in `get_association'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:243:in `begin_without_discovery'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:228:in `begin'
  app/controllers/sessions_controller.rb:57:in `openid_start'

Rendered rescues/_trace (87.7ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:28:28) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/sessions_controller.rb:125:in `initialize'
  app/controllers/sessions_controller.rb:125:in `new'
  app/controllers/sessions_controller.rb:125:in `consumer'
  app/controllers/sessions_controller.rb:57:in `openid_start'

Rendered rescues/_trace (194.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:30:10) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}

NameError (uninitialized constant SessionsController::CACHE):
  app/controllers/sessions_controller.rb:125:in `consumer'
  app/controllers/sessions_controller.rb:57:in `openid_start'

Rendered rescues/_trace (95.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:30:18) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}

NameError (uninitialized constant CACHE):
  app/controllers/sessions_controller.rb:125:in `consumer'
  app/controllers/sessions_controller.rb:57:in `openid_start'

Rendered rescues/_trace (203.8ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:31:11) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Cache write: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>

ArgumentError (wrong number of arguments (2 for 1)):
  app/controllers/sessions_controller.rb:71:in `url_for'
  app/controllers/sessions_controller.rb:71:in `openid_start'

Rendered rescues/_trace (91.4ms)
Rendered rescues/_request_and_response (3.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:32:58) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>

ArgumentError (wrong number of arguments (2 for 1)):
  app/controllers/sessions_controller.rb:71:in `url_for'
  app/controllers/sessions_controller.rb:71:in `openid_start'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:33:31) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 71ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:33:56) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"o9WIgjOLfE0SaoCv2fsdpC8pHBs=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:33:55Z0VNXZ7nf42pA0Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}

ActionController::RoutingError (No route matches {:action=>"complete"}):
  app/controllers/sessions_controller.rb:81:in `openid_complete'

Rendering rescues/layout (not_found)


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:35:10) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 98ms (View: 86, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:35:13) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 68ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:35:17) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"xNhIOyOurVgNA+Yy312kenOQUUM=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:35:17ZVebg5TzqIr2wnw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}

ActionController::RoutingError (No route matches {:action=>"complete"}):
  app/controllers/sessions_controller.rb:81:in `openid_complete'

Rendering rescues/layout (not_found)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:36:50) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"xNhIOyOurVgNA+Yy312kenOQUUM=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:35:17ZVebg5TzqIr2wnw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://google.com/openid?id=109052429299753016317') LIMIT 1[0m

NoMethodError (undefined method `opendid=' for #<User:0x221ab68>):
  app/controllers/sessions_controller.rb:106:in `openid_complete'

Rendered rescues/_trace (169.4ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:37:12) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"xNhIOyOurVgNA+Yy312kenOQUUM=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:35:17ZVebg5TzqIr2wnw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 162ms (DB: 1) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fgoogle.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T18%3A35%3A17ZVebg5TzqIr2wnw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=xNhIOyOurVgNA%2BYy312kenOQUUM%3D&openid.identity=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.claimed_id=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sbazyl%40google.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:37:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 6ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 11:37:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 50ms (View: 37, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:37:20) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:37:22) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 66ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:37:32) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"sdR13tXEb/P6QdLkvE4sqKEiSm0=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:37:32Z1GacYxPXUq_-uQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://google.com/openid?id=109052429299753016317') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Password can't be blank, Password is too short (minimum is 6 characters), Password confirmation can't be blank, Login can't be blank, Login is too short (minimum is 3 characters), Login use only letters, numbers, and .-_@ please., Email has already been taken):
  app/controllers/sessions_controller.rb:107:in `openid_complete'

Rendered rescues/_trace (97.4ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:42:26) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"sdR13tXEb/P6QdLkvE4sqKEiSm0=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:37:32Z1GacYxPXUq_-uQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 166ms (DB: 1) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fgoogle.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T18%3A37%3A32Z1GacYxPXUq_-uQ&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=sdR13tXEb%2FP6QdLkvE4sqKEiSm0%3D&openid.identity=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.claimed_id=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sbazyl%40google.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:42:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 11:42:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:42:31) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 19ms (View: 8, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:42:36) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 64ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:42:40) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"6TA4yN2KLr/5HChAQCuER/yuO2Q=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:42:40Zr7BdjlaLvTN3gw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://google.com/openid?id=109052429299753016317') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Login can't be blank, Login is too short (minimum is 3 characters), Login use only letters, numbers, and .-_@ please., Email has already been taken):
  app/controllers/sessions_controller.rb:108:in `openid_complete'

Rendered rescues/_trace (96.2ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:42:57) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"6TA4yN2KLr/5HChAQCuER/yuO2Q=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:42:40Zr7BdjlaLvTN3gw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 158ms (DB: 1) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fgoogle.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T18%3A42%3A40Zr7BdjlaLvTN3gw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=6TA4yN2KLr%2F5HChAQCuER%2FyuO2Q%3D&openid.identity=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.claimed_id=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sbazyl%40google.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:42:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 11:42:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 11:43:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 33ms (View: 21, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:43:04) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 22ms (View: 9, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:43:08) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 68ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:43:08) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ARF5B9LzvFuVZX3YLr40OVSPMiU=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T18:43:08Z5G5ZTk1e5dryTQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://google.com/openid?id=109052429299753016317') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'sbazyl@google.com') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email has already been taken):
  app/controllers/sessions_controller.rb:109:in `openid_complete'

Rendered rescues/_trace (99.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:43:34) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:43:39) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"crapalog.com"}
Performing discovery for crapalog.com
Discovering domain crapalog.com
Cache read: __GAPPS_OPENID__crapalog.com
Cache write: __GAPPS_OPENID__crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Discovery info = crapalog.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/crapalog.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/crapalog.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 1411ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:43:56) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/crapalog.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"X8tVcCWZKQma1DS9fxCN2uh1aAE=", "openid.ext1.value.email"=>"steve@crapalog.com", "openid.response_nonce"=>"2010-05-28T18:43:56Z-V6z8ckxIsLYYw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://crapalog.com/openid?id=107368009284755511794", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://crapalog.com/openid?id=107368009284755511794", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://crapalog.com/openid?id=107368009284755511794
Discovering user identity http://crapalog.com/openid?id=107368009284755511794 for domain crapalog.com
Cache read: __GAPPS_OPENID__crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Discovery info = http://crapalog.com/openid?id=107368009284755511794<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/crapalog.com/o8/ud?be=o8 claimed_id=http://crapalog.com/openid?id=107368009284755511794 local_id= canonical_id= used_yadis=true>
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'http://crapalog.com/openid?id=107368009284755511794') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."login" = 'steve@crapalog.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@crapalog.com') LIMIT 1[0m
  [4;36;1mUser Create (0.8ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "last_contact_sync", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '27161150c99de25c858c7bf3addc665b28ea79e1', '2010-05-28 18:44:02', NULL, 'a190e6e7d00bc9fd3f7ecd9b14ec5a2dc9dd4f51', NULL, '2010-05-28 18:44:02', 'b57d00a86e253c83a32f5f06bfadb515174cab3f', NULL, NULL, 'steve@crapalog.com', NULL, 'http://crapalog.com/openid?id=107368009284755511794', 'steve@crapalog.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-28 18:44:03', "activated_at" = '2010-05-28 18:44:02', "activation_code" = NULL WHERE "id" = 5[0m
Redirected to http://localhost:3000/messages
Completed in 6250ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fcrapalog.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T18%3A43%3A56Z-V6z8ckxIsLYYw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=X8tVcCWZKQma1DS9fxCN2uh1aAE%3D&openid.identity=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794&openid.claimed_id=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40crapalog.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:44:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 11:44:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:44:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 11:44:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:44:45) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:44:51) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"crapalog.com"}
Performing discovery for crapalog.com
Discovering domain crapalog.com
Cache read: __GAPPS_OPENID__crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Discovery info = crapalog.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/crapalog.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/crapalog.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 69ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:44:52) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/crapalog.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"3zyB1w9vyaQWDXaLB4IYHtBYpxw=", "openid.ext1.value.email"=>"steve@crapalog.com", "openid.response_nonce"=>"2010-05-28T18:44:52Z32kJmxpSbdZTpA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://crapalog.com/openid?id=107368009284755511794", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://crapalog.com/openid?id=107368009284755511794", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://crapalog.com/openid?id=107368009284755511794
Discovering user identity http://crapalog.com/openid?id=107368009284755511794 for domain crapalog.com
Cache read: __GAPPS_OPENID__crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Discovery info = http://crapalog.com/openid?id=107368009284755511794<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/crapalog.com/o8/ud?be=o8 claimed_id=http://crapalog.com/openid?id=107368009284755511794 local_id= canonical_id= used_yadis=true>
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://crapalog.com/openid?id=107368009284755511794') LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 239ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fcrapalog.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T18%3A44%3A52Z32kJmxpSbdZTpA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=3zyB1w9vyaQWDXaLB4IYHtBYpxw%3D&openid.identity=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794&openid.claimed_id=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40crapalog.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:44:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 11:44:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 11:45:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 11:45:33) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 11:45:37) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"sessions", "identifier"=>"crapalog.com"}
Performing discovery for crapalog.com
Discovering domain crapalog.com
Cache read: __GAPPS_OPENID__crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Discovery info = crapalog.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/crapalog.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/crapalog.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 166ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 11:45:38) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/crapalog.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"QWzoD2VVrtTzn2Yh4KqYioxaK0Q=", "openid.ext1.value.email"=>"steve@crapalog.com", "openid.response_nonce"=>"2010-05-28T18:45:37ZbTQsYusBK0i2iw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://crapalog.com/openid?id=107368009284755511794", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://crapalog.com/openid?id=107368009284755511794", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://crapalog.com/openid?id=107368009284755511794
Discovering user identity http://crapalog.com/openid?id=107368009284755511794 for domain crapalog.com
Cache read: __GAPPS_OPENID__crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=crapalog.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794
Discovery info = http://crapalog.com/openid?id=107368009284755511794<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/crapalog.com/o8/ud?be=o8 claimed_id=http://crapalog.com/openid?id=107368009284755511794 local_id= canonical_id= used_yadis=true>
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'http://crapalog.com/openid?id=107368009284755511794') LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 156ms (DB: 1) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fcrapalog.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T18%3A45%3A37ZbTQsYusBK0i2iw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcMyar04AjYVhUMIp2-DdDAQdaHvrsHJBJoxx08R0ML3Z6KY2Cg&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=QWzoD2VVrtTzn2Yh4KqYioxaK0Q%3D&openid.identity=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794&openid.claimed_id=http%3A%2F%2Fcrapalog.com%2Fopenid%3Fid%3D107368009284755511794&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40crapalog.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:45:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;35;1mExtension Load (0.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 5) LIMIT 1[0m

NoMethodError (undefined method `messages' for nil:NilClass):
  app/controllers/messages_controller.rb:8:in `index'

Rendered rescues/_trace (87.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:46:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'crapalog.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.4ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@crapalog.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 150ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-28 11:46:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 107ms (View: 51, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-28 11:46:28) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"organizations", "organization"=>{"name"=>"Crapalog", "domain"=>"crapalog.com"}}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."login" = 'steve@crapalog.com' AND "users".id <> 5) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@crapalog.com' AND "users".id <> 5) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Crapalog', NULL, '2010-05-28 18:46:28', '2010-05-28 18:46:28', 'crapalog.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 18:46:28', "organization_id" = 5 WHERE "id" = 5[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-28 18:46:28', '2010-05-28 18:46:28', 5)[0m
Redirected to http://localhost:3000/organizations/5
Completed in 123ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-28 11:46:28) [GET]
  Parameters: {"action"=>"show", "id"=>"5", "controller"=>"organizations"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 5) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 5) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 54ms (DB: 3) | 302 Found [http://localhost/organizations/5]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-28 11:46:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 5) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 5) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 5) LIMIT 1[0m
Completed in 254ms (View: 63, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-28 11:47:00) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"imQlsOOAxenVO49jXNdhYULr15O1jnN0yyvtSJzPul4=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 5) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 5) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 5) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 4) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 4) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 4, '', '2010-05-28 18:47:00', '2010-05-28 18:47:00', 5)[0m
Redirected to http://localhost:3000/messages
Completed in 207ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 11:47:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 5) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 5) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 5) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 5) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (undefined method `client' for nil:NilClass):
  app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (192.0ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 14:20:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 121ms (DB: 3) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-28 14:20:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.4ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 2) LIMIT 1[0m

ActionView::TemplateError (undefined method `number' for nil:NilClass) on line #3 of app/views/extensions/new.html.erb:
1: <h1>Almost done!</h1>
2: 
3: <p>Your company phone number is <%=h @organization.phone_number.number %></p>
4: <p>
5:     You'll be ready to receive messages in just a moment.  If you'd like to forward calls
6:     to a number, please enter it now.

    app/views/extensions/new.html.erb:3
    app/controllers/extensions_controller.rb:34:in `new'

Rendered rescues/_trace (223.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
Migrating to CreateContactProperties (20100528052237)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "contact_properties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "contact_id" integer, "field" varchar(255), "rel" varchar(255), "value" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528052237')[0m
Migrating to CreateContacts (20100528052553)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "contacts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528052553')[0m
Migrating to AddUserContactSync (20100528175705)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "last_contact_sync" datetime[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175705')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("contact_properties")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("contacts")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 14:23:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 101ms (View: 33, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-28 14:23:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 73ms (View: 51, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-28 14:24:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 65ms (View: 43, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-28 14:24:34) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 114ms (View: 103, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 14:24:40) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"+rIqJbENfFjc2JrqwMA4foeNc7M1yZ4lIyydTVQhdk4=", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Cache write: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 353ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-28 14:24:52) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/google.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"sRM2mHbLMMz8ZvjxlmgP4fPgEBE=", "openid.ext1.value.email"=>"sbazyl@google.com", "openid.response_nonce"=>"2010-05-28T21:24:53Zc24S7Dzxgdk26Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://google.com/openid?id=109052429299753016317", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://google.com/openid?id=109052429299753016317
Discovering user identity http://google.com/openid?id=109052429299753016317 for domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317
Discovery info = http://google.com/openid?id=109052429299753016317<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id=http://google.com/openid?id=109052429299753016317 local_id= canonical_id= used_yadis=true>
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'http://google.com/openid?id=109052429299753016317') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com') LIMIT 1[0m
  [4;35;1mUser Create (1.1ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "last_contact_sync", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', 'd5654cba458ba2056c7fd7f5a0f77b5cf81aa9b8', '2010-05-28 21:24:53', NULL, '518060db823df5744f854edbc32855e93723df6f', NULL, '2010-05-28 21:24:53', '5c2d9aab5fb47eacb2e1c7d76ca33cc646bfb352', NULL, NULL, 'sbazyl@google.com', NULL, 'http://google.com/openid?id=109052429299753016317', 'sbazyl@google.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 21:24:53', "activated_at" = '2010-05-28 21:24:53', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/messages
Completed in 860ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fgoogle.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-05-28T21%3A24%3A53Zc24S7Dzxgdk26Q&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=sRM2mHbLMMz8ZvjxlmgP4fPgEBE%3D&openid.identity=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.claimed_id=http%3A%2F%2Fgoogle.com%2Fopenid%3Fid%3D109052429299753016317&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sbazyl%40google.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 14:24:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.4ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'google.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.4ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sbazyl@google.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 91ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-28 14:24:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 89ms (View: 43, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-28 14:25:06) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"+rIqJbENfFjc2JrqwMA4foeNc7M1yZ4lIyydTVQhdk4=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>"jessica-and-steve.com"}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sbazyl@google.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Test Domain', NULL, '2010-05-28 21:25:06', '2010-05-28 21:25:06', 'jessica-and-steve.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 21:25:06', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Create (0.4ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-28 21:25:06', '2010-05-28 21:25:06', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 102ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-28 14:25:06) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 57ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-28 14:25:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.1ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 152ms (View: 58, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-28 14:25:09) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"+rIqJbENfFjc2JrqwMA4foeNc7M1yZ4lIyydTVQhdk4=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (1.0ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-28 21:25:09', '2010-05-28 21:25:09', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 165ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 14:25:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #19 of app/views/messages/index.html.erb:
16:       </li>
17:    <% end %>
18: 
19:    <% @contacts.each do |contact| %>
20:      <li class="message">
21:       <span class="call_from">Name <%=h contact.name %></span>
22:       <% contact.phones.each do |p| %>

    app/views/messages/index.html.erb:19
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (147.0ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 14:25:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.6ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 175ms (View: 61, DB: 5) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-28 14:25:38) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mGoogleToken Load (2.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Completed in 216ms (View: 188, DB: 4) | 200 OK [http://localhost/users/1/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 14:25:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 149ms (View: 40, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-28 14:25:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 149ms (View: 67, DB: 5) | 200 OK [http://localhost/users]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-28 14:25:55) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 41ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 14:25:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-28 14:25:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 54ms (View: 34, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-28 14:26:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"cc9M7esvbhTR9icpbfwnL5+Hj6zskVppxxLEayY7UhQ=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"steve@jessica-and-steve.com"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "last_contact_sync", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '5a0d6d27e5db5049363ed0d0f85585fb8cbbc2a7', '2010-05-28 21:26:11', NULL, '249ab7415146be1f1227569be645ce79f4f06665', NULL, '2010-05-28 21:26:11', '5dd7ee9fefd77c14aed126da39f8597335c16eeb', NULL, NULL, 'steve@jessica-and-steve.com', NULL, NULL, 'steve@jessica-and-steve.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-28 21:26:11', "activated_at" = '2010-05-28 21:26:11', "activation_code" = NULL WHERE "id" = 2[0m
Redirected to http://localhost:3000/
Completed in 55ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 14:26:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-28 21:26:11', "organization_id" = 1 WHERE "id" = 2[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 98ms (DB: 3) | 302 Found [http://localhost/]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-28 14:26:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 237ms (View: 48, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-28 14:26:13) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"cc9M7esvbhTR9icpbfwnL5+Hj6zskVppxxLEayY7UhQ=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (35.2ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '2' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(2, 1, '', '2010-05-28 21:26:14', '2010-05-28 21:26:14', 2)[0m
Redirected to http://localhost:3000/messages
Completed in 173ms (DB: 40) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 14:26:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 153ms (View: 41, DB: 5) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-28 14:26:16) [GET]
  Parameters: {"action"=>"edit", "id"=>"2", "controller"=>"users"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Completed in 65ms (View: 37, DB: 2) | 200 OK [http://localhost/users/2/edit]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-28 14:26:18) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 14:26:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 14:26:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 57ms (View: 45, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:03:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 50ms (View: 38, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-05-28 15:03:39) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"EP5BUmJyO60ZZSIX1eeMAEx/wUv1uNL0cZ9WZITwMs8=", "controller"=>"sessions", "password"=>"[FILTERED]", "email"=>"steve@jessica-and-steve.com"}
  [4;36;1mUser Load (28.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'steve@jessica-and-steve.com' and activated_at IS NOT NULL) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 63ms (DB: 28) | 302 Found [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-28 15:03:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 153ms (View: 41, DB: 6) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-28 15:37:24) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 70ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 15:37:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:37:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 15:38:13) [GET]
  Parameters: {"action"=>"openid_start", "controller"=>"sessions", "identifier"=>"google.com"}
Performing discovery for google.com
Discovering domain google.com
Cache read: __GAPPS_OPENID__google.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=google.com
Discovery info = google.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/google.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/google.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcloKE3tiQH7ywunr9RAQex1YGGWU0riGOkkDhzcoR04hAGMzsN&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 70ms (DB: 0) | 302 Found [http://localhost/openid/start?identifier=google.com]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-28 15:38:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 4ms (DB: 0) | 302 Found [http://localhost/organizations/new]


Processing HomeController#index (for 127.0.0.1 at 2010-05-28 15:38:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:40:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
ERROR: compiling _run_erb_app47views47sessions47new46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:27: syntax error, unexpected kENSURE, expecting kEND
/Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:29: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47sessions47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<section id=\"login\">\n  <header>\n      <h3>Log in</h3>\n  </header>\n\n\n    "





;  form_tag openid_start_path do 
@output_buffer.concat "    <p>"; @output_buffer.concat(( label_tag 'identifier', 'Log in with OpenID' ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( text_field_tag 'identifier', nil ).to_s); @output_buffer.concat "</p>\n    <p>"
; @output_buffer.concat(( submit_tag 'Log in' ).to_s); @output_buffer.concat "</p>\n\nOr...\n    \n"



;  form_tag session_path do 
@output_buffer.concat "<p>"; @output_buffer.concat(( label_tag 'email' ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( text_field_tag 'email', @email ).to_s); @output_buffer.concat "</p>\n\n<p>"

; @output_buffer.concat(( label_tag 'password' ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( password_field_tag 'password', nil ).to_s); @output_buffer.concat "</p>\n\n<p>"

; @output_buffer.concat(( label_tag 'remember_me', 'Remember me' ).to_s); @output_buffer.concat "\n"
; @output_buffer.concat(( check_box_tag 'remember_me', '1', @remember_me ).to_s); @output_buffer.concat "</p>\n\n<p>"

; @output_buffer.concat(( submit_tag 'Log in' ).to_s); @output_buffer.concat "</p>\n"
;  end 
@output_buffer.concat "</section>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:29:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:27: syntax error, unexpected kENSURE, expecting kEND
/Users/sbazyl/railsconf/voicemail/app/views/sessions/new.html.erb:29: syntax error, unexpected $end, expecting kEND) on line #27 of app/views/sessions/new.html.erb:
24: <p><%= submit_tag 'Log in' %></p>
25: <% end -%>
26: </section>

    app/views/sessions/new.html.erb:29:in `compile!'

Rendered rescues/_trace (194.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:40:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 25, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:40:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 24, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:41:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-28 15:41:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 36ms (View: 23, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-28 15:42:00) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"hTnl+1bUtoqfpG6xjhcPLhVdJGjqLWsoBFgENUbpUZ0=", "controller"=>"sessions", "identifier"=>"jessica-and-steve.com"}
Performing discovery for jessica-and-steve.com
Discovering domain jessica-and-steve.com
Cache read: __GAPPS_OPENID__jessica-and-steve.com
Cache write: __GAPPS_OPENID__jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Discovery info = jessica-and-steve.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8&openid.assoc_handle=AOQobUfbEH3a34-i8enpsfWyF5gBbh3IxLaHkXzcs0I6KH1KDJN62UPa&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 5743ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:31:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:33:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 128ms (View: 113, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:34:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:34:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 27ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:34:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 51ms (View: 38, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:35:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:35:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 20ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:35:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:36:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:37:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:37:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:37:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:37:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:38:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:38:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:38:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:38:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:39:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:39:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:40:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:40:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:41:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:41:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 107ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:41:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 73ms (View: 27, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:41:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 49ms (View: 28, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:42:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 48ms (View: 27, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:42:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 54ms (View: 33, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:42:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 52ms (View: 30, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:42:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 53ms (View: 31, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:46:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 51ms (View: 29, DB: 0) | 200 OK [http://localhost/signup]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:46:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:46:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:47:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 135ms (View: 23, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:47:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 52ms (View: 31, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:48:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 57ms (View: 35, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:48:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 58ms (View: 36, DB: 0) | 200 OK [http://localhost/signup]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:48:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:49:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:49:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:49:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:49:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:49:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:49:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:50:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 52ms (View: 30, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:12) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:50:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 30ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:51:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:51:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:51:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:51:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 33ms (View: 18, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:52:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:53:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:54:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:54:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:54:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:54:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 58ms (View: 37, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:54:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 110ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:54:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:55:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 28ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:55:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 30ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:55:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:55:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 49ms (View: 27, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:55:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:56:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:56:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 10:56:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 106ms (View: 72, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:56:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:56:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:56:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:59:12) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:59:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 16, DB: 0) | 200 OK [http://localhost/login]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 10:59:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:59:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:59:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:59:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 28ms (View: 16, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 10:59:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 28ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:00:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:00:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:01:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:01:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:01:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:02:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:02:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 11:02:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 46ms (View: 25, DB: 0) | 200 OK [http://localhost/signup]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 11:02:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 11:02:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 46ms (View: 25, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 11:03:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 11:03:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 58ms (View: 37, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 11:04:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 71ms (View: 50, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 11:04:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 69ms (View: 46, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 11:11:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 52ms (View: 30, DB: 0) | 200 OK [http://localhost/signup]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (13.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (0.9ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 12:55:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 48ms (View: 26, DB: 0) | 200 OK [http://localhost/signup]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 12:56:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (Session contains objects whose class definition isn\'t available.
Remember to require the classes for all objects kept in the session.
(Original exception: #{const_error.message} [#{const_error.class}])
) on line #5 of app/views/users/new.html.erb:
2:   <header>
3:     <h3>Sign up with OpenID</h3>
4:   </header>
5:   <% form_tag openid_start_path do -%>
6:   <p><%= label_tag 'identifier', 'Sign up with OpenID' %>
7:   <%= text_field_tag 'identifier', nil %></p>
8:   <p><%= submit_tag 'Log in' %></p>

    (eval):2:in `send'
    (eval):2:in `form_authenticity_token'
    app/views/users/new.html.erb:5

Rendered rescues/_trace (126.9ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 12:56:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new

ActionView::TemplateError (Session contains objects whose class definition isn\'t available.
Remember to require the classes for all objects kept in the session.
(Original exception: #{const_error.message} [#{const_error.class}])
) on line #5 of app/views/users/new.html.erb:
2:   <header>
3:     <h3>Sign up with OpenID</h3>
4:   </header>
5:   <% form_tag openid_start_path do -%>
6:   <p><%= label_tag 'identifier', 'Sign up with OpenID' %>
7:   <%= text_field_tag 'identifier', nil %></p>
8:   <p><%= submit_tag 'Log in' %></p>

    (eval):2:in `send'
    (eval):2:in `form_authenticity_token'
    app/views/users/new.html.erb:5

Rendered rescues/_trace (122.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 12:56:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}

ActionController::SessionRestoreError (Session contains objects whose class definition isn\'t available.
Remember to require the classes for all objects kept in the session.
(Original exception: #{const_error.message} [#{const_error.class}])
):
  lib/authenticated_system.rb:108:in `login_from_session'
  lib/authenticated_system.rb:12:in `current_user'
  app/controllers/application_controller.rb:23:in `ensure_setup'

Rendered rescues/_trace (93.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 12:57:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 238ms (View: 142, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 12:57:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 55ms (View: 32, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 12:57:35) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"n9f6knX7W1Gja4RkXjZVaSwoB/iMhiisR7eKzT+t4ts=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdryFKY1Y9QN-r-vjHkoEoySye8GMaxCjZb8AdkgKtXqsxI5d_M&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 712ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 12:57:40) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"zNh6wJrO6aCoActXrw0ciSUcDEE=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T19:57:40ZnRd-DNjbcYiIPA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdryFKY1Y9QN-r-vjHkoEoySye8GMaxCjZb8AdkgKtXqsxI5d_M", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (238.6ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '247c39a57e9b16a59353f20499f605b5b33580c5', '2010-05-31 19:57:40', NULL, 'fca96a78e1854fa7d94cb8fb17378776529d04a6', NULL, '2010-05-31 19:57:40', 'ca5884725d06399636bacf2e26d61ce28b86eaa2', NULL, 'sqrrrl@gmail.com', NULL, 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8', 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-31 19:57:42', "activated_at" = '2010-05-31 19:57:41', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/messages
Completed in 1703ms (DB: 240) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-05-31T19%3A57%3A40ZnRd-DNjbcYiIPA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdryFKY1Y9QN-r-vjHkoEoySye8GMaxCjZb8AdkgKtXqsxI5d_M&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=zNh6wJrO6aCoActXrw0ciSUcDEE%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 12:57:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 187ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-31 12:57:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 106ms (View: 59, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-31 12:57:50) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"n9f6knX7W1Gja4RkXjZVaSwoB/iMhiisR7eKzT+t4ts=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>""}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Test Domain', NULL, '2010-05-31 19:57:50', '2010-05-31 19:57:50', '', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-05-31 19:57:50', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('8776601798', '2010-05-31 19:57:50', '2010-05-31 19:57:50', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 102ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-31 12:57:50) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 74ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-31 12:57:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 196ms (View: 81, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-31 12:57:53) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"n9f6knX7W1Gja4RkXjZVaSwoB/iMhiisR7eKzT+t4ts=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.4ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.5ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-31 19:57:54', '2010-05-31 19:57:54', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 197ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 12:57:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 198ms (View: 66, DB: 4) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:02:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m

ActionView::TemplateError (Must enter country code or set default country code) on line #3 of app/views/messages/index.html.erb:
1: <section id="messages">
2:    <header>
3:      <h3>Messages for <%=h @user.name %> (<%=h format_phone(@user.extension.phone_number.number) %> x<%=h @user.extension.number%>)</h3>
4:    </header>
5:    <% if @messages.empty? %>
6:    <p>You have no messages.</p>

    phone (0.9.9.1) lib/phone.rb:92:in `split_to_parts'
    phone (0.9.9.1) lib/phone.rb:62:in `parse'
    app/helpers/application_helper.rb:6:in `format_phone'
    app/views/messages/index.html.erb:3
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (126.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (1.4ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:02:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 74ms (DB: 0) | 302 Found [http://localhost/messages]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 13:02:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 167ms (View: 154, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 13:02:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 75ms (View: 54, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 13:02:46) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"n9f6knX7W1Gja4RkXjZVaSwoB/iMhiisR7eKzT+t4ts=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdryFKY1Y9QN-r-vjHkoEoySye8GMaxCjZb8AdkgKtXqsxI5d_M&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 586ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 13:02:47) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"K/Jc897gGHxXM/X15aWS/dQWVTw=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T20:02:47ZXcuENmyrzoC0Eg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdryFKY1Y9QN-r-vjHkoEoySye8GMaxCjZb8AdkgKtXqsxI5d_M", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '24adf6fa363830d04ed4a25c955562fdbd0061e3', '2010-05-31 20:02:48', NULL, 'e905a7010fde81712b0db40fa350c08c54b69c97', NULL, '2010-05-31 20:02:48', '9f2f886793abcf3ce78a0003be47a1ceeddc1ca5', NULL, 'sqrrrl@gmail.com', NULL, 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8', 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-31 20:02:48', "activated_at" = '2010-05-31 20:02:48', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/messages
Completed in 742ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-05-31T20%3A02%3A47ZXcuENmyrzoC0Eg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdryFKY1Y9QN-r-vjHkoEoySye8GMaxCjZb8AdkgKtXqsxI5d_M&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=K%2FJc897gGHxXM%2FX15aWS%2FdQWVTw%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:02:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 111ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-31 13:02:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 174ms (View: 45, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-31 13:02:52) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"n9f6knX7W1Gja4RkXjZVaSwoB/iMhiisR7eKzT+t4ts=", "controller"=>"organizations", "organization"=>{"name"=>"My Company", "domain"=>""}}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.6ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('My Company', NULL, '2010-05-31 20:02:52', '2010-05-31 20:02:52', '', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-05-31 20:02:52', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-05-31 20:02:52', '2010-05-31 20:02:52', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 107ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-31 13:02:53) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 54ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-31 13:02:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 315ms (View: 201, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-31 13:02:58) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"n9f6knX7W1Gja4RkXjZVaSwoB/iMhiisR7eKzT+t4ts=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-05-31 20:02:58', '2010-05-31 20:02:58', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 165ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:02:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 191ms (View: 62, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:04:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `user' for #<User:0x2210e38>) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:91:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (140.0ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:05:22) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ActionView::TemplateError (undefined method `get' for #<ActiveSupport::Cache::MemoryStore:0x12952b0>) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:91:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (116.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 13:06:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 119ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-31 13:06:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Completed in 105ms (View: 78, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-31 13:06:27) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2FpHLNjFXuSUF9emxaJ9jlCe0sow4v
Completed in 653ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-05-31 13:06:32) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"kSeRJ/7IX4dtDYguR17z1AVi", "oauth_token"=>"4/pHLNjFXuSUF9emxaJ9jlCe0sow4v"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mGoogleToken Create (0.7ms)[0m   [0;1mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-05-31 20:06:33', '1/Y_DyWgxp2BaBAGkVnfjwn-yOusXPGwyHFpiy6h4wXhk', '2010-05-31 20:06:33', 1, 'GoogleToken', 'ja/aX45cYDdJ4G+TYueJPk5R')[0m
Redirected to http://localhost:3000/
Completed in 499ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=kSeRJ%2F7IX4dtDYguR17z1AVi&oauth_token=4%2FpHLNjFXuSUF9emxaJ9jlCe0sow4v]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 13:06:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 131ms (View: 14, DB: 4) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:06:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `key' for #<User:0x2275810>) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:76:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (141.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:06:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (uninitialized constant Contacts::GoogleContactFetcher) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:78:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (216.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:07:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (undefined method `value' for nil:NilClass) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    lib/contacts.rb:58:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:55:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (219.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:09:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (undefined method `value' for nil:NilClass) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    lib/contacts.rb:59:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:55:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (230.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:11:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    lib/contacts.rb:59:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:55:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (128.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:12:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<<) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    lib/contacts.rb:60:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:55:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (122.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:13:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (undefined method `put' for #<ActiveSupport::Cache::MemoryStore:0x12952b0>) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:80:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (165.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:14:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache read: sqrrrl@gmail.com_contacts
Completed in 1146ms (View: 1018, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:15:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 12551ms (View: 12423, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:18:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.0ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (Must enter country code or set default country code) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    phone (0.9.9.1) lib/phone.rb:92:in `split_to_parts'
    phone (0.9.9.1) lib/phone.rb:62:in `parse'
    lib/contacts.rb:61:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:57:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (248.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:18:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:60: syntax error, unexpected '=', expecting ')'
        num = Phone.normalize(e.text, :country_code = "1")
                                                     ^
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:60: syntax error, unexpected ')', expecting kEND) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:78:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (133.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:18:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (wrong number of arguments (2 for 1)) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    lib/contacts.rb:60:in `normalize'
    lib/contacts.rb:60:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:57:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (148.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:18:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (Must enter area code or set default area code) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    phone (0.9.9.1) lib/phone.rb:48:in `initialize'
    phone (0.9.9.1) lib/phone.rb:64:in `new'
    phone (0.9.9.1) lib/phone.rb:64:in `parse'
    lib/contacts.rb:61:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:57:in `parse_entry'
    lib/contacts.rb:37:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:36:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (243.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:20:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:62: syntax error, unexpected ')'
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:74: syntax error, unexpected $end, expecting kEND) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:78:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (258.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:20:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 11753ms (View: 11622, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:21:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4578ms (View: 4450, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:21:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4587ms (View: 4455, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:22:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (undefined local variable or method `phone' for #<Contacts::Contact:0x20b51ec>) on line #22 of app/views/messages/index.html.erb:
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>
24:    <% end %>
25:   </ul>

    lib/contacts.rb:16:in `to_s'
    app/views/messages/index.html.erb:22
    app/views/messages/index.html.erb:20:in `each'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (124.2ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:23:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.6ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.5ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4733ms (View: 4479, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:24:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 11608ms (View: 11478, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:25:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4073ms (View: 3934, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:27:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_ ()
Cache write: sqrrrl@gmail.com_contact_ (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4167ms (View: 4038, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:28:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4108ms (View: 3979, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:31:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (Must enter area code or set default area code) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    phone (0.9.9.1) lib/phone.rb:48:in `initialize'
    phone (0.9.9.1) lib/phone.rb:64:in `new'
    phone (0.9.9.1) lib/phone.rb:64:in `parse'
    lib/contacts.rb:62:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:60:in `parse_entry'
    lib/contacts.rb:40:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:39:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (146.8ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:32:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.2ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4054ms (View: 3923, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:37:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:63: invalid regular expression; there's no previous pattern, to which '+' would define cardinality at 5: /^(0|+|1)/
/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:64: invalid regular expression; there's no previous pattern, to which '+' would define cardinality at 5: /^(0|+)/) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:78:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (134.3ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:37:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.1ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (undefined method `put' for #<Contacts::GoogleContactsFetcher:0x24efe60>) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    lib/contacts.rb:65:in `parse_entry'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:60:in `parse_entry'
    lib/contacts.rb:40:in `all_contacts'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    /usr/local/lib/ruby/1.8/rexml/xpath.rb:53:in `each'
    /usr/local/lib/ruby/1.8/rexml/element.rb:891:in `each'
    lib/contacts.rb:39:in `all_contacts'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (126.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:38:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts

ActionView::TemplateError (/Users/sbazyl/railsconf/voicemail/lib/contacts.rb:63: unmatched ): /^[01+])/) on line #20 of app/views/messages/index.html.erb:
17:    <% end %>
18:   </ul>
19:    <ul id="message_list">
20:    <% @user.all_contacts.each do |contact| %>
21:      <li class="message">
22:       <span class="call_from">contact <%=h contact %></span>
23:       </li>

    app/models/user.rb:78:in `load_contacts'
    app/models/user.rb:90:in `all_contacts'
    app/views/messages/index.html.erb:20
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (255.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:38:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (2.2ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4204ms (View: 4062, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:39:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 11640ms (View: 11510, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:41:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4070ms (View: 3946, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:41:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (2.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (1.1ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4329ms (View: 4169, DB: 9) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:42:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4283ms (View: 3996, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:44:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4478ms (View: 4351, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:45:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contacts
Completed in 4547ms (View: 4417, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:47:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4266ms (View: 4140, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:48:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 11695ms (View: 11567, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:48:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4403ms (View: 4274, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:49:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4298ms (View: 4169, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:51:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4246ms (View: 4117, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 13:51:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+14154655253 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732635561 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+18004003697 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13122615766 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+14157592125 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+14158569543 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14153690484 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+16505835501 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+16503073076 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16178347714 ()
Cache write: sqrrrl@gmail.com_contact_+16305870344 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17753541182 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+17756364878 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+13037748889 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15596742565 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+13039891354 (http://schemas.google.com/g/2005#work_fax)
Cache write: sqrrrl@gmail.com_contact_+13239601132 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+12137062197 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+19089799579 ()
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#work)
Cache write: sqrrrl@gmail.com_contact_+14158230462 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16503551698 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+19732164610 ()
Cache write: sqrrrl@gmail.com_contact_+19736168119 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+61732274406 ()
Cache write: sqrrrl@gmail.com_contact_+61418795303 (http://schemas.google.com/g/2005#mobile)
Cache write: sqrrrl@gmail.com_contact_+16314352536 (http://schemas.google.com/g/2005#home)
Cache write: sqrrrl@gmail.com_contact_+15162202646 (http://schemas.google.com/g/2005#mobile)
Cache read: sqrrrl@gmail.com_contacts
Completed in 4239ms (View: 3972, DB: 5) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:12:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 253ms (View: 122, DB: 5) | 200 OK [http://localhost/messages]


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-31 15:13:13) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "Digits"=>"1", "Called"=>"8776601798"}

ActionController::RoutingError (No route matches "/twilio/extension" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-31 15:13:39) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "Digits"=>"1", "Called"=>"8776601798"}

ActionController::RoutingError (No route matches "/twilio/start" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing TwilioController#start (for 127.0.0.1 at 2010-05-31 15:15:07) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"start", "controller"=>"twilio", "Digits"=>"1", "Called"=>"8776601798"}
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
Completed in 38ms (View: 2, DB: 1) | 200 OK [http://localhost/twilio/start]


Processing TwilioController#extension (for 127.0.0.1 at 2010-05-31 15:15:14) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "action"=>"extension", "controller"=>"twilio", "Digits"=>"1", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 80ms (View: 1, DB: 3) | 200 OK [http://localhost/twilio/extension]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:15:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 161ms (View: 68, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-31 15:15:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Completed in 56ms (View: 30, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:15:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 179ms (View: 47, DB: 5) | 200 OK [http://localhost/messages]


Processing TwilioController#record (for 127.0.0.1 at 2010-05-31 15:17:13) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"6503551698", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mMessage Create (0.6ms)[0m   [0;1mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(NULL, '2010-05-31 22:17:13', NULL, '6503551698', '2010-05-31 22:17:13', 'http://foo.com', 1)[0m
Completed in 304ms (View: 1, DB: 2) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:17:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (2.5ms)
Completed in 194ms (View: 66, DB: 6) | 200 OK [http://localhost/messages]


Processing ApplicationController#record (for 127.0.0.1 at 2010-05-31 15:18:36) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"6503551698", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:38: syntax error, unexpected tCONSTANT, expecting ')'
    @response.addSay("Thank you.", :voice => "woman")
                           ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:38: syntax error, unexpected tSTRING_BEG
    @response.addSay("Thank you.", :voice => "woman")
                                 ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:38: syntax error, unexpected tIDENTIFIER, expecting kEND
    @response.addSay("Thank you.", :voice => "woman")
                                                   ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:54: syntax error, unexpected tCONSTANT, expecting kEND
    render :text => "Invalid signature", :status => 401 un...
                            ^):
  

Rendered rescues/_trace (82.4ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#record (for 127.0.0.1 at 2010-05-31 15:19:16) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"6503551698", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:34: syntax error, unexpected '}', expecting ')'
...rom => "+1#{params[:Caller]}"}, 
                              ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:35: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
      :url => params[:RecordingUrl], :duration => params[:Duration])
                                                 ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:35: syntax error, unexpected ')', expecting kEND):
  

Rendered rescues/_trace (84.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing ApplicationController#record (for 127.0.0.1 at 2010-05-31 15:19:50) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"6503551698", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:34: syntax error, unexpected '}', expecting ')'
...rom => "+1#{params[:Caller]}"}, 
                              ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:35: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
      :url => params[:RecordingUrl], :duration => params[:Duration])
                                                 ^
/Users/sbazyl/railsconf/voicemail/app/controllers/twilio_controller.rb:35: syntax error, unexpected ')', expecting kEND):
  

Rendered rescues/_trace (84.5ms)
Rendered rescues/_request_and_response (3.8ms)
Rendering rescues/layout (internal_server_error)


Processing TwilioController#record (for 127.0.0.1 at 2010-05-31 15:20:36) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"6503551698", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mMessage Create (1.0ms)[0m   [0;1mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(NULL, '2010-05-31 22:20:36', NULL, '+16503551698', '2010-05-31 22:20:36', 'http://foo.com', 1)[0m
Completed in 205ms (View: 2, DB: 3) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:20:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+19732164610">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+14154655253">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+19732635561">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work", value="+18004003697">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work_fax", value="+13122615766">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+14157592125">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work", value="+14158230462">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+14158230462">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+16503551698">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work", value="+14158569543">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work_fax", value="+14153690484">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+16505835501">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+16503073076">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+16178347714">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+16178347714">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+16305870344">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+17753541182">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+17756364878">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+13037748889">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work", value="+15596742565">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work_fax", value="+13039891354">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+13239601132">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+12137062197">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+19089799579">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+19089799579">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#work", value="+14158230462">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+14158230462">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+16503551698">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+19732164610">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+19736168119">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="", value="+61732274406">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+61418795303">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#home", value="+16314352536">
Cache write: sqrrrl@gmail.com_contact_#<struct Contacts::ContactProperty rel="http://schemas.google.com/g/2005#mobile", value="+15162202646">
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (2.5ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (0.3ms)
Completed in 9131ms (View: 8084, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:22:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.4ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (0.3ms)
Completed in 189ms (View: 60, DB: 7) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:24:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (3.7ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (17.5ms)
Completed in 29802ms (View: 28969, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:28:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (Must enter country code or set default country code) on line #11 of app/views/messages/index.html.erb:
8:    <ul id="message_list">
9:    <% @messages.each do |message| %>
10:      <li class="message">
11:       <span class="call_from">Call from <%=h format_phone(message.from) %></span>
12:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
13:       <span class="receved">Received at <%=h message.created_at %></span>
14:       <audio controls="controls">

    phone (0.9.9.1) lib/phone.rb:92:in `split_to_parts'
    phone (0.9.9.1) lib/phone.rb:62:in `parse'
    app/helpers/application_helper.rb:6:in `format_phone'
    app/views/messages/index.html.erb:11
    app/views/messages/index.html.erb:9
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (143.5ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:28:52) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (2.4ms)
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (22.1ms)
Completed in 29887ms (View: 29065, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:30:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (3.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (3.2ms)
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (28.9ms)
Completed in 36914ms (View: 36776, DB: 10) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:31:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 279ms (View: 184, DB: 5) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:31:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (25.3ms)
Completed in 238ms (View: 104, DB: 7) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:31:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 136ms (View: 41, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:33:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 237ms (View: 143, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:33:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 131ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:33:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 133ms (View: 38, DB: 4) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:33:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 136ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:33:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 131ms (View: 38, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:34:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 134ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:34:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 134ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:34:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 134ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:35:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 135ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:35:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 133ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:35:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 225ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:35:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 134ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:35:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 136ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:37:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 220ms (View: 126, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:37:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 139ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:37:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 152ms (View: 45, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:37:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 147ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:43:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 153ms (View: 52, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:43:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 134ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:43:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 129ms (View: 38, DB: 4) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:44:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 134ms (View: 41, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:44:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 132ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:45:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 137ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:45:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 231ms (View: 40, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:45:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.6ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 219ms (View: 63, DB: 6) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:46:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 126ms (View: 38, DB: 4) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:46:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 218ms (View: 126, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:46:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.2ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 143ms (View: 44, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:46:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 133ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:47:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 132ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:47:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 137ms (View: 42, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:47:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 142ms (View: 41, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 15:47:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 135ms (View: 39, DB: 5) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:48:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.4ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (25.8ms)
Completed in 213ms (View: 90, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:49:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.6ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (16.4ms)
Completed in 212ms (View: 80, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:49:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.1ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.4ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (18.0ms)
Completed in 323ms (View: 90, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:49:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (2.1ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (17.6ms)
Completed in 618ms (View: 485, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:50:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (2.5ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (17.1ms)
Completed in 330ms (View: 200, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:50:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (1.0ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (16.9ms)
Completed in 211ms (View: 82, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:50:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.4ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (17.1ms)
Completed in 219ms (View: 85, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:51:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (16.2ms)
Completed in 224ms (View: 92, DB: 7) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:51:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (17.0ms)
Completed in 221ms (View: 93, DB: 7) | 200 OK [http://localhost/messages]


Processing TwilioController#record (for 127.0.0.1 at 2010-05-31 15:52:45) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"9732164610", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(NULL, '2010-05-31 22:52:45', NULL, '+19732164610', '2010-05-31 22:52:45', 'http://foo.com', 1)[0m
Completed in 87ms (View: 1, DB: 2) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:52:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (3.5ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (1.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (18.8ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+19732164610
Rendered messages/_contact (5.3ms)
Completed in 237ms (View: 102, DB: 9) | 200 OK [http://localhost/messages]


Processing TwilioController#record (for 127.0.0.1 at 2010-05-31 15:53:53) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"4153690484", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(NULL, '2010-05-31 22:53:53', NULL, '+14153690484', '2010-05-31 22:53:53', 'http://foo.com', 1)[0m
Completed in 85ms (View: 1, DB: 2) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:53:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.7ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (2.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (2.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (18.1ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+19732164610
Rendered messages/_contact (5.1ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+14153690484
Rendered messages/_contact (21.9ms)
Completed in 270ms (View: 129, DB: 10) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:56:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
ERROR: compiling _run_erb_app47views47messages47index46html46erb RAISED compile error
/Users/sbazyl/railsconf/voicemail/app/views/messages/index.html.erb:25: syntax error, unexpected kENSURE, expecting kEND
/Users/sbazyl/railsconf/voicemail/app/views/messages/index.html.erb:27: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47messages47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<section id=\"messages\">\n   <header>\n     <h3>Messages for "

; @output_buffer.concat((h @user.name ).to_s); @output_buffer.concat ", "; @output_buffer.concat((h format_phone(@user.extension.phone_number.number) ).to_s); @output_buffer.concat " x"; @output_buffer.concat((h @user.extension.number).to_s); @output_buffer.concat "</h3>\n   </header>\n   "

;  if @user.google.nil? ; @output_buffer.concat "\n   <p>"
; @output_buffer.concat(( link_to('Link your Google Account', '/oauth_consumers/google') ).to_s); @output_buffer.concat " to import your contacts.</p>\n   "
;  else ; @output_buffer.concat "\n   "
;  if @messages.empty? ; @output_buffer.concat "\n   <p>You have no messages.</p>\n   "

;  end ; @output_buffer.concat "\n   <ul id=\"message_list\">\n   "

;  @messages.each do |message| ; @output_buffer.concat "\n     <li class=\"message\">\n      <span class=\"call_from\">Call from "

; @output_buffer.concat((h format_phone(message.from) ).to_s); @output_buffer.concat "</span>\n      <audio controls=\"controls\">\n          <source src=\""

; @output_buffer.concat(( message.url ).to_s); @output_buffer.concat ".mp3\"/>\n      </audio>\n      <span class=\"receved\">Received at "

; @output_buffer.concat((h message.created_at ).to_s); @output_buffer.concat "</span>\n      "
; @output_buffer.concat(( render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }).to_s); @output_buffer.concat "\n      </li>\n   "

;  end ; @output_buffer.concat "\n  </ul>\n\n</section>"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/sbazyl/railsconf/voicemail/app/views/messages/index.html.erb:27:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/sbazyl/railsconf/voicemail/app/controllers/messages_controller.rb:11:in `index'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/sbazyl/railsconf/voicemail/app/views/messages/index.html.erb:25: syntax error, unexpected kENSURE, expecting kEND
/Users/sbazyl/railsconf/voicemail/app/views/messages/index.html.erb:27: syntax error, unexpected $end, expecting kEND) on line #25 of app/views/messages/index.html.erb:
22:   </ul>
23: 
24: </section>

    app/views/messages/index.html.erb:27:in `compile!'
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (205.1ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 15:56:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (1.8ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (3.6ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (0.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (17.6ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+19732164610
Rendered messages/_contact (6.0ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+14153690484
Rendered messages/_contact (22.9ms)
Completed in 283ms (View: 146, DB: 10) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 16:45:25) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 148ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 16:45:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 87ms (View: 75, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 16:45:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 44ms (View: 32, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:45:32) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}

NameError (uninitialized constant OpenID::Store::RailsCache):
  app/controllers/sessions_controller.rb:129:in `consumer'
  app/controllers/sessions_controller.rb:58:in `openid_start'

Rendered rescues/_trace (89.6ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:46:19) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}

NameError (uninitialized constant OpenID::Store::RailsCache):
  app/controllers/sessions_controller.rb:129:in `consumer'
  app/controllers/sessions_controller.rb:58:in `openid_start'

Rendered rescues/_trace (87.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:47:20) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}

NameError (uninitialized constant OpenID::Store::RailsCache):
  app/controllers/sessions_controller.rb:129:in `consumer'
  app/controllers/sessions_controller.rb:58:in `openid_start'

Rendered rescues/_trace (183.2ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:47:40) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}

NameError (uninitialized constant OpenID::Store::RailsCache):
  app/controllers/sessions_controller.rb:129:in `consumer'
  app/controllers/sessions_controller.rb:58:in `openid_start'

Rendered rescues/_trace (88.4ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:49:32) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>1275396573})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_ ({:expires_in=>1275396573})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 934ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:49:35) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"m1g6EY5O8KMkvHftYSc2N8cccks=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:49:34Z3geYTJV1Fq5hgA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275349774|3geYTJV1Fq5hgA ({:expires_in=>1275367780})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank, Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:110:in `openid_complete'

Rendered rescues/_trace (101.5ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 16:49:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 129ms (View: 33, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 16:49:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 45ms (View: 30, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:50:01) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 57ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:50:02) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"UAuYs/efCsurX470OML/4QGTPyY=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:50:02ZTtNdgTtdL42Dow", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcPctpPNFkfUWAR2Z6RPppE-yaMAXCUyfO3CT_Im7I0z39zYJu_
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275349802|TtNdgTtdL42Dow ({:expires_in=>1275367808})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank, Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:110:in `openid_complete'

Rendered rescues/_trace (189.3ms)
Rendered rescues/_request_and_response (2.7ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:51:44) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"jessica-and-steve.com"}
Performing discovery for jessica-and-steve.com
Discovering domain jessica-and-steve.com
Cache read: __GAPPS_OPENID__jessica-and-steve.com
Cache write: __GAPPS_OPENID__jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Discovery info = jessica-and-steve.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 ({:expires_in=>1275396712})
Cache write: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|AOQobUcwKR61KQujZVcqfZyT3yVM39Y0lBN7_YADRRGCL02s5gFMUXVG ({:expires_in=>1275396712})
Redirected to https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcwKR61KQujZVcqfZyT3yVM39Y0lBN7_YADRRGCL02s5gFMUXVG&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 8528ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:52:13) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"QFvhBc4QFwpAw479rr4oqE0LhhE=", "openid.ext1.value.email"=>"steve@jessica-and-steve.com", "openid.response_nonce"=>"2010-05-31T23:52:11ZN6QRMLA5L-oJNw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://jessica-and-steve.com/openid?id=104773713073936504322", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcwKR61KQujZVcqfZyT3yVM39Y0lBN7_YADRRGCL02s5gFMUXVG", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://jessica-and-steve.com/openid?id=104773713073936504322", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://jessica-and-steve.com/openid?id=104773713073936504322
Discovering user identity http://jessica-and-steve.com/openid?id=104773713073936504322 for domain jessica-and-steve.com
Cache read: __GAPPS_OPENID__jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322
Discovery info = http://jessica-and-steve.com/openid?id=104773713073936504322<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 claimed_id=http://jessica-and-steve.com/openid?id=104773713073936504322 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|AOQobUcwKR61KQujZVcqfZyT3yVM39Y0lBN7_YADRRGCL02s5gFMUXVG
Cache write: openid-store:Nhttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|1275349931|N6QRMLA5L-oJNw ({:expires_in=>1275367940})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank, Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:110:in `openid_complete'

Rendered rescues/_trace (111.7ms)
Rendered rescues/_request_and_response (2.1ms)
Rendering rescues/layout (unprocessable_entity)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-31 16:54:03) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 93ms (View: 81, DB: 0) | 200 OK [http://localhost/openid/]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:54:06) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46799})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o ({:expires_in=>46799})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 2890ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:54:10) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"pBtHjN2RqOqGCHfVt8GiYobPLug=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:54:09ZuFIKok9LT6j6Pg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350049|uFIKok9LT6j6Pg ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank, Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:110:in `openid_complete'

Rendered rescues/_trace (99.7ms)
Rendered rescues/_request_and_response (4.3ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:55:20) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"pBtHjN2RqOqGCHfVt8GiYobPLug=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:54:09ZuFIKok9LT6j6Pg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350049|uFIKok9LT6j6Pg ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank, Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:112:in `openid_complete'

Rendered rescues/_trace (190.1ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (unprocessable_entity)


Processing ApplicationController#index (for 127.0.0.1 at 2010-05-31 16:57:03) [GET]

ActionController::RoutingError (No route matches "/openid/start/identifer=gmail.com" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:57:10) [GET]
  Parameters: {"action"=>"openid_start", "identifer"=>"gmail.com", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 20ms (View: 7, DB: 0) | 200 OK [http://localhost/openid/start?identifer=gmail.com]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:57:13) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 53ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:57:14) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"sSkbYPU9XYC8wGGeVVbmUBB1Mf8=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:57:14ZsTrh4I-5My0gHg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350234|sTrh4I-5My0gHg ({:expires_in=>18005})
Rendering template within layouts/application
Rendering sessions/new
Completed in 783ms (View: 26, DB: 0) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-05-31T23%3A57%3A14ZsTrh4I-5My0gHg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=sSkbYPU9XYC8wGGeVVbmUBB1Mf8%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:58:08) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:58:10) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"LfaBd02x56Iu33Fyuipo/LnUZnM=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:58:09ZGnBmth-8m8dizA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350289|GnBmth-8m8dizA ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 591ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-05-31T23%3A58%3A09ZGnBmth-8m8dizA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=LfaBd02x56Iu33Fyuipo%2FLnUZnM%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 16:58:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 16:58:51) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 52ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 16:58:55) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"2kNDPgvTtQKyXQnVBeqKH+H79HU=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-05-31T23:58:55Zgm8NJnM_GIdWKw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350335|gm8NJnM_GIdWKw ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 1711ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-05-31T23%3A58%3A55Zgm8NJnM_GIdWKw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcP1NTYU3AA2x_uBGpJ1zKFLFzQfaN2TjQe8G6PnWgO3e0DZT1o&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=2kNDPgvTtQKyXQnVBeqKH%2BH79HU%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 16:58:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:00:35) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 4809ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:00:41) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"EL6/LY9albsqXf6IFtn8g7U76Ag=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:00:41Zlzh33W6DDkETgg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350441|lzh33W6DDkETgg ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 788ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A00%3A41Zlzh33W6DDkETgg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=EL6%2FLY9albsqXf6IFtn8g7U76Ag%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 17:00:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 95ms (View: 83, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:07:26) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:07:27) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"3FCMwwUH3wYviXgsEUTfyG8l1ts=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:07:27Zu75QhOUpAXxR_Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275350847|u75QhOUpAXxR_Q ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 476ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A07%3A27Zu75QhOUpAXxR_Q&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdsSt81DvpB6_qDXZ4YK7wKmp9eXfRHR0gaKM66j3ODfa76MEgw&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=3FCMwwUH3wYviXgsEUTfyG8l1ts%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 17:07:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:08:00) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 817ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:08:01) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"fp8YsiKI+5wq7yucCvguSCHAhjY=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:08:01Z6Pur7W_tN46MDg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn

ArgumentError (wrong number of arguments (0 for 1)):
  lib/openid/store/railscache.rb:36:in `serialize'
  lib/openid/store/railscache.rb:36:in `get_association'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:209:in `check_signature'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:76:in `id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:59:in `initialize'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `new'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `handle_idres'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:386:in `complete_id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `call'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `complete'
  app/controllers/sessions_controller.rb:84:in `openid_complete'

Rendered rescues/_trace (185.9ms)
Rendered rescues/_request_and_response (4.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:09:41) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"fp8YsiKI+5wq7yucCvguSCHAhjY=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:08:01Z6Pur7W_tN46MDg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn

ArgumentError (wrong number of arguments (0 for 1)):
  lib/openid/store/railscache.rb:36:in `serialize'
  lib/openid/store/railscache.rb:36:in `get_association'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:209:in `check_signature'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:76:in `id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:59:in `initialize'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `new'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `handle_idres'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:386:in `complete_id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `call'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `complete'
  app/controllers/sessions_controller.rb:84:in `openid_complete'

Rendered rescues/_trace (106.6ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:09:58) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"fp8YsiKI+5wq7yucCvguSCHAhjY=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:08:01Z6Pur7W_tN46MDg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn

ArgumentError (wrong number of arguments (0 for 1)):
  lib/openid/store/railscache.rb:36:in `serialize'
  lib/openid/store/railscache.rb:36:in `get_association'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:209:in `check_signature'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:76:in `id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:59:in `initialize'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `new'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `handle_idres'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:386:in `complete_id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `call'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `complete'
  app/controllers/sessions_controller.rb:84:in `openid_complete'

Rendered rescues/_trace (100.4ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:10:12) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"fp8YsiKI+5wq7yucCvguSCHAhjY=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:08:01Z6Pur7W_tN46MDg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdwZaJWakksogaXznpRV8Qhm5vayn0q-1GzWn5zkGz2WecPZkzn", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-31 17:10:56) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 320ms (View: 308, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:11:01) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 8513ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:11:10) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"RG5c+TJ88vcHPxG00PLF2zZu4iA=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:11:10Zt9CopDeBmYS0iA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275351070|t9CopDeBmYS0iA ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 472ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A11%3A10Zt9CopDeBmYS0iA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=RG5c%2BTJ88vcHPxG00PLF2zZu4iA%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 17:11:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:15:32) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 55ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:15:40) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"jui7IoqBSMILK5+wz0qEPYFOpm0=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:15:40ZA_ZwxPJBPv2zdA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275351340|A_ZwxPJBPv2zdA ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 561ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A15%3A40ZA_ZwxPJBPv2zdA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=jui7IoqBSMILK5%2Bwz0qEPYFOpm0%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 17:15:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:16:22) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:16:22) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"/ZpUvdF76NuryKPU8Q02G1dGlHE=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:16:22Zef7etOCQU_h06A", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275351382|ef7etOCQU_h06A ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 477ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A16%3A22Zef7etOCQU_h06A&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=%2FZpUvdF76NuryKPU8Q02G1dGlHE%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 17:16:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:19:48) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:19:49) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"Qz7yzAbTh9C7zeWGzv8Kkjj63qo=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:19:49ZKjhanTMp3EwYmQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275351589|KjhanTMp3EwYmQ ({:expires_in=>18005})
Redirected to http://localhost:3000/session/new
Completed in 456ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A19%3A49ZKjhanTMp3EwYmQ&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcTGIR6QXMp_B--ZWEKkC0iMq_MTIEB2KoOEOqcHfqtOn4nJsof&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=Qz7yzAbTh9C7zeWGzv8Kkjj63qo%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 17:19:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:20:04) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46799})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdPgLPYT4R4pksgtsQzgJAoW3KOul6dALz6Sp20QkL7dcALeFDd ({:expires_in=>46799})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdPgLPYT4R4pksgtsQzgJAoW3KOul6dALz6Sp20QkL7dcALeFDd&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 818ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:20:06) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"zgzg7Gr52QyjTI5i/rEIGhYHKBg=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:20:05ZEYy34jkDzQT_bA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdPgLPYT4R4pksgtsQzgJAoW3KOul6dALz6Sp20QkL7dcALeFDd", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdPgLPYT4R4pksgtsQzgJAoW3KOul6dALz6Sp20QkL7dcALeFDd

NoMethodError (undefined method `exists' for #<ActiveSupport::Cache::MemoryStore:0x175f980>):
  lib/openid/store/railscache.rb:65:in `use_nonce'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:303:in `check_nonce'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:77:in `id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:59:in `initialize'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `new'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `handle_idres'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:386:in `complete_id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `call'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `complete'
  app/controllers/sessions_controller.rb:84:in `openid_complete'

Rendered rescues/_trace (188.4ms)
Rendered rescues/_request_and_response (4.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#new_openid (for 127.0.0.1 at 2010-05-31 17:20:41) [GET]
  Parameters: {"action"=>"new_openid", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 88ms (View: 76, DB: 0) | 200 OK [http://localhost/openid]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 17:20:43) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 8305ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:20:53) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"YgpvMWg53RI5C6TD5xRp1f2Mf4Y=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:20:52ZkY4gaBp8rVf8oA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk

NoMethodError (undefined method `exists?' for #<ActiveSupport::Cache::MemoryStore:0x175f980>):
  lib/openid/store/railscache.rb:65:in `use_nonce'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:303:in `check_nonce'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:77:in `id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/idres.rb:59:in `initialize'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `new'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:346:in `handle_idres'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:386:in `complete_id_res'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `call'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:289:in `complete'
  app/controllers/sessions_controller.rb:84:in `openid_complete'

Rendered rescues/_trace (96.9ms)
Rendered rescues/_request_and_response (4.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 17:21:22) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"YgpvMWg53RI5C6TD5xRp1f2Mf4Y=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T00:20:52ZkY4gaBp8rVf8oA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275351652|kY4gaBp8rVf8oA
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275351652|kY4gaBp8rVf8oA ({:expires_in=>18005})
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Redirected to http://localhost:3000/messages
Completed in 5641ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T00%3A20%3A52ZkY4gaBp8rVf8oA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdSbOMj04-XrO7469tz32A6eqpluoyo4l9FyXPgZF8rNjGR-vGk&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=YgpvMWg53RI5C6TD5xRp1f2Mf4Y%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 17:21:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.9ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (2.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (3.2ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (19.3ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+19732164610
Rendered messages/_contact (6.7ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+14153690484
Rendered messages/_contact (23.5ms)
Completed in 669ms (View: 511, DB: 7) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 17:29:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (1.2ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (2.3ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (2.8ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (21.2ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+19732164610
Rendered messages/_contact (4.9ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+14153690484
Rendered messages/_contact (24.4ms)
Completed in 6663ms (View: 5800, DB: 8) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 17:38:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (1.1ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (2.1ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Cache read: sqrrrl@gmail.com_contact_6503551698
Rendered messages/_contact (2.8ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+16503551698
Rendered messages/_contact (21.6ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+19732164610
Rendered messages/_contact (7.0ms)
Cache read: sqrrrl@gmail.com_contacts
Cache read: sqrrrl@gmail.com_contact_+14153690484
Rendered messages/_contact (29.1ms)
Completed in 10881ms (View: 10081, DB: 8) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:26:44) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 86ms (DB: 0) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:26:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 45ms (View: 33, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 18:26:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 73ms (View: 50, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-31 18:26:58) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"sqrrrl@gmail.com"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (412.1ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '9c1cc67e09dca8e032815a378f476c4ae3f5c1c2', '2010-06-01 01:26:58', NULL, '024f958037749174d6bfdee05b9784d6184c144c', NULL, '2010-06-01 01:26:58', '1571bd57d17e830c9bf053f313b124acf21c886a', NULL, 'sqrrrl@gmail.com', NULL, NULL, 'sqrrrl@gmail.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-01 01:26:59', "activated_at" = '2010-06-01 01:26:59', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 1321ms (DB: 413) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:26:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.4ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 147ms (DB: 3) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-31 18:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 92ms (View: 44, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-31 18:27:04) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"organizations", "organization"=>{"name"=>"test Domain", "domain"=>""}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.7ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('test Domain', NULL, '2010-06-01 01:27:04', '2010-06-01 01:27:04', '', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-01 01:27:04', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Create (1.2ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-01 01:27:04', '2010-06-01 01:27:04', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 192ms (DB: 4) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-31 18:27:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 58ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-31 18:27:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 245ms (View: 128, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-31 18:27:06) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"PHfGDOy/BUDTdI29en73wsE2R4x0QwSNcTOw5v2LLBI=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-01 01:27:06', '2010-06-01 01:27:06', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 262ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:27:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 198ms (View: 69, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:27:10) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 36ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:27:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:27:13) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 46ms (View: 33, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:27:16) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46799})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n ({:expires_in=>46799})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 929ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:27:17) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"h3gBjL/cFk6x4NjiP0gBx+e4ifI=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:27:17ZE_wmhYGlLE5b0Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355637|E_wmhYGlLE5b0Q
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355637|E_wmhYGlLE5b0Q ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m

NoMethodError (undefined method `email' for nil:NilClass):
  app/controllers/sessions_controller.rb:117:in `openid_complete'

Rendered rescues/_trace (87.4ms)
Rendered rescues/_request_and_response (4.3ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:28:14) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"h3gBjL/cFk6x4NjiP0gBx+e4ifI=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:27:17ZE_wmhYGlLE5b0Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355637|E_wmhYGlLE5b0Q
Redirected to http://localhost:3000/session/new
Completed in 575ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A27%3A17ZE_wmhYGlLE5b0Q&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=h3gBjL%2FcFk6x4NjiP0gBx%2Be4ifI%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:28:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:28:17) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 146ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:28:18) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ACYwzlsrfymJ82es+m6HnZuCwNg=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:28:18ZzypLdkeVA1exJQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355698|zypLdkeVA1exJQ
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355698|zypLdkeVA1exJQ ({:expires_in=>18005})
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m

NoMethodError (undefined method `find_by_email' for nil:NilClass):
  app/controllers/sessions_controller.rb:117:in `openid_complete'

Rendered rescues/_trace (89.6ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:28:28) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ACYwzlsrfymJ82es+m6HnZuCwNg=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:28:18ZzypLdkeVA1exJQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355698|zypLdkeVA1exJQ
Redirected to http://localhost:3000/session/new
Completed in 402ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A28%3A18ZzypLdkeVA1exJQ&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=ACYwzlsrfymJ82es%2Bm6HnZuCwNg%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:28:29) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:28:31) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:28:32) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"e4/HwkO9rkzBu0X4Bnxhk87I9vc=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:28:32ZiD5QJi32G_WvPg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355712|iD5QJi32G_WvPg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355712|iD5QJi32G_WvPg ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m

NoMethodError (undefined method `display_identifer' for #<OpenID::Consumer::SuccessResponse:0x22f19c4>):
  app/controllers/sessions_controller.rb:118:in `openid_complete'

Rendered rescues/_trace (88.4ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:28:57) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"e4/HwkO9rkzBu0X4Bnxhk87I9vc=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:28:32ZiD5QJi32G_WvPg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355712|iD5QJi32G_WvPg
Redirected to http://localhost:3000/session/new
Completed in 432ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A28%3A32ZiD5QJi32G_WvPg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=e4%2FHwkO9rkzBu0X4Bnxhk87I9vc%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:28:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:29:01) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 57ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:29:01) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"n6Qf1xuzjXEdVdiX79b7nmHmlCM=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:29:01Z1Xpm3iKYzazDNg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355741|1Xpm3iKYzazDNg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355741|1Xpm3iKYzazDNg ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate

NoMethodError (undefined method `load_contacts' for nil:NilClass):
  app/controllers/sessions_controller.rb:133:in `openid_complete'

Rendered rescues/_trace (91.4ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:29:51) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"n6Qf1xuzjXEdVdiX79b7nmHmlCM=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:29:01Z1Xpm3iKYzazDNg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355741|1Xpm3iKYzazDNg
Redirected to http://localhost:3000/session/new
Completed in 1902ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A29%3A01Z1Xpm3iKYzazDNg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=n6Qf1xuzjXEdVdiX79b7nmHmlCM%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:29:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:29:56) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 160ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:30:08) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ZmwIeGb+xJMS5+TD2K/bf8Bkoig=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:30:02ZrESIjg_IZjVuWA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355802|rESIjg_IZjVuWA
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355802|rESIjg_IZjVuWA ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 2225ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A30%3A02ZrESIjg_IZjVuWA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfjB-g6Cn1RNkhWaeLAplhK0H9iqPbZ7HxOmFkuNzhR_x5POq6n&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=ZmwIeGb%2BxJMS5%2BTD2K%2Fbf8Bkoig%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing UsersController#associate (for 127.0.0.1 at 2010-05-31 18:30:14) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"users", "password"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/associate]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:30:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:30:37) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 28ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:30:41) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.cm"}
Performing discovery for gmail.cm
Discovering domain gmail.cm
Cache read: __GAPPS_OPENID__gmail.cm
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=gmail.cm
gmail.cm is not a Google Apps domain, aborting
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:31:52) [GET]
  Parameters: {"action"=>"openid_start", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 88ms (View: 75, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:32:04) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 8305ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:32:13) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"voqvsTUbQq7u1o++p3mAxdTUIFc=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:32:12ZrDMA7N62nGjQ_A", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355932|rDMA7N62nGjQ_A
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275355932|rDMA7N62nGjQ_A ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 493ms (View: 18, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A32%3A12ZrDMA7N62nGjQ_A&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=voqvsTUbQq7u1o%2B%2Bp3mAxdTUIFc%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing UsersController#associate (for 127.0.0.1 at 2010-05-31 18:32:18) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"users", "password"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 4ms (DB: 0) | 302 Found [http://localhost/associate]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:32:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 32ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:33:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:33:36) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:33:40) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ch19iF3MgyNxK1VwWrs1/eNmlp0=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:33:40Zop8TGH_YfqESKg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356020|op8TGH_YfqESKg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356020|op8TGH_YfqESKg ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 493ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A33%3A40Zop8TGH_YfqESKg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=ch19iF3MgyNxK1VwWrs1%2FeNmlp0%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing UsersController#associate (for 127.0.0.1 at 2010-05-31 18:33:48) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"users", "password"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Filter chain halted as [:require_authentication] rendered_or_redirected.
Completed in 5ms (DB: 0) | 302 Found [http://localhost/associate]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:33:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:34:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 15, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:34:25) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:34:26) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"5Q/u7H7xj5EnA1Bbq00bmD3kbA0=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:34:26ZSNn5UOiyTazYFA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356066|SNn5UOiyTazYFA
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356066|SNn5UOiyTazYFA ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 497ms (View: 36, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A34%3A26ZSNn5UOiyTazYFA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdUrPtUbCabFNtcIysgWlDFGePGyL_5gY9IfIB2d7H0dvL1Le8f&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=5Q%2Fu7H7xj5EnA1Bbq00bmD3kbA0%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:34:31) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"LkwlR5HkgmcVhmQkF1ee0UWF0OmqoRwlAreTqcUMOkA=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (3.4ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 60ms (DB: 4) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:34:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 320ms (View: 99, DB: 5) | 200 OK [http://localhost/messages]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-05-31 18:34:39) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2FkoR_0XY3m29eTCpX8OMC8wZQVTZV
Completed in 915ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-05-31 18:34:49) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"EdIrhyh9u4mF7uwHUyiL/oUx", "oauth_token"=>"4/koR_0XY3m29eTCpX8OMC8wZQVTZV"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mGoogleToken Create (1.0ms)[0m   [0mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-06-01 01:34:50', '1/v-PFyw9cFy_7CLHuu3zyxzicFBMZRlwa2GLdLstW8pI', '2010-06-01 01:34:50', 1, 'GoogleToken', 'VOsKtq5e/52vdAZD8OLP0jlh')[0m
Redirected to http://localhost:3000/
Completed in 468ms (DB: 3) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=EdIrhyh9u4mF7uwHUyiL%2FoUx&oauth_token=4%2FkoR_0XY3m29eTCpX8OMC8wZQVTZV]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:34:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 120ms (View: 12, DB: 4) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:34:53) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 36ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:34:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (4.0ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (0.8ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 18:35:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 143ms (View: 122, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-05-31 18:35:28) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"ZQgf99YJZNnZQmO2Kaniey2g6Q8GKP347WrYibr7HAM=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '9f1aa48cf5fc223607e04b3c1c29356ae45642e8', '2010-06-01 01:35:28', NULL, 'f488a99ff8bfeabf91461ecc7344277961f0c9ac', NULL, '2010-06-01 01:35:28', '4a3c495ca801ee0f89ca907cadb2bd6d7576ce17', NULL, 'sqrrrl@gmail.com', NULL, NULL, 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-01 01:35:28', "activated_at" = '2010-06-01 01:35:28', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 330ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:35:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 850ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-31 18:35:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 144ms (View: 96, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-31 18:35:38) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"ZQgf99YJZNnZQmO2Kaniey2g6Q8GKP347WrYibr7HAM=", "controller"=>"organizations", "organization"=>{"name"=>"Test Domain", "domain"=>""}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.7ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Test Domain', NULL, '2010-06-01 01:35:38', '2010-06-01 01:35:38', '', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-01 01:35:38', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Create (0.4ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-01 01:35:38', '2010-06-01 01:35:38', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 192ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-31 18:35:38) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 55ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-31 18:35:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 208ms (View: 94, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-31 18:35:40) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"ZQgf99YJZNnZQmO2Kaniey2g6Q8GKP347WrYibr7HAM=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.6ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-01 01:35:40', '2010-06-01 01:35:40', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 247ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:35:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 198ms (View: 71, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:35:44) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:35:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 32ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:35:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 48ms (View: 32, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:35:50) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"XX6jYo9sMD4fmRRt7la9lLnivoAmt5F+HZ7wXMh0TOE=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 22418ms (View: 18, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:36:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:36:24) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"XX6jYo9sMD4fmRRt7la9lLnivoAmt5F+HZ7wXMh0TOE=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 15350ms (View: 11, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:36:44) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"XX6jYo9sMD4fmRRt7la9lLnivoAmt5F+HZ7wXMh0TOE=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 781ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:36:48) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"eVi+aaXYJkV/bLWsQYNKkKFdD2M=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:36:47ZRd_3Q-M53opNKg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356207|Rd_3Q-M53opNKg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356207|Rd_3Q-M53opNKg ({:expires_in=>18005})
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 1438ms (View: 18, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A36%3A47ZRd_3Q-M53opNKg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=eVi%2BaaXYJkV%2FbLWsQYNKkKFdD2M%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:36:52) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"XX6jYo9sMD4fmRRt7la9lLnivoAmt5F+HZ7wXMh0TOE=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (3.5ms)[0m   [0mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
Failed login for '' from 127.0.0.1 at Tue Jun 01 01:36:52 UTC 2010
Rendering template within layouts/application
Rendering sessions/associate
Completed in 46ms (View: 7, DB: 3) | 200 OK [http://localhost/associate]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:36:55) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"XX6jYo9sMD4fmRRt7la9lLnivoAmt5F+HZ7wXMh0TOE=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 46ms (DB: 3) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:36:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 184ms (View: 49, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:36:58) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 40ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:36:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:37:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:37:05) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"7sHYcCk10+3u5tsGS3/KBfbczY0h0Bnj8rObwXtZfkE=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 55ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:37:12) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ek2WZbqok9u2KcCokSA/q4bc1j4=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:37:05Zo1p6NLRvmhmUVw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356225|o1p6NLRvmhmUVw
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356225|o1p6NLRvmhmUVw ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 5645ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A37%3A05Zo1p6NLRvmhmUVw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=ek2WZbqok9u2KcCokSA%2Fq4bc1j4%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:37:25) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"7sHYcCk10+3u5tsGS3/KBfbczY0h0Bnj8rObwXtZfkE=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (2.1ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 50ms (DB: 3) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:37:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 272ms (View: 49, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:38:17) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 38ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:38:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:38:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:38:23) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"Nef1iqI8aJz9CWzGgF9zvlOIv9bIoM5K7NcvEAdhNRQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 51ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:38:24) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"/HGOJ/jqtbzhxTHOh1YdNWKAqLs=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:38:24ZNzfIkgSh1FbCgg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356304|NzfIkgSh1FbCgg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356304|NzfIkgSh1FbCgg ({:expires_in=>18005})
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 481ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A38%3A24ZNzfIkgSh1FbCgg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=%2FHGOJ%2FjqtbzhxTHOh1YdNWKAqLs%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:38:29) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"Nef1iqI8aJz9CWzGgF9zvlOIv9bIoM5K7NcvEAdhNRQ=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 52ms (DB: 2) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:38:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 177ms (View: 47, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:38:38) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 36ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:38:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-05-31 18:38:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 57ms (View: 36, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:38:44) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:38:50) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"SPGEPHzXVMMPatT+QJDJmtmxGug2FUphtU8CaJdnS8Q=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 58ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:38:51) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"ASzRyAf5IvnFl2VcOcDh+xz6Un0=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:38:50Z0y_s66JmFfM9Vw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356330|0y_s66JmFfM9Vw
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356330|0y_s66JmFfM9Vw ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 491ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A38%3A50Z0y_s66JmFfM9Vw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=ASzRyAf5IvnFl2VcOcDh%2Bxz6Un0%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:39:41) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"SPGEPHzXVMMPatT+QJDJmtmxGug2FUphtU8CaJdnS8Q=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (3.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 52ms (DB: 5) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:39:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 178ms (View: 47, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:40:06) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 134ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:40:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:40:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 296ms (View: 283, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:40:14) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"FJmmKTuNDzACxGazdQ2F6Tb434OI6t19mwjjbN1fJ2A=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 55ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:40:22) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"zVxPJ3RKeAlmfP9K2w1lcCatyHE=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:40:22ZUIGKAPdpw6Y6Xg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356422|UIGKAPdpw6Y6Xg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356422|UIGKAPdpw6Y6Xg ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 5278ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A40%3A22ZUIGKAPdpw6Y6Xg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=zVxPJ3RKeAlmfP9K2w1lcCatyHE%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:40:59) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"FJmmKTuNDzACxGazdQ2F6Tb434OI6t19mwjjbN1fJ2A=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (1.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 58ms (DB: 4) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:40:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 193ms (View: 51, DB: 6) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:42:06) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 38ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:42:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:42:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 16, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:42:12) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"x2qS2FmGT+gdvvAUwZNpMnm0i6tOroT6YtiljutpXBA=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 55ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:42:14) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"gttcXInYnxuMYKZk+f+IMx+4oPs=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:42:13ZWyMtwHQ4P1R4ng", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356533|WyMtwHQ4P1R4ng
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356533|WyMtwHQ4P1R4ng ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 2308ms (View: 7, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A42%3A13ZWyMtwHQ4P1R4ng&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=gttcXInYnxuMYKZk%2Bf%2BIMx%2B4oPs%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:42:19) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"x2qS2FmGT+gdvvAUwZNpMnm0i6tOroT6YtiljutpXBA=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 45ms (DB: 2) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:42:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 188ms (View: 50, DB: 5) | 200 OK [http://localhost/messages]


Processing ApplicationController#destroy (for 127.0.0.1 at 2010-05-31 18:43:54) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}

SyntaxError (/Users/sbazyl/railsconf/voicemail/app/controllers/sessions_controller.rb:125: syntax error, unexpected tIDENTIFIER, expecting '}'
            puts("XID=#{session[:openid] session[:email]}}")
                                                ^):
  

Rendered rescues/_trace (85.5ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:44:19) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:44:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:44:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:44:47) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"BQgWofUVZJfB0Qc5lOooxX48gLUvu2Zv1YZI073fVD0=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 56ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:44:47) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"XyA2FpGi3EzGDj0OV5IHoilNv00=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:44:47Zn8CzUodXUAQ8Pw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356687|n8CzUodXUAQ8Pw
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356687|n8CzUodXUAQ8Pw ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/associate
Completed in 2725ms (View: 11, DB: 2) | 200 OK [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A44%3A47Zn8CzUodXUAQ8Pw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=XyA2FpGi3EzGDj0OV5IHoilNv00%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#associate (for 127.0.0.1 at 2010-05-31 18:45:00) [POST]
  Parameters: {"commit"=>"Link", "action"=>"associate", "authenticity_token"=>"BQgWofUVZJfB0Qc5lOooxX48gLUvu2Zv1YZI073fVD0=", "controller"=>"sessions", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (3.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-01 01:45:00', "openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8' WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 69ms (DB: 5) | 302 Found [http://localhost/associate]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:45:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 180ms (View: 48, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 18:45:47) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 37ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 18:45:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-05-31 18:45:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 18:45:56) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"7ft/I9oFWXmKfKBYoOkJmxwIfHXQ+tgEGq4QQgeNLv4=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 54ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 18:46:04) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"NwQ9kwN3VhUscxI+/WQt4V1VtlA=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.response_nonce"=>"2010-06-01T01:46:04ZvQcngPu_Z61vEg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356764|vQcngPu_Z61vEg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275356764|vQcngPu_Z61vEg ({:expires_in=>18005})
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 1322ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-01T01%3A46%3A04ZvQcngPu_Z61vEg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdkyoSM5pJQ_8A2afesv5E88hpm6HeGzp0GtGueP4slPXt5XqqV&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=NwQ9kwN3VhUscxI%2B%2FWQt4V1VtlA%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 18:46:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 185ms (View: 50, DB: 5) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-05-31 19:28:00) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 92ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-05-31 19:28:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 45ms (View: 33, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 19:30:33) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "identifer"=>"smart-lawfirm.com", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 37ms (View: 24, DB: 0) | 200 OK [http://localhost/openid/start?identifer=smart-lawfirm.com&marketplace=1]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 19:31:09) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUdo14s93MKpRoC7avfYrVkEPtevHNKa0HdRyhZbDlIIkC5wncUW ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUdo14s93MKpRoC7avfYrVkEPtevHNKa0HdRyhZbDlIIkC5wncUW&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 1248ms (DB: 0) | 302 Found [http://localhost/openid/start?identifier=smart-lawfirm.com&marketplace=1]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 19:31:47) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"toBgAAdcksi+El55MD2x+zYbBXs=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.response_nonce"=>"2010-06-01T02:31:46Zm5eSfza5PCxA1g", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.value.gn"=>"Steve", "openid.assoc_handle"=>"AOQobUdo14s93MKpRoC7avfYrVkEPtevHNKa0HdRyhZbDlIIkC5wncUW", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUdo14s93MKpRoC7avfYrVkEPtevHNKa0HdRyhZbDlIIkC5wncUW
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1275359506|m5eSfza5PCxA1g
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1275359506|m5eSfza5PCxA1g ({:expires_in=>18005})
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', '5dfe985ed73157432bede982ff4271ba5a132bb9', '2010-06-01 02:31:47', NULL, '7730ed14f708c56fdb715eb0e8b6bfd90deca8c1', NULL, '2010-06-01 02:31:47', '258470e65fd55cc064205c59f0ab86d9430e41f9', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-01 02:31:47', "activated_at" = '2010-06-01 02:31:47', "activation_code" = NULL WHERE "id" = 2[0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 852ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-01T02%3A31%3A46Zm5eSfza5PCxA1g&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdo14s93MKpRoC7avfYrVkEPtevHNKa0HdRyhZbDlIIkC5wncUW&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=toBgAAdcksi%2BEl55MD2x%2BzYbBXs%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:31:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 113ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-31 19:31:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 93ms (View: 47, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-31 19:31:57) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JXqsH3fPYilLKEF+pYuQtl/o06nNyGy4gFzf4Qebjrk=", "controller"=>"organizations", "organization"=>{"name"=>"Smart Lawfirm", "domain"=>"smart-lawfirm.com"}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mOrganization Create (0.7ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Smart Lawfirm', 'f', '2010-06-01 02:31:57', '2010-06-01 02:31:57', 'smart-lawfirm.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-01 02:31:57', "organization_id" = 2 WHERE "id" = 2[0m
  [4;35;1mPhoneNumber Create (1.9ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-01 02:31:57', '2010-06-01 02:31:57', 2)[0m
Redirected to http://localhost:3000/organizations/2
Completed in 109ms (DB: 5) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-31 19:31:57) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 55ms (DB: 3) | 302 Found [http://localhost/organizations/2]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-31 19:31:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 2) LIMIT 1[0m
Completed in 210ms (View: 96, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-31 19:32:00) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"JXqsH3fPYilLKEF+pYuQtl/o06nNyGy4gFzf4Qebjrk=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 2) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 2) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 2, '', '2010-06-01 02:32:00', '2010-06-01 02:32:00', 2)[0m
Redirected to http://localhost:3000/messages
Completed in 165ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:32:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 2) [0m
  [4;36;1mExtension Load (1.1ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 2) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 2) [0m
Completed in 329ms (View: 98, DB: 5) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100525221245)
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100525221245')[0m
Migrating to CreateOauthConsumerTokens (20100525222447)
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE unique INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525222447')[0m
Migrating to CreateOrganizations (20100525233106)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525233106')[0m
Migrating to AddUsersToOrg (20100525234001)
  [4;35;1mSQL (1.5ms)[0m   [0mALTER TABLE "users" ADD "organization_id" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525234001')[0m
Migrating to CreatePhoneNumbers (20100525235346)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235346')[0m
Migrating to CreateExtensions (20100525235510)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235510')[0m
Migrating to CreateMessages (20100525235616)
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100525235616')[0m
Migrating to CreateInvitations (20100526222914)
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100526222914')[0m
Migrating to AddUserOpenid (20100528175713)
  [4;35;1mSQL (1.8ms)[0m   [0mALTER TABLE "users" ADD "openid" varchar(255)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528175713')[0m
Migrating to AddOrganizaton2lo (20100528180135)
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "organizations" ADD "from_marketplace" boolean[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mPRAGMA index_list("consumer_tokens")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_info('index_consumer_tokens_on_token')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("extensions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("invitations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("messages")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("organizations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("phone_numbers")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_info('index_users_on_login')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 19:35:02) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "identifer"=>"smart-lawfirm.com", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 96ms (View: 81, DB: 0) | 200 OK [http://localhost/openid/start?identifer=smart-lawfirm.com&marketplace=1]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-05-31 19:35:16) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUeM_W_GwTNODyDHJcrYOrFAhr78EGyD1FkShToBwg1l5kwgWQW4 ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUeM_W_GwTNODyDHJcrYOrFAhr78EGyD1FkShToBwg1l5kwgWQW4&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 8427ms (DB: 0) | 302 Found [http://localhost/openid/start?identifier=smart-lawfirm.com&marketplace=1]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-05-31 19:35:32) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"O5ya4iQK+rU2heXHDa77fK5smWc=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.response_nonce"=>"2010-06-01T02:35:30ZXa70xYNAOd05UQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.value.gn"=>"Steve", "openid.assoc_handle"=>"AOQobUeM_W_GwTNODyDHJcrYOrFAhr78EGyD1FkShToBwg1l5kwgWQW4", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUeM_W_GwTNODyDHJcrYOrFAhr78EGyD1FkShToBwg1l5kwgWQW4
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1275359730|Xa70xYNAOd05UQ
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1275359730|Xa70xYNAOd05UQ ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', '692a7c03e63fa3a3904ee54380fdcf00f64f7dbb', '2010-06-01 02:35:32', NULL, '8ee54f06923484b9d922476bf95c39298ba25e42', NULL, '2010-06-01 02:35:32', 'af40f3e662d71c1373b86bc344f9bbad945708cd', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-01 02:35:32', "activated_at" = '2010-06-01 02:35:32', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 707ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-01T02%3A35%3A30ZXa70xYNAOd05UQ&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUeM_W_GwTNODyDHJcrYOrFAhr78EGyD1FkShToBwg1l5kwgWQW4&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=O5ya4iQK%2BrU2heXHDa77fK5smWc%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:35:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 126ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-05-31 19:35:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 201ms (View: 143, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-05-31 19:35:48) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"JXqsH3fPYilLKEF+pYuQtl/o06nNyGy4gFzf4Qebjrk=", "controller"=>"organizations", "organization"=>{"name"=>"Smart Lawfirm", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Smart Lawfirm', 't', '2010-06-01 02:35:48', '2010-06-01 02:35:48', 'smart-lawfirm.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-01 02:35:48', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-01 02:35:48', '2010-06-01 02:35:48', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 116ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-05-31 19:35:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.5ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 77ms (DB: 4) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-05-31 19:35:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 337ms (View: 196, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-05-31 19:36:03) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"JXqsH3fPYilLKEF+pYuQtl/o06nNyGy4gFzf4Qebjrk=", "controller"=>"extensions"}
  [4;36;1mUser Load (3.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (1.2ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.7ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-01 02:36:03', '2010-06-01 02:36:03', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 185ms (DB: 7) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:36:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 223ms (View: 69, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:46:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 295ms (View: 50, DB: 5) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing TwilioController#record (for 127.0.0.1 at 2010-05-31 19:47:29) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"4153690484", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mMessage Create (0.8ms)[0m   [0;1mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(NULL, '2010-06-01 02:47:29', NULL, '+14153690484', '2010-06-01 02:47:29', 'http://foo.com', 1)[0m
Completed in 146ms (View: 2, DB: 3) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:47:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    oauth (0.4.0) lib/oauth/consumer.rb:79:in `initialize'
    /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `new'
    /usr/local/lib/ruby/gems/1.8/gems/oauth-plugin-0.3.14/lib/oauth/models/consumers/token.rb:26:in `consumer'
    app/models/user.rb:75:in `access_token'
    app/models/user.rb:79:in `load_contacts'
    app/models/user.rb:102:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (146.6ms)
Rendered rescues/_request_and_response (3.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:54:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.0ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (undefined method `client' for nil:NilClass) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    app/models/user.rb:88:in `load_contacts'
    app/models/user.rb:105:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (131.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:54:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (undefined method `uri' for nil:NilClass) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    oauth (0.4.0) lib/oauth/tokens/access_token.rb:8:in `request'
    lib/contacts.rb:22:in `all_contacts'
    app/models/user.rb:89:in `load_contacts'
    app/models/user.rb:105:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (132.6ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:55:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (undefined method `uri' for nil:NilClass) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    oauth (0.4.0) lib/oauth/tokens/access_token.rb:8:in `request'
    lib/contacts.rb:22:in `all_contacts'
    app/models/user.rb:91:in `load_contacts'
    app/models/user.rb:107:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (132.1ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 19:55:51) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.5ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (undefined method `uri' for nil:NilClass) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    oauth (0.4.0) lib/oauth/tokens/access_token.rb:8:in `request'
    lib/contacts.rb:22:in `all_contacts'
    app/models/user.rb:91:in `load_contacts'
    app/models/user.rb:107:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (138.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:07:17) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    app/models/user.rb:93:in `load_contacts'
    app/models/user.rb:107:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (138.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:08:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (3.3ms)
Completed in 8655ms (View: 8510, DB: 6) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:09:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (2.8ms)
Completed in 1453ms (View: 657, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:10:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (3.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (0.5ms)
Completed in 3085ms (View: 2922, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:12:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (wrong number of arguments (2 for 1)) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    app/models/user.rb:90:in `initialize'
    app/models/user.rb:90:in `new'
    app/models/user.rb:90:in `load_contacts'
    app/models/user.rb:107:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (140.9ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:13:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (wrong number of arguments (2 for 1)) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    app/models/user.rb:87:in `initialize'
    app/models/user.rb:87:in `new'
    app/models/user.rb:87:in `load_contacts'
    app/models/user.rb:104:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (132.2ms)
Rendered rescues/_request_and_response (3.5ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:14:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.2ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (wrong number of arguments (2 for 1)) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    app/models/user.rb:87:in `initialize'
    app/models/user.rb:87:in `new'
    app/models/user.rb:87:in `load_contacts'
    app/models/user.rb:104:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:14:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.8ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (undefined local variable or method `option' for #<User:0x2397784>) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    app/models/user.rb:88:in `load_contacts'
    app/models/user.rb:104:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (124.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:14:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

ActionView::TemplateError (bad URI(is not URI?): http://www.google.com/m8/feeds/contacts/default/full?max-results=1000&xoauth_requestor_id=#{options[:requestor]}) on line #19 of app/views/messages/index.html.erb:
16:           <source src="<%= message.url %>.mp3"/>
17:       </audio>
18:       <span class="receved">Received at <%=h message.created_at %></span>
19:       <%= render :partial => 'contact', :locals => { :contact => @user.contact_by_phone(message.from) }%>
20:       </li>
21:    <% end %>
22:   </ul>

    /usr/local/lib/ruby/1.8/uri/common.rb:436:in `split'
    /usr/local/lib/ruby/1.8/uri/common.rb:485:in `parse'
    oauth (0.4.0) lib/oauth/tokens/access_token.rb:7:in `request'
    lib/contacts.rb:22:in `all_contacts'
    app/models/user.rb:88:in `load_contacts'
    app/models/user.rb:104:in `contact_by_phone'
    app/views/messages/index.html.erb:19
    app/views/messages/index.html.erb:12
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (277.4ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:15:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (3.4ms)
Completed in 8467ms (View: 8326, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:15:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (2.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.9ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.9ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contact_+16503903790
Cache write: steve@smart-lawfirm.com_contact_+16502144491
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache write: steve@smart-lawfirm.com_contact_+16502530121
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (1.3ms)
Completed in 713ms (View: 563, DB: 8) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:17:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contact_+16503903790
Cache write: steve@smart-lawfirm.com_contact_+16502144491
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache write: steve@smart-lawfirm.com_contact_+16502530121
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (0.4ms)
Completed in 2078ms (View: 1933, DB: 6) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:20:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (0.8ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contact_+16503903790
Cache write: steve@smart-lawfirm.com_contact_+16502144491
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache write: steve@smart-lawfirm.com_contact_+16502530121
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (3.0ms)
Completed in 10506ms (View: 9661, DB: 6) | 200 OK [http://localhost/messages]


Processing TwilioController#record (for 127.0.0.1 at 2010-05-31 20:20:33) [POST]
  Parameters: {"AccountSid"=>"AC77887d0b823ec25f0354593a47afc579", "extension"=>"1", "Caller"=>"6503903790", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://foo.com", "Called"=>"8776601798"}
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mMessage Create (1.1ms)[0m   [0mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(NULL, '2010-06-01 03:20:33', NULL, '+16503903790', '2010-06-01 03:20:33', 'http://foo.com', 1)[0m
Completed in 91ms (View: 1, DB: 3) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:20:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.6ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (0.3ms)
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+16503903790
Rendered messages/_contact (103.2ms)
Completed in 301ms (View: 175, DB: 6) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-05-31 20:21:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.0ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 160ms (View: 59, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2010-05-31 20:21:02) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Completed in 130ms (View: 104, DB: 2) | 200 OK [http://localhost/users/1/edit]


Processing MessagesController#index (for 127.0.0.1 at 2010-05-31 20:21:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (1.2ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (0.3ms)
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+16503903790
Rendered messages/_contact (5.7ms)
Completed in 303ms (View: 174, DB: 6) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (72.3ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (3.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (3.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m


Processing MessagesController#index (for 127.0.0.1 at 2010-06-01 10:54:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.3ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14153690484
Rendered messages/_contact (0.3ms)
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+16503903790
Rendered messages/_contact (6.8ms)
Completed in 295ms (View: 85, DB: 7) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-01 10:54:29) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 39ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-01 10:54:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 125ms (View: 111, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-01 10:54:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 70ms (View: 46, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 10:54:37) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Cache write: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth ({:expires_in=>14400})
Cache write: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw-- ({:expires_in=>14400})
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 20823ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 10:55:25) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"c5IjsW1LkRgt6LuHfRhdFL1f11g=", "openid.response_nonce"=>"2010-06-01T17:55:25Zzr7aaZvFEVIpQP0H5YMaJEh_oAhvUbsotw--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275414925|zr7aaZvFEVIpQP0H5YMaJEh_oAhvUbsotw--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275414925|zr7aaZvFEVIpQP0H5YMaJEh_oAhvUbsotw-- ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank):
  app/controllers/sessions_controller.rb:135:in `openid_complete'

Rendered rescues/_trace (179.4ms)
Rendered rescues/_request_and_response (4.3ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:29:06) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"c5IjsW1LkRgt6LuHfRhdFL1f11g=", "openid.response_nonce"=>"2010-06-01T17:55:25Zzr7aaZvFEVIpQP0H5YMaJEh_oAhvUbsotw--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275414925|zr7aaZvFEVIpQP0H5YMaJEh_oAhvUbsotw--
Redirected to http://localhost:3000/session/new
Completed in 10244ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T17%3A55%3A25Zzr7aaZvFEVIpQP0H5YMaJEh_oAhvUbsotw--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=c5IjsW1LkRgt6LuHfRhdFL1f11g%3D]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-01 11:29:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 78ms (View: 60, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:29:22) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 10318ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:31:04) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"ssZMIFM+Shlm8Xz9Q7FxOb2dZEg=", "openid.response_nonce"=>"2010-06-01T18:31:04ZYLMGUMPe2DEdw8ohIo2Ue90mIuNPBxYxkA--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417064|YLMGUMPe2DEdw8ohIo2Ue90mIuNPBxYxkA--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417064|YLMGUMPe2DEdw8ohIo2Ue90mIuNPBxYxkA-- ({:expires_in=>18005})
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank):
  app/controllers/sessions_controller.rb:135:in `openid_complete'

Rendered rescues/_trace (112.4ms)
Rendered rescues/_request_and_response (3.2ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:31:49) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"ssZMIFM+Shlm8Xz9Q7FxOb2dZEg=", "openid.response_nonce"=>"2010-06-01T18:31:04ZYLMGUMPe2DEdw8ohIo2Ue90mIuNPBxYxkA--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417064|YLMGUMPe2DEdw8ohIo2Ue90mIuNPBxYxkA--
Redirected to http://localhost:3000/session/new
Completed in 216ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T18%3A31%3A04ZYLMGUMPe2DEdw8ohIo2Ue90mIuNPBxYxkA--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=ssZMIFM%2BShlm8Xz9Q7FxOb2dZEg%3D]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-01 11:31:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 30ms (View: 16, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:31:52) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yaoo"}
Performing discovery for yaoo
Discovering domain yaoo
Cache read: __GAPPS_OPENID__yaoo
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yaoo
yaoo is not a Google Apps domain, aborting
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 25174ms (View: 45, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:32:18) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 5323ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:32:40) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"MN5R+RkFcGh2qoenS//f6Bpx9ms=", "openid.response_nonce"=>"2010-06-01T18:32:39ZPjArFAEGDm3sddkKFIFYBNBxd0fb.R3meg--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417159|PjArFAEGDm3sddkKFIFYBNBxd0fb.R3meg--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417159|PjArFAEGDm3sddkKFIFYBNBxd0fb.R3meg-- ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank):
  app/controllers/sessions_controller.rb:136:in `openid_complete'

Rendered rescues/_trace (210.8ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:32:57) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"MN5R+RkFcGh2qoenS//f6Bpx9ms=", "openid.response_nonce"=>"2010-06-01T18:32:39ZPjArFAEGDm3sddkKFIFYBNBxd0fb.R3meg--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417159|PjArFAEGDm3sddkKFIFYBNBxd0fb.R3meg--
Redirected to http://localhost:3000/session/new
Completed in 213ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T18%3A32%3A39ZPjArFAEGDm3sddkKFIFYBNBxd0fb.R3meg--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=MN5R%2BRkFcGh2qoenS%2F%2Ff6Bpx9ms%3D]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-01 11:32:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 39ms (View: 23, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:33:06) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 307ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:33:08) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"TnLc9FZ1kX3HRu8EMtwbDaDtDV4=", "openid.response_nonce"=>"2010-06-01T18:33:08ZLLbpDzzBRSAGn8Fe2Os7D8WTEbPqz6atNQ--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417188|LLbpDzzBRSAGn8Fe2Os7D8WTEbPqz6atNQ--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417188|LLbpDzzBRSAGn8Fe2Os7D8WTEbPqz6atNQ-- ({:expires_in=>18005})
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank):
  app/controllers/sessions_controller.rb:136:in `openid_complete'

Rendered rescues/_trace (105.2ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:34:02) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"TnLc9FZ1kX3HRu8EMtwbDaDtDV4=", "openid.response_nonce"=>"2010-06-01T18:33:08ZLLbpDzzBRSAGn8Fe2Os7D8WTEbPqz6atNQ--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417188|LLbpDzzBRSAGn8Fe2Os7D8WTEbPqz6atNQ--
Redirected to http://localhost:3000/session/new
Completed in 5210ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T18%3A33%3A08ZLLbpDzzBRSAGn8Fe2Os7D8WTEbPqz6atNQ--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=TnLc9FZ1kX3HRu8EMtwbDaDtDV4%3D]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-01 11:34:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 28ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:34:11) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 5286ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:34:19) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"M+Fkbir3/m7rPnsrJnGd/hLex88=", "openid.response_nonce"=>"2010-06-01T18:34:18Zdbrlgm6efzSVAGzI4sbJTwm9WC4YC60cJg--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417258|dbrlgm6efzSVAGzI4sbJTwm9WC4YC60cJg--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417258|dbrlgm6efzSVAGzI4sbJTwm9WC4YC60cJg-- ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Unknown', 'c25efd3f0bfd76a48cd56c48321398355dc5f0b5', '2010-06-01 18:34:29', NULL, '3f81b4f175b969fb95a51fc3ec8bd0796f8ba5da', NULL, '2010-06-01 18:34:29', 'b2824a00188b47b90a1faaab53c75cba37a89985', NULL, 'sqrrrl@yahoo.com', NULL, 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--', 'sqrrrl@yahoo.com')[0m
Redirected to http://localhost:3000/
Completed in 10325ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T18%3A34%3A18Zdbrlgm6efzSVAGzI4sbJTwm9WC4YC60cJg--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=M%2BFkbir3%2Fm7rPnsrJnGd%2FhLex88%3D]


Processing HomeController#index (for 127.0.0.1 at 2010-06-01 11:34:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-01 11:34:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 30ms (View: 16, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:34:42) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 10225ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:35:04) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"YLTSUDCm+8ABxp4l1WfQymx1ERI=", "openid.response_nonce"=>"2010-06-01T18:35:04ZuO7uOcLjtgfS8xb7NOHlUcP5xG9DxLrMSg--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417304|uO7uOcLjtgfS8xb7NOHlUcP5xG9DxLrMSg--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417304|uO7uOcLjtgfS8xb7NOHlUcP5xG9DxLrMSg-- ({:expires_in=>18005})
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m

NoMethodError (undefined method `from_marketplace?' for nil:NilClass):
  app/models/user.rb:76:in `load_contacts'
  app/controllers/sessions_controller.rb:146:in `openid_complete'

Rendered rescues/_trace (101.4ms)
Rendered rescues/_request_and_response (3.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:35:59) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"YLTSUDCm+8ABxp4l1WfQymx1ERI=", "openid.response_nonce"=>"2010-06-01T18:35:04ZuO7uOcLjtgfS8xb7NOHlUcP5xG9DxLrMSg--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417304|uO7uOcLjtgfS8xb7NOHlUcP5xG9DxLrMSg--
Redirected to http://localhost:3000/session/new
Completed in 5242ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T18%3A35%3A04ZuO7uOcLjtgfS8xb7NOHlUcP5xG9DxLrMSg--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=YLTSUDCm%2B8ABxp4l1WfQymx1ERI%3D]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-01 11:36:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Completed in 49ms (View: 35, DB: 1) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:36:07) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yaoo"}
Performing discovery for yaoo
Discovering domain yaoo
Cache read: __GAPPS_OPENID__yaoo
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yaoo
yaoo is not a Google Apps domain, aborting
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 136ms (View: 7, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-01 11:36:11) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"MSVjVU9F6p3HipvpxTREZ5WwQamo4zzi6ubYdjYPr7g=", "controller"=>"sessions", "identifier"=>"yahoo.com"}
Performing discovery for yahoo.com
Discovering domain yahoo.com
Cache read: __GAPPS_OPENID__yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=yahoo.com
yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth
Redirected to https://open.login.yahooapis.com/openid/op/auth?openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 5218ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-01 11:36:24) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.op_endpoint"=>"https://open.login.yahooapis.com/openid/op/auth", "openid.sig"=>"FkfZ7DHhviYfyYvqf0SVGs7CPwc=", "openid.response_nonce"=>"2010-06-01T18:36:23ZryCzDZ2N9awkFofr_ryQ05prmNzrs0IvPw--", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ax.type.email"=>"http://axschema.org/contact/email", "openid.identity"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--", "openid.ns.ax"=>"http://openid.net/srv/ax/1.0", "openid.assoc_handle"=>".x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--", "openid.signed"=>"assoc_handle,claimed_id,identity,mode,ns,op_endpoint,response_nonce,return_to,signed,ax.value.email,ax.type.email,ns.ax,ax.mode,pape.auth_level.nist", "controller"=>"sessions", "openid.realm"=>"http://localhost:3000/", "openid.ax.mode"=>"fetch_response", "openid.claimed_id"=>"https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7", "openid.ax.value.email"=>"sqrrrl@yahoo.com", "openid.pape.auth_level.nist"=>"0"}
Performing discovery for https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7
Discovering user identity https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--#eb5e7 for domain me.yahoo.com
Cache read: __GAPPS_OPENID__me.yahoo.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=me.yahoo.com
me.yahoo.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://open.login.yahooapis.com/openid/op/auth|.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--
Cache exist?: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417383|ryCzDZ2N9awkFofr_ryQ05prmNzrs0IvPw--
Cache write: openid-store:Nhttps://open.login.yahooapis.com/openid/op/auth|1275417383|ryCzDZ2N9awkFofr_ryQ05prmNzrs0IvPw-- ({:expires_in=>18005})
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://me.yahoo.com/a/a3fPAjZkkMoJDutc4Ttr3RyJeQ--') LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 239ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.claimed_id=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--%23eb5e7&openid.identity=https%3A%2F%2Fme.yahoo.com%2Fa%2Fa3fPAjZkkMoJDutc4Ttr3RyJeQ--&openid.assoc_handle=.x8BnSg2TK2CCmcAXT1L3oLQN6fDQ90vzr9FVP0hlxPrdS87LdrN4qlXsx.u5FsdZ3FxpEpR1Qotbu4ki6ybRFk34tMLDWG.sH0qx99EIKUfiwG0Do_AHmBCd7yERw--&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ax.mode=fetch_response&openid.ax.value.email=sqrrrl%40yahoo.com&openid.response_nonce=2010-06-01T18%3A36%3A23ZryCzDZ2N9awkFofr_ryQ05prmNzrs0IvPw--&openid.signed=assoc_handle%2Cclaimed_id%2Cidentity%2Cmode%2Cns%2Cop_endpoint%2Cresponse_nonce%2Creturn_to%2Csigned%2Cax.value.email%2Cax.type.email%2Cns.ax%2Cax.mode%2Cpape.auth_level.nist&openid.op_endpoint=https%3A%2F%2Fopen.login.yahooapis.com%2Fopenid%2Fop%2Fauth&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.pape.auth_level.nist=0&openid.sig=FkfZ7DHhviYfyYvqf0SVGs7CPwc%3D]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-01 11:36:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.6ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'yahoo.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.4ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@yahoo.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 127ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-01 11:36:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 122ms (View: 68, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-01 11:36:53) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 40ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-01 11:36:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (12.9ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:09:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 275ms (View: 198, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:10:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:10:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:11:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:11:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:12:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:12:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:13:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:14:00) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:14:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 95ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:14:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:15:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:15:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:15:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:16:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:16:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 144ms (View: 122, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:17:04) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 877ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:17:07) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"/plmM2Q31k5EiNJG7uU4OKD6Kwk=", "openid.response_nonce"=>"2010-06-08T04:17:07ZSA_d-P8Wlqsmow", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970627|SA_d-P8Wlqsmow
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970627|SA_d-P8Wlqsmow ({:expires_in=>18005})
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:136:in `openid_complete'

Rendered rescues/_trace (96.8ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:18:13) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"/plmM2Q31k5EiNJG7uU4OKD6Kwk=", "openid.response_nonce"=>"2010-06-08T04:17:07ZSA_d-P8Wlqsmow", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970627|SA_d-P8Wlqsmow
Redirected to http://localhost:3000/session/new
Completed in 628ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A17%3A07ZSA_d-P8Wlqsmow&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.sn%2Cext1.value.sn&openid.sig=%2FplmM2Q31k5EiNJG7uU4OKD6Kwk%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:18:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 82ms (View: 68, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:18:17) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmai"}
Performing discovery for gmai
Discovering domain gmai
Cache read: __GAPPS_OPENID__gmai
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=gmai
gmai is not a Google Apps domain, aborting
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 571ms (View: 51, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:18:20) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 59ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:18:20) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"MWb5vNmcwFGMbAlfo+rsMNFVgwE=", "openid.response_nonce"=>"2010-06-08T04:18:20Zcf7AAlT2HiFH_w", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970700|cf7AAlT2HiFH_w
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970700|cf7AAlT2HiFH_w ({:expires_in=>18005})
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:137:in `openid_complete'

Rendered rescues/_trace (113.0ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:19:15) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"MWb5vNmcwFGMbAlfo+rsMNFVgwE=", "openid.response_nonce"=>"2010-06-08T04:18:20Zcf7AAlT2HiFH_w", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970700|cf7AAlT2HiFH_w
Redirected to http://localhost:3000/session/new
Completed in 396ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A18%3A20Zcf7AAlT2HiFH_w&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.sn%2Cext1.value.sn&openid.sig=MWb5vNmcwFGMbAlfo%2BrsMNFVgwE%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:19:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 29ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:19:19) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 152ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:19:20) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"/yUHnkyvzDT09CFu7irypM1pVmI=", "openid.response_nonce"=>"2010-06-08T04:19:19ZNlL72qq5b3IDDA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970759|NlL72qq5b3IDDA
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970759|NlL72qq5b3IDDA ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:137:in `openid_complete'

Rendered rescues/_trace (93.8ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:19:46) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"/yUHnkyvzDT09CFu7irypM1pVmI=", "openid.response_nonce"=>"2010-06-08T04:19:19ZNlL72qq5b3IDDA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970759|NlL72qq5b3IDDA
Redirected to http://localhost:3000/session/new
Completed in 558ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A19%3A19ZNlL72qq5b3IDDA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.sn%2Cext1.value.sn&openid.sig=%2FyUHnkyvzDT09CFu7irypM1pVmI%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:19:47) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:19:51) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 62ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:19:52) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"VzaYwaX8+IZXTck5l6zrghFOURA=", "openid.response_nonce"=>"2010-06-08T04:19:52ZRi3J0kd0dtlC9Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970792|Ri3J0kd0dtlC9Q
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970792|Ri3J0kd0dtlC9Q ({:expires_in=>18005})
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:137:in `openid_complete'

Rendered rescues/_trace (179.8ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:20:20) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"VzaYwaX8+IZXTck5l6zrghFOURA=", "openid.response_nonce"=>"2010-06-08T04:19:52ZRi3J0kd0dtlC9Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970792|Ri3J0kd0dtlC9Q
Redirected to http://localhost:3000/session/new
Completed in 467ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A19%3A52ZRi3J0kd0dtlC9Q&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.sn%2Cext1.value.sn&openid.sig=VzaYwaX8%2BIZXTck5l6zrghFOURA%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:20:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 31ms (View: 13, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:20:24) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 67ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:20:25) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"jTZvYTJL06BWttUHWMkGy/1bCkE=", "openid.response_nonce"=>"2010-06-08T04:20:24ZFer2D9q8Gd8DKw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970824|Fer2D9q8Gd8DKw
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970824|Fer2D9q8Gd8DKw ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:137:in `openid_complete'

Rendered rescues/_trace (96.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:21:54) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"jTZvYTJL06BWttUHWMkGy/1bCkE=", "openid.response_nonce"=>"2010-06-08T04:20:24ZFer2D9q8Gd8DKw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970824|Fer2D9q8Gd8DKw
Redirected to http://localhost:3000/session/new
Completed in 404ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A20%3A24ZFer2D9q8Gd8DKw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.sn%2Cext1.value.sn&openid.sig=jTZvYTJL06BWttUHWMkGy%2F1bCkE%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:21:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:21:58) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 60ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:21:59) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"vd/HLnb9SUql1EP2tH2+sLelTsA=", "openid.response_nonce"=>"2010-06-08T04:21:59ZkI7WQ7mxurhXHg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970919|kI7WQ7mxurhXHg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970919|kI7WQ7mxurhXHg ({:expires_in=>18005})
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:137:in `openid_complete'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (unprocessable_entity)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:24:08) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"vd/HLnb9SUql1EP2tH2+sLelTsA=", "openid.response_nonce"=>"2010-06-08T04:21:59ZkI7WQ7mxurhXHg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275970919|kI7WQ7mxurhXHg
Redirected to http://localhost:3000/session/new
Completed in 349ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A21%3A59ZkI7WQ7mxurhXHg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.sn%2Cext1.value.sn&openid.sig=vd%2FHLnb9SUql1EP2tH2%2BsLelTsA%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:24:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 45ms (View: 30, DB: 0) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:24:16) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"steve@jessica-and-steve.com"}
Performing discovery for steve@jessica-and-steve.com
Discovering domain steve@jessica-and-steve.com
Cache read: __GAPPS_OPENID__steve@jessica-and-steve.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=steve%40jessica-and-steve.com
steve@jessica-and-steve.com is not a Google Apps domain, aborting
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 4259ms (View: 7, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:24:27) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"bw67WntFYFbzOe+xqVJwrs3pOFLA+J0n0hQStatoClQ=", "controller"=>"sessions", "identifier"=>"jessica-and-steve.com"}
Performing discovery for jessica-and-steve.com
Discovering domain jessica-and-steve.com
Cache read: __GAPPS_OPENID__jessica-and-steve.com
Cache write: __GAPPS_OPENID__jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Discovery info = jessica-and-steve.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|AOQobUd_X1YG6uX6_qTYY_aSGfLSw4a_cq9AeCdWt7koLO7rj_HNSPFT ({:expires_in=>46800})
Redirected to https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8&openid.assoc_handle=AOQobUd_X1YG6uX6_qTYY_aSGfLSw4a_cq9AeCdWt7koLO7rj_HNSPFT&openid.ax.mode=fetch_request&openid.ax.required=sn%2Cgn%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 955ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:24:35) [GET]
  Parameters: {"openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"OKozETqIhb23x+l/V5j/RZBE1P8=", "openid.ext1.value.email"=>"steve@jessica-and-steve.com", "openid.response_nonce"=>"2010-06-08T04:24:34ZIeKc9WnoRSNM9Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.ext1.value.sn"=>"Bazyl", "openid.identity"=>"http://jessica-and-steve.com/openid?id=104773713073936504322", "openid.ext1.value.gn"=>"Steven", "openid.assoc_handle"=>"AOQobUd_X1YG6uX6_qTYY_aSGfLSw4a_cq9AeCdWt7koLO7rj_HNSPFT", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.gn,ext1.value.gn,ext1.type.email,ext1.value.email,ext1.type.sn,ext1.value.sn", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.ext1.type.sn"=>"http://axschema.org/namePerson/last", "openid.claimed_id"=>"http://jessica-and-steve.com/openid?id=104773713073936504322", "openid.ext1.type.gn"=>"http://axschema.org/namePerson/first"}
Performing discovery for http://jessica-and-steve.com/openid?id=104773713073936504322
Discovering user identity http://jessica-and-steve.com/openid?id=104773713073936504322 for domain jessica-and-steve.com
Cache read: __GAPPS_OPENID__jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=jessica-and-steve.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322
Discovery info = http://jessica-and-steve.com/openid?id=104773713073936504322<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8 claimed_id=http://jessica-and-steve.com/openid?id=104773713073936504322 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|AOQobUd_X1YG6uX6_qTYY_aSGfLSw4a_cq9AeCdWt7koLO7rj_HNSPFT
Cache exist?: openid-store:Nhttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|1275971074|IeKc9WnoRSNM9Q
Cache write: openid-store:Nhttps://www.google.com/a/jessica-and-steve.com/o8/ud?be=o8|1275971074|IeKc9WnoRSNM9Q ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://jessica-and-steve.com/openid?id=104773713073936504322') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '8d1b79b640d7308e1a637a62db0a34501ba7100b', '2010-06-08 04:24:35', NULL, '93ba7a6a6b301490f859c19dc297eb100ed58652', NULL, '2010-06-08 04:24:35', '8a290ded042d0ad0c877792d882431404836c8cd', NULL, 'steve@jessica-and-steve.com', NULL, 'http://jessica-and-steve.com/openid?id=104773713073936504322', 'steve@jessica-and-steve.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 04:24:35', "activated_at" = '2010-06-08 04:24:35', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 811ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fjessica-and-steve.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T04%3A24%3A34ZIeKc9WnoRSNM9Q&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUd_X1YG6uX6_qTYY_aSGfLSw4a_cq9AeCdWt7koLO7rj_HNSPFT&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.gn%2Cext1.value.gn%2Cext1.type.email%2Cext1.value.email%2Cext1.type.sn%2Cext1.value.sn&openid.sig=OKozETqIhb23x%2Bl%2FV5j%2FRZBE1P8%3D&openid.identity=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322&openid.claimed_id=http%3A%2F%2Fjessica-and-steve.com%2Fopenid%3Fid%3D104773713073936504322&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.gn=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.gn=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40jessica-and-steve.com&openid.ext1.type.sn=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.sn=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 21:24:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'jessica-and-steve.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@jessica-and-steve.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 147ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-07 21:24:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 102ms (View: 53, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-07 21:26:43) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 62ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:26:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:26:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 60ms (View: 38, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:26:50) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"/K6ZqIrmD87K+nTmhP4je9fAjNIqYw8F7WKDHa/4Xuk=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 70ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:26:51) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"hh0Q00cgr4kpOjID+MDZsRUKCVY=", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T04:26:50Z2L2gz4c-OT_Vgg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275971210|2L2gz4c-OT_Vgg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275971210|2L2gz4c-OT_Vgg ({:expires_in=>18005})
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawmpZeQiTJuxm7xJs7uPsUppKJUZ3oMlpjs') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Email can't be blank, Email is too short (minimum is 6 characters), Email should look like an email address.):
  app/controllers/sessions_controller.rb:137:in `openid_complete'

Rendered rescues/_trace (190.7ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:27:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:27:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 53ms (View: 30, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-07 21:27:18) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"hn5WZF9OZHan/3M7TmZD46ElXhcZ47+w88C/h5j3nBk=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 63ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-07 21:27:30) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"282uEjqy02584rZGkwmeQrggc5M=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T04:27:29ZBaD3NmGHwl0J0g", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275971249|BaD3NmGHwl0J0g
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1275971249|BaD3NmGHwl0J0g ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '694118b70eb9297198756153c5926027fbe7c869', '2010-06-08 04:27:30', NULL, 'd6fff17fa09a9b1f22ce229281a52e2b1e9e5f0c', NULL, '2010-06-08 04:27:30', '3ac3893301d880d60305c45e3c61c937ddfb9b52', NULL, 'sqrrrl@gmail.com', NULL, 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8', 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 04:27:30', "activated_at" = '2010-06-08 04:27:30', "activation_code" = NULL WHERE "id" = 2[0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 623ms (DB: 2) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T04%3A27%3A29ZBaD3NmGHwl0J0g&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUfQkNFp4S4lNsQdDJCnrt3lm0NWHuUnqWXHaLG71aF9SRQ4vxFc&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=282uEjqy02584rZGkwmeQrggc5M%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 21:27:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 104ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-07 21:27:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 71ms (View: 23, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-07 21:27:56) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"hn5WZF9OZHan/3M7TmZD46ElXhcZ47+w88C/h5j3nBk=", "controller"=>"organizations", "organization"=>{"name"=>"Test", "domain"=>"test"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mOrganization Create (0.8ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Test', 'f', '2010-06-08 04:27:56', '2010-06-08 04:27:56', 'test', NULL)[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 04:27:56', "organization_id" = 1 WHERE "id" = 2[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 04:27:56', '2010-06-08 04:27:56', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 219ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-07 21:27:57) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 57ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-07 21:27:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 229ms (View: 117, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-07 21:27:59) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"hn5WZF9OZHan/3M7TmZD46ElXhcZ47+w88C/h5j3nBk=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.7ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 04:27:59', '2010-06-08 04:27:59', 2)[0m
Redirected to http://localhost:3000/messages
Completed in 194ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 21:27:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m

ActionView::TemplateError (undefined method `google' for #<User:0x25e4f78>) on line #5 of app/views/messages/index.html.erb:
2:    <header>
3:      <h3>Messages for <%=h @user.name %>, <%=h format_phone(@user.extension.phone_number.number) %> x<%=h @user.extension.number%></h3>
4:    </header>
5:    <% unless @user.organization.from_marketplace? || @user.google.present? %>
6:    <p><%= link_to('Link your Google Account', '/oauth_consumers/google') %> to import your contacts.</p>
7:    <% end %>
8:    <% if @messages.empty? %>

    app/views/messages/index.html.erb:5
    app/controllers/messages_controller.rb:11:in `index'

Rendered rescues/_trace (115.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 21:30:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 2) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 286ms (View: 153, DB: 5) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-07 21:35:40) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 58ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:35:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:35:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 54ms (View: 32, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:38:45) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 21, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:42:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 24, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:43:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 35ms (View: 22, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:47:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 22ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:47:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 23ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:48:43) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:49:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:49:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:49:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:50:10) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 23ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:50:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:51:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:51:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:52:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:52:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:53:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 23ms (View: 11, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:54:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 25ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:54:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:54:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 21:54:52) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 9, DB: 0) | 200 OK [http://localhost/login]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:55:43) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:56:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:56:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:56:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:57:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 43ms (View: 21, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:57:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 41ms (View: 20, DB: 0) | 200 OK [http://localhost/signup]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 21:59:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 117ms (View: 94, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-06-07 21:59:21) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"ivPYxffCfxTdLXcqNT2yadx7hVHpBFg63vuW0xog6RU=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"sqrrrl@gmail.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '4765a3f229941a6585a8905dcf785b14d9f02d12', '2010-06-08 04:59:21', NULL, '3d0e0652d72e9491526ecfea8afee8b8db6ad479', NULL, '2010-06-08 04:59:21', '44b9438736848905bd36a0202dd71ec50a9779cd', NULL, 'sqrrrl@gmail.com', NULL, NULL, 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 04:59:21', "activated_at" = '2010-06-08 04:59:21', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 309ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 21:59:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.3ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;35;1mInvitation Load (0.3ms)[0m   [0mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 856ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-07 21:59:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 86ms (View: 38, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-07 21:59:46) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"ivPYxffCfxTdLXcqNT2yadx7hVHpBFg63vuW0xog6RU=", "controller"=>"organizations", "organization"=>{"name"=>"Test", "domain"=>""}}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.5ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Test', 'f', '2010-06-08 04:59:46', '2010-06-08 04:59:46', '', NULL)[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 04:59:46', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mPhoneNumber Create (0.4ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 04:59:47', '2010-06-08 04:59:47', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 839ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-07 21:59:47) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 56ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-07 21:59:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 203ms (View: 89, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-07 21:59:55) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"ivPYxffCfxTdLXcqNT2yadx7hVHpBFg63vuW0xog6RU=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 04:59:56', '2010-06-08 04:59:56', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 239ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 21:59:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 184ms (View: 60, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-06-07 21:59:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 146ms (View: 35, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-06-07 22:01:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 220ms (View: 24, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-06-07 22:01:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (3.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 141ms (View: 25, DB: 6) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-06-07 22:01:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 133ms (View: 23, DB: 4) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 22:02:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 260ms (View: 133, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-06-07 22:02:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 136ms (View: 23, DB: 4) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 22:02:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 175ms (View: 44, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#edit (for 127.0.0.1 at 2010-06-07 22:02:28) [GET]
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"users"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit
Completed in 234ms (View: 126, DB: 3) | 200 OK [http://localhost/users/1/edit]


Processing UsersController#index (for 127.0.0.1 at 2010-06-07 22:02:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 132ms (View: 24, DB: 4) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 22:02:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 173ms (View: 44, DB: 4) | 200 OK [http://localhost/messages]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-07 22:02:35) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 58ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 22:02:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 34ms (View: 19, DB: 0) | 200 OK [http://localhost/]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 22:03:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 133ms (View: 111, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 22:03:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 43ms (View: 22, DB: 0) | 200 OK [http://localhost/signup]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-06-07 22:03:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 118ms (View: 97, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-07 22:03:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 41ms (View: 29, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#create (for 127.0.0.1 at 2010-06-07 22:04:03) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"l9aLoWUlFjKVmGpWVphkgXvWK7kphi/SsrPve1QHXww=", "controller"=>"sessions", "password"=>"[FILTERED]", "email"=>"sqrrrl@gmail.com"}
  [4;36;1mUser Load (1.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (email = 'sqrrrl@gmail.com' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Redirected to http://localhost:3000/messages
Completed in 146ms (DB: 3) | 302 Found [http://localhost/session]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 22:04:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 252ms (View: 101, DB: 5) | 200 OK [http://localhost/messages]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-06-07 22:04:10) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2FxdFwavKTZVjGhM8EpiF3d5CPIZpO
Completed in 440ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-06-07 22:04:15) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"pBByWswjRkOuSBBa3tiOUsCp", "oauth_token"=>"4/xdFwavKTZVjGhM8EpiF3d5CPIZpO"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mGoogleToken Create (1.1ms)[0m   [0mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-06-08 05:04:16', '1/yEvuC8vUEbJDtXYeEeXU1yv3qXOGynqHc6HdJWjPiWk', '2010-06-08 05:04:16', 1, 'GoogleToken', 'horgXFQ7QZ1jBIan/lRJ/nAK')[0m
Redirected to http://localhost:3000/
Completed in 726ms (DB: 3) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=pBByWswjRkOuSBBa3tiOUsCp&oauth_token=4%2FxdFwavKTZVjGhM8EpiF3d5CPIZpO]


Processing HomeController#index (for 127.0.0.1 at 2010-06-07 22:04:16) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 218ms (View: 26, DB: 3) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-07 22:04:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 174ms (View: 48, DB: 5) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-08 05:48:18) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (2.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 210ms (DB: 2) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 05:48:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 47ms (View: 33, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 05:48:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 64ms (View: 42, DB: 0) | 200 OK [http://localhost/signup]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 06:09:46) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"8bzqSlNwXc9MHyvBlp2n6D2AYu0TqRTYVVAXPyLDMVQ=", "controller"=>"sessions", "identifier"=>"sqrrrl@gmail.com"}
Performing discovery for sqrrrl@gmail.com
Discovering domain sqrrrl@gmail.com
Cache read: __GAPPS_OPENID__sqrrrl@gmail.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=sqrrrl%40gmail.com
sqrrrl@gmail.com is not a Google Apps domain, aborting
Rendering template within layouts/application
Rendering sessions/new_openid
Completed in 8603ms (View: 80, DB: 0) | 200 OK [http://localhost/openid/start]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 06:22:36) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"8bzqSlNwXc9MHyvBlp2n6D2AYu0TqRTYVVAXPyLDMVQ=", "controller"=>"sessions", "identifier"=>"sqrrrl@gmail.com"}

ArgumentError (wrong number of arguments (2 for 1)):
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer/discovery_manager.rb:51:in `get_next_service'
  /Users/sbazyl/.gem/ruby/1.8/gems/ruby-openid-2.1.7/lib/openid/consumer.rb:222:in `begin'
  app/controllers/sessions_controller.rb:81:in `openid_start'

Rendered rescues/_trace (169.1ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 06:22:55) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"openid_start", "authenticity_token"=>"8bzqSlNwXc9MHyvBlp2n6D2AYu0TqRTYVVAXPyLDMVQ=", "controller"=>"sessions", "identifier"=>"sqrrrl@gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUe_vr5idDPimXsTUG3rwIEclAX_TYZ49wdjXIQ6Um-v06jiizs7 ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUe_vr5idDPimXsTUG3rwIEclAX_TYZ49wdjXIQ6Um-v06jiizs7&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 1813ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 06:22:58) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"uHhcqL3xv0FcH2GKrrKWvBlVJXk=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T13:22:58Z9Ykzp4mm5lcPOA", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUe_vr5idDPimXsTUG3rwIEclAX_TYZ49wdjXIQ6Um-v06jiizs7", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUe_vr5idDPimXsTUG3rwIEclAX_TYZ49wdjXIQ6Um-v06jiizs7
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276003378|9Ykzp4mm5lcPOA
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276003378|9Ykzp4mm5lcPOA ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', 'd085d490698395a4a0a40bce7496556460102ea7', '2010-06-08 13:22:58', NULL, '711fc632ba0663f22bb4a46a43291fcb27c26948', NULL, '2010-06-08 13:22:58', '5cade89edc3b5324ce08d4e39ceb12ff934d5ddd', NULL, 'sqrrrl@gmail.com', NULL, 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8', 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 13:22:58', "activated_at" = '2010-06-08 13:22:58', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 771ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T13%3A22%3A58Z9Ykzp4mm5lcPOA&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUe_vr5idDPimXsTUG3rwIEclAX_TYZ49wdjXIQ6Um-v06jiizs7&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=uHhcqL3xv0FcH2GKrrKWvBlVJXk%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 06:22:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 105ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 06:22:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 83ms (View: 38, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-08 06:23:08) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 62ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 06:23:09) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 34ms (View: 20, DB: 0) | 200 OK [http://localhost/]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (3.3ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 06:24:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 136ms (View: 114, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 06:25:09) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 58ms (View: 36, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:25:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 44ms (View: 30, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:25:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:26:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:26:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 24, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:27:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:28:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:29:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 24, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:29:22) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 24, DB: 0) | 200 OK [http://localhost/login]


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 06:29:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 45ms (View: 23, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 06:30:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 56ms (View: 34, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 06:31:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 58ms (View: 36, DB: 0) | 200 OK [http://localhost/signup]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:31:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 37ms (View: 25, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:31:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 39ms (View: 24, DB: 0) | 200 OK [http://localhost/login]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 06:33:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 93ms (View: 80, DB: 0) | 200 OK [http://localhost/login]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 08:14:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 183ms (View: 170, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 08:14:11) [POST]
  Parameters: {"commit"=>"Log in with OpenID", "action"=>"openid_start", "authenticity_token"=>"msYMKqH5xKHrJa7istNho4MFK4gJyok7pki2Zf8E1ds=", "controller"=>"sessions", "identifier"=>"sqrrrl@gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 6313ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 08:14:18) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"H9RCPCkikzNrA/s1TORGGzoM7d0=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T15:14:18ZrpZ25IZseDPsxQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010058|rpZ25IZseDPsxQ
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010058|rpZ25IZseDPsxQ ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', '8e775b097deb7269bef7f45f572c00d9fb5747ca', '2010-06-08 15:14:19', NULL, 'c36ce274a63f6bb7d2901676191e75e65e7fd3d2', NULL, '2010-06-08 15:14:19', '3c6b8b4e151fe5b38b218fa8a2756be2b93199fd', NULL, 'sqrrrl@gmail.com', NULL, 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8', 'sqrrrl@gmail.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 15:14:19', "activated_at" = '2010-06-08 15:14:19', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 1314ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T15%3A14%3A18ZrpZ25IZseDPsxQ&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=H9RCPCkikzNrA%2Fs1TORGGzoM7d0%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 08:14:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.4ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'gmail.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'sqrrrl@gmail.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 114ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 08:14:20) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 183ms (View: 122, DB: 2) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 08:14:26) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"msYMKqH5xKHrJa7istNho4MFK4gJyok7pki2Zf8E1ds=", "controller"=>"organizations", "organization"=>{"name"=>"test", "domain"=>""}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'sqrrrl@gmail.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('test', 'f', '2010-06-08 15:14:26', '2010-06-08 15:14:26', '', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 15:14:26', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 15:14:26', '2010-06-08 15:14:26', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 134ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-08 08:14:26) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 79ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-08 08:14:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 294ms (View: 181, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-08 08:14:33) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"msYMKqH5xKHrJa7istNho4MFK4gJyok7pki2Zf8E1ds=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.6ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 15:14:33', '2010-06-08 15:14:33', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 172ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 08:14:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 203ms (View: 73, DB: 5) | 200 OK [http://localhost/messages]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-06-08 08:14:35) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2FOTaX2_vSr98pG5ZQjU69QasQ5AJQ
Completed in 784ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-06-08 08:14:40) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"ziXgOH4jEIVzkTgGf0whAkNC", "oauth_token"=>"4/OTaX2_vSr98pG5ZQjU69QasQ5AJQ"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mGoogleToken Create (0.7ms)[0m   [0mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-06-08 15:14:41', '1/X0ITlrSHyN-hRAeSpiOBgVQIERV5oCl_ZMIPtP0xWCc', '2010-06-08 15:14:41', 1, 'GoogleToken', 'SNAsbEHgjNXNJKTyOoMZ7dFy')[0m
Redirected to http://localhost:3000/
Completed in 1094ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=ziXgOH4jEIVzkTgGf0whAkNC&oauth_token=4%2FOTaX2_vSr98pG5ZQjU69QasQ5AJQ]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:14:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 271ms (View: 25, DB: 3) | 200 OK [http://localhost/]


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-08 08:15:09) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 61ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:15:10) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 08:15:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 36ms (View: 16, DB: 0) | 200 OK [http://localhost/login]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 08:15:27) [POST]
  Parameters: {"commit"=>"Log in with OpenID", "action"=>"openid_start", "authenticity_token"=>"aobzHFi03NgqRA9xP14UM9n6kW1N+nKMewz6BgQeVKg=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 70ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 08:15:28) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"x9mmV4I4xQEUq9968TTASruQ1D4=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T15:15:28Z-CXOinzCR6S25Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010128|-CXOinzCR6S25Q
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010128|-CXOinzCR6S25Q ({:expires_in=>18005})
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: sqrrrl@gmail.com_contacts

NameError (uninitialized constant User::Contacts):
  app/models/user.rb:89:in `load_contacts'
  app/controllers/sessions_controller.rb:119:in `openid_complete'

Rendered rescues/_trace (181.2ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 08:16:59) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"x9mmV4I4xQEUq9968TTASruQ1D4=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T15:15:28Z-CXOinzCR6S25Q", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUc2bMj_VB9Jk7hbhchJvjVuH3U2_68aBjmpdt7EzqS_KYIP4yiR
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010128|-CXOinzCR6S25Q
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010128|-CXOinzCR6S25Q ({:expires_in=>18005})
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: sqrrrl@gmail.com_contacts

SyntaxError (/Users/sbazyl/railsconf/voicemail/lib/google.rb:35: syntax error, unexpected tIDENTIFIER, expecting kEND):
  app/models/user.rb:89:in `load_contacts'
  app/controllers/sessions_controller.rb:119:in `openid_complete'

Rendered rescues/_trace (103.8ms)
Rendered rescues/_request_and_response (4.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 08:18:40) [POST]
  Parameters: {"commit"=>"Log in with OpenID", "action"=>"openid_start", "authenticity_token"=>"aobzHFi03NgqRA9xP14UM9n6kW1N+nKMewz6BgQeVKg=", "controller"=>"sessions", "identifier"=>"gmail.com"}
Performing discovery for gmail.com
Discovering domain gmail.com
Cache read: __GAPPS_OPENID__gmail.com
Cache write: __GAPPS_OPENID__gmail.com
Retrieving XRDS from https://www.google.com/accounts/o8/id?source=gmail.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/id?source=gmail.com
Discovery info = gmail.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/accounts/o8/ud?source=gmail.com claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr ({:expires_in=>46800})
Redirected to https://www.google.com/accounts/o8/ud?source=gmail.com&openid.assoc_handle=AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 3435ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 08:18:45) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"abG2mvh5xD02W+lMaWFfNtU+rcI=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T15:18:45Zt7pJkDUhidjXzg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010325|t7pJkDUhidjXzg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010325|t7pJkDUhidjXzg ({:expires_in=>18005})
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.1ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: sqrrrl@gmail.com_contacts

SyntaxError (/Users/sbazyl/railsconf/voicemail/lib/google.rb:35: syntax error, unexpected tIDENTIFIER, expecting kEND):
  app/models/user.rb:89:in `load_contacts'
  app/controllers/sessions_controller.rb:119:in `openid_complete'

Rendered rescues/_trace (100.1ms)
Rendered rescues/_request_and_response (5.1ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 08:21:13) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"abG2mvh5xD02W+lMaWFfNtU+rcI=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T15:18:45Zt7pJkDUhidjXzg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010325|t7pJkDUhidjXzg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010325|t7pJkDUhidjXzg ({:expires_in=>18005})
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: sqrrrl@gmail.com_contacts

NoMethodError (undefined method `request' for nil:NilClass):
  lib/google.rb:30:in `get_feed'
  lib/google.rb:49:in `all_contacts'
  app/models/user.rb:90:in `load_contacts'
  app/controllers/sessions_controller.rb:119:in `openid_complete'

Rendered rescues/_trace (90.1ms)
Rendered rescues/_request_and_response (4.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 08:22:34) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steven", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/accounts/o8/ud?source=gmail.com", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"abG2mvh5xD02W+lMaWFfNtU+rcI=", "openid.ext1.value.email"=>"sqrrrl@gmail.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T15:18:45Zt7pJkDUhidjXzg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8"}
Performing discovery for https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8
Discovering user identity https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8 for domain www.google.com
Cache read: __GAPPS_OPENID__www.google.com
Received 400 when fetching https://www.google.com/accounts/o8/.well-known/host-meta?hd=www.google.com
www.google.com is not a Google Apps domain, aborting
Cache read: openid-store:Ahttps://www.google.com/accounts/o8/ud?source=gmail.com|AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr
Cache exist?: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010325|t7pJkDUhidjXzg
Cache write: openid-store:Nhttps://www.google.com/accounts/o8/ud?source=gmail.com|1276010325|t7pJkDUhidjXzg ({:expires_in=>18005})
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'https://www.google.com/accounts/o8/id?id=AItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8') LIMIT 1[0m
  [4;35;1mGoogleToken Load (1.0ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contacts
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+14154655253
Cache write: sqrrrl@gmail.com_contact_+19732635561
Cache write: sqrrrl@gmail.com_contact_+18004003697
Cache write: sqrrrl@gmail.com_contact_+13122615766
Cache write: sqrrrl@gmail.com_contact_+14157592125
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+14158569543
Cache write: sqrrrl@gmail.com_contact_+14153690484
Cache write: sqrrrl@gmail.com_contact_+16505835501
Cache write: sqrrrl@gmail.com_contact_+16503073076
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16178347714
Cache write: sqrrrl@gmail.com_contact_+16305870344
Cache write: sqrrrl@gmail.com_contact_+17753541182
Cache write: sqrrrl@gmail.com_contact_+17756364878
Cache write: sqrrrl@gmail.com_contact_+13037748889
Cache write: sqrrrl@gmail.com_contact_+15596742565
Cache write: sqrrrl@gmail.com_contact_+13039891354
Cache write: sqrrrl@gmail.com_contact_+15107347027
Cache write: sqrrrl@gmail.com_contact_+15107788775
Cache write: sqrrrl@gmail.com_contact_+13239601132
Cache write: sqrrrl@gmail.com_contact_+12137062197
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+19089799579
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+14158230462
Cache write: sqrrrl@gmail.com_contact_+16503551698
Cache write: sqrrrl@gmail.com_contact_+19732164610
Cache write: sqrrrl@gmail.com_contact_+19736168119
Cache write: sqrrrl@gmail.com_contact_+61732274406
Cache write: sqrrrl@gmail.com_contact_+61418795303
Cache write: sqrrrl@gmail.com_contact_+16314352536
Cache write: sqrrrl@gmail.com_contact_+15162202646
Redirected to http://localhost:3000/messages
Completed in 6161ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fud%3Fsource%3Dgmail.com&openid.response_nonce=2010-06-08T15%3A18%3A45Zt7pJkDUhidjXzg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUepZNDCtuzGXkkOG1isED57FHbIbFa76NBEfTO-wuvDqDWRqWIr&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=abG2mvh5xD02W%2BlMaWFfNtU%2BrcI%3D&openid.identity=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.claimed_id=https%3A%2F%2Fwww.google.com%2Faccounts%2Fo8%2Fid%3Fid%3DAItOawlfbvliM9E8SLvMpHw9o1Tk2usoN1uQxy8&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steven&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=sqrrrl%40gmail.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 08:22:40) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 211ms (View: 82, DB: 5) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#destroy (for 127.0.0.1 at 2010-06-08 08:29:32) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 176ms (DB: 1) | 302 Found [http://localhost/logout]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:29:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 58ms (View: 34, DB: 0) | 200 OK [http://localhost/]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.4ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (4.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:37:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 87ms (View: 71, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:38:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2010-06-08 08:38:30) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
Rendering template within layouts/application
Rendering users/new
Completed in 88ms (View: 64, DB: 0) | 200 OK [http://localhost/signup]


Processing UsersController#create (for 127.0.0.1 at 2010-06-08 08:38:57) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"steve@smart-lawfirm.com"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Completed in 142ms (View: 105, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2010-06-08 08:39:02) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"users", "user"=>{"name"=>"Steven Bazyl", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"steve@smart-lawfirm.com"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (1.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steven Bazyl', 'cebd61efb9de7dc2c2bfc46725ae794c3fd8470e', '2010-06-08 15:39:02', NULL, 'd99f6b24f336a3f062b4c9df5d26d8d78fa5a4fa', NULL, '2010-06-08 15:39:02', '0515d77d6ba783c2857caf08ba794c5bca4667b6', NULL, 'steve@smart-lawfirm.com', NULL, NULL, 'steve@smart-lawfirm.com')[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 15:39:02', "activated_at" = '2010-06-08 15:39:02', "activation_code" = NULL WHERE "id" = 1[0m
Redirected to http://localhost:3000/
Completed in 314ms (DB: 2) | 302 Found [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:39:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 803ms (DB: 2) | 302 Found [http://localhost/]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 08:39:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 93ms (View: 44, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 08:39:11) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"Smart Lawfirm", "domain"=>""}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.5ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('Smart Lawfirm', 'f', '2010-06-08 15:39:11', '2010-06-08 15:39:11', '', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 15:39:11', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mPhoneNumber Create (0.8ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 15:39:11', '2010-06-08 15:39:11', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 134ms (DB: 3) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-08 08:39:11) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 61ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-08 08:39:11) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 203ms (View: 90, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-08 08:39:13) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.4ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.5ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 15:39:14', '2010-06-08 15:39:14', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 154ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 08:39:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (3.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.5ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 285ms (View: 73, DB: 7) | 200 OK [http://localhost/messages]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-06-08 08:39:16) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2FwzguVbanpIxGF539jRcmPIodwiPl
Completed in 1162ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#show (for 127.0.0.1 at 2010-06-08 08:46:30) [GET]
  Parameters: {"action"=>"show", "id"=>"google", "controller"=>"oauth_consumers"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%2FevyJNHQG1ubhR1WTp3eVmocKk2cu
Completed in 5513ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google]


Processing OauthConsumersController#callback (for 127.0.0.1 at 2010-06-08 08:46:58) [GET]
  Parameters: {"action"=>"callback", "id"=>"google", "controller"=>"oauth_consumers", "oauth_verifier"=>"CPRnD/Vgu+SSQwaecLwDKw0c", "oauth_token"=>"4/evyJNHQG1ubhR1WTp3eVmocKk2cu"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens"."user_id" = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mGoogleToken Create (0.8ms)[0m   [0mINSERT INTO "consumer_tokens" ("created_at", "token", "updated_at", "user_id", "type", "secret") VALUES('2010-06-08 15:47:00', '1/gptbIyudegimZCpp5JOU5HKmddawAnayFFUCWRmWRo8', '2010-06-08 15:47:00', 1, 'GoogleToken', 'y4HacKFkReUQOVIS4CyKQjzM')[0m
Redirected to http://localhost:3000/
Completed in 1897ms (DB: 2) | 302 Found [http://localhost/oauth_consumers/google/callback?oauth_verifier=CPRnD%2FVgu%2BSSQwaecLwDKw0c&oauth_token=4%2FevyJNHQG1ubhR1WTp3eVmocKk2cu]


Processing HomeController#index (for 127.0.0.1 at 2010-06-08 08:47:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"home"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 201ms (View: 11, DB: 3) | 200 OK [http://localhost/]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 08:47:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mGoogleToken Load (0.9ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 175ms (View: 48, DB: 5) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.2ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (10.1ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (7.4ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (2.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (3.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 09:12:46) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcaXAGdzcb4nTKuruqpgfiDrqYGI1yUKdjDWiVfUm35I4PEVWy7 ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcaXAGdzcb4nTKuruqpgfiDrqYGI1yUKdjDWiVfUm35I4PEVWy7&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 4406ms (DB: 0) | 302 Found [http://localhost/openid/start?marketplace=1&identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 09:12:58) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"D692m59y4VhgIGN/H/E1c+O58Mo=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:12:58ZG889JiJ1bJPk3w", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcaXAGdzcb4nTKuruqpgfiDrqYGI1yUKdjDWiVfUm35I4PEVWy7", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcaXAGdzcb4nTKuruqpgfiDrqYGI1yUKdjDWiVfUm35I4PEVWy7
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276013578|G889JiJ1bJPk3w
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276013578|G889JiJ1bJPk3w ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', 'bc1156fd30253874cf7a362055b4ce4f492e52e4', '2010-06-08 16:13:02', NULL, '4df13bb1ddf6c091d4f448169c217065a2d865d6', NULL, '2010-06-08 16:13:02', 'e129be5052c2424004c0db6d29375cb6223a696a', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:13:03', "activated_at" = '2010-06-08 16:13:02', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 4295ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A12%3A58ZG889JiJ1bJPk3w&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcaXAGdzcb4nTKuruqpgfiDrqYGI1yUKdjDWiVfUm35I4PEVWy7&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=D692m59y4VhgIGN%2FH%2FE1c%2BO58Mo%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 09:13:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 155ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 09:13:03) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 143ms (View: 85, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 09:13:08) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"smart-lawfirm.com", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.5ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('smart-lawfirm.com', 't', '2010-06-08 16:13:08', '2010-06-08 16:13:08', 'smart-lawfirm.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 16:13:08', "organization_id" = 1 WHERE "id" = 1[0m

URI::InvalidURIError (bad URI(is not URI?): ):
  /usr/local/lib/ruby/1.8/uri/common.rb:436:in `split'
  /usr/local/lib/ruby/1.8/uri/common.rb:485:in `parse'
  oauth (0.4.0) lib/oauth/tokens/access_token.rb:7:in `request'
  lib/google.rb:30:in `get_feed'
  lib/google.rb:88:in `all_users'
  app/models/organization.rb:46:in `after_create'
  app/controllers/organizations_controller.rb:58:in `create'
  app/controllers/organizations_controller.rb:57:in `create'

Rendered rescues/_trace (114.8ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (6.0ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 09:22:25) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46799})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUco3ZmaaziaDqp7pRCEv9VtZccN10n7U64Jj9HFHPxFiPnateiD ({:expires_in=>46799})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUco3ZmaaziaDqp7pRCEv9VtZccN10n7U64Jj9HFHPxFiPnateiD&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 1453ms (DB: 0) | 302 Found [http://localhost/openid/start?marketplace=1&identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 09:22:30) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"2F6iz5cQJqFd5O7ThfiNxLA/ZQQ=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:22:30ZHIEgHEfycQVKjg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUco3ZmaaziaDqp7pRCEv9VtZccN10n7U64Jj9HFHPxFiPnateiD", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUco3ZmaaziaDqp7pRCEv9VtZccN10n7U64Jj9HFHPxFiPnateiD
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276014150|HIEgHEfycQVKjg
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276014150|HIEgHEfycQVKjg ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', '66491c0b1f3fdbd81e3b7c6254ae9031528fa74e', '2010-06-08 16:22:33', NULL, '7d99b5e5ceac1d2e9a943dbbb58f7d7e31bdc3c9', NULL, '2010-06-08 16:22:33', '8ba78e5d45ef4609dc7ab4c7aab32e20a0b53f30', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:22:33', "activated_at" = '2010-06-08 16:22:33', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 3815ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A22%3A30ZHIEgHEfycQVKjg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUco3ZmaaziaDqp7pRCEv9VtZccN10n7U64Jj9HFHPxFiPnateiD&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=2F6iz5cQJqFd5O7ThfiNxLA%2FZQQ%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 09:22:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 107ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 09:22:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 103ms (View: 45, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 09:22:36) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"smart-lawfirm.com", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.5ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('smart-lawfirm.com', 't', '2010-06-08 16:22:37', '2010-06-08 16:22:37', 'smart-lawfirm.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 16:22:37', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'admin@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Admin', '3e9b16173b3242dc632af3e2c3de1579d9cb0b04', '2010-06-08 16:22:38', NULL, '9d1996a3e9f42ce29e3dd8b438de9fdce7c719ba', NULL, '2010-06-08 16:22:38', '742707a0b8f1bfd69ad52f6517d796707a5a3bbf', NULL, 'admin@smart-lawfirm.com', NULL, NULL, 'admin@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'billy@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Billy Wang', '65dd64871a45675819fae1b6aee1312f1084ff81', '2010-06-08 16:22:38', NULL, '2c42b259b2ba9d774006c9e772f1568bb7e856d7', NULL, '2010-06-08 16:22:38', 'fb0abb2ae90e5330e1cb61121730cd94a201667c', NULL, 'billy@smart-lawfirm.com', NULL, NULL, 'billy@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bob@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Bob Jones', '3ac06c4d9a214377a69873fbc94c68092f4d0c47', '2010-06-08 16:22:38', NULL, 'c891de0d47259827b29552a3ce6f522e2ac2531c', NULL, '2010-06-08 16:22:38', '5b23ae5632159294c6e73dd402727cb1536540dc', NULL, 'bob@smart-lawfirm.com', NULL, NULL, 'bob@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'breno@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Breno Sanchez', '21cf341f238cfac23f939586801008807d55a0b9', '2010-06-08 16:22:39', NULL, 'd8ebbeafbb7178d1197f161684a3bae7b287c7d2', NULL, '2010-06-08 16:22:39', '42a39c021f478d27348c2fe79e7fc1248eb86509', NULL, 'breno@smart-lawfirm.com', NULL, NULL, 'breno@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'cra@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Chandra Raghavan', '4add0b9b1b9ddad82e823cec2142077e02de4f2e', '2010-06-08 16:22:39', NULL, 'e6c2c040218de6efd7c2c02eb1fb1232b7f52dc4', NULL, '2010-06-08 16:22:39', 'b2847732e8cf4b4369c0ae074cb5ff4df1c09a1c', NULL, 'cra@smart-lawfirm.com', NULL, NULL, 'cra@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'dirk@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Dirk Brennan', '33e26634c17800fccd189c4acc215aaa84de28e1', '2010-06-08 16:22:39', NULL, '4fe243d21eacb254026fb4e9fe1cc77c577604f4', NULL, '2010-06-08 16:22:39', 'ec457d0e3ba8d692c872fba976b732bcc897ee1e', NULL, 'dirk@smart-lawfirm.com', NULL, NULL, 'dirk@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jim@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jim MacArthur', '83e99357c62c84e5fda167078e7390d78fa11776', '2010-06-08 16:22:39', NULL, '6341f1524976b55370de0b75ea823d82c7991cd4', NULL, '2010-06-08 16:22:39', '7c2e4a1a2e1c1a30356528ed4b7a4c1e9181d126', NULL, 'jim@smart-lawfirm.com', NULL, NULL, 'jim@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'joe@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Smith', 'b1abec1a45a971c8a3f29839d23957a21dacc629', '2010-06-08 16:22:39', NULL, '3928cd6fafaa0ab68bbc00d3275db1e42b60b433', NULL, '2010-06-08 16:22:39', '6011eb340201dd2c58cd1e8333c4673f2cafe327', NULL, 'joe@smart-lawfirm.com', NULL, NULL, 'joe@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jose@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jose Vipul', '464886230cd5242cd9feab3f934e54b32047b221', '2010-06-08 16:22:39', NULL, 'c076c93c429c5a8b454bab1b87f748beeefa7d55', NULL, '2010-06-08 16:22:39', 'ef94bf79f043c4843844d66b6a85e01e4ee858ec', NULL, 'jose@smart-lawfirm.com', NULL, NULL, 'jose@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kate@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kate Michaels', '417682bc6bf933a9a55825224dff1cd86491942c', '2010-06-08 16:22:39', NULL, '637417d0b059db0020ba1f8ab198f25291ba58dd', NULL, '2010-06-08 16:22:39', '4d03fc5e1bd050633c873b40997410a499cc7057', NULL, 'kate@smart-lawfirm.com', NULL, NULL, 'kate@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kim@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kim Eisenberg', '5fd68cfac1e4a0dc1cbfb1d53e4830c5689838be', '2010-06-08 16:22:39', NULL, 'cf9ae7ac06b0a03c55fdecac603a3180b1051d18', NULL, '2010-06-08 16:22:39', 'a5a1d5c469b09ba3e37d3ba2886fd49211e07415', NULL, 'kim@smart-lawfirm.com', NULL, NULL, 'kim@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'mike@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Michael Osborne', 'fb8ab5ca3ca6b9547801d02fc1d7046ed1722342', '2010-06-08 16:22:39', NULL, 'cd35bfdf5560f5e59f96fe885bdff17310968a08', NULL, '2010-06-08 16:22:39', '6c8ce8f9ff0d77491dc4b86ba974e0a1e686b476', NULL, 'mike@smart-lawfirm.com', NULL, NULL, 'mike@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'pam@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Pam Kennedy', '9b4297a2a7bf3ddc0fe94571ad3a0647fa0cd23d', '2010-06-08 16:22:39', NULL, 'b0689b38753238e8aa2b3966ee11b28310be4123', NULL, '2010-06-08 16:22:39', 'c5eac4ed11a427c2875d8d678b12919554f77cd5', NULL, 'pam@smart-lawfirm.com', NULL, NULL, 'pam@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'rebecca@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Rebecca Li', 'a67fe7f3d978410a3647a324cbf26e9ccc191d92', '2010-06-08 16:22:39', NULL, '48fcf7065d2870ef1c783dd3c0c9eacf48e2a00e', NULL, '2010-06-08 16:22:39', '8c1ae5aa7811fb70db98244a87d6ac7c7b1b042e', NULL, 'rebecca@smart-lawfirm.com', NULL, NULL, 'rebecca@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Ryan Boyd', '01d5da94e853b8173fd9204ad4b879898e4dab54', '2010-06-08 16:22:39', NULL, 'ae4e809f92254be03bb8499958baab5a43f83e8d', NULL, '2010-06-08 16:22:39', '9dba53055003f4a4af42d2de847349c59f795618', NULL, 'ryan@smart-lawfirm.com', NULL, NULL, 'ryan@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'tom@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Tom Nurik', '3a5d02e14e391cfdb42189f071dff255d04a5c87', '2010-06-08 16:22:39', NULL, 'd20793ff40af3fa6c5fb7254593ddff138c099bd', NULL, '2010-06-08 16:22:39', '1eb1aa9ea59ea76534fec6b6233cd95482eb88c0', NULL, 'tom@smart-lawfirm.com', NULL, NULL, 'tom@smart-lawfirm.com')[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 16:22:39', '2010-06-08 16:22:39', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 2220ms (DB: 11) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-08 09:22:39) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 55ms (DB: 4) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-08 09:22:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 216ms (View: 93, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-08 09:22:41) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 16:22:41', '2010-06-08 16:22:41', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 196ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 09:22:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 297ms (View: 158, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-06-08 09:22:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (1.1ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 168ms (View: 55, DB: 5) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2010-06-08 09:23:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Completed in 143ms (View: 25, DB: 5) | 200 OK [http://localhost/users]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (7.9ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (2.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 12:25:50) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUdEZNOQ_Nhhy7QaoHppA6wBqRQD6mDzu1mLRfL1D6XCIjmBdT_B ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUdEZNOQ_Nhhy7QaoHppA6wBqRQD6mDzu1mLRfL1D6XCIjmBdT_B&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 7675ms (DB: 0) | 302 Found [http://localhost/openid/start?marketplace=1&identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:26:02) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"U7xVlhm0Qo7p72RmuuDIkbViYEI=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:26:02ZTVhSR__4o90-tg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUdEZNOQ_Nhhy7QaoHppA6wBqRQD6mDzu1mLRfL1D6XCIjmBdT_B", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUdEZNOQ_Nhhy7QaoHppA6wBqRQD6mDzu1mLRfL1D6XCIjmBdT_B
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276014362|TVhSR__4o90-tg
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276014362|TVhSR__4o90-tg ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', 'e415ef0625322911bea0767bd1e5a3cfee07e204', '2010-06-08 16:26:03', NULL, '7459077dd18765c1c4505520f54a62b703cfeb65', NULL, '2010-06-08 16:26:03', '9754a44f0e331f6690e0e7c93e7c833cb8133dcc', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:26:03', "activated_at" = '2010-06-08 16:26:03', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.4ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 1778ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A26%3A02ZTVhSR__4o90-tg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdEZNOQ_Nhhy7QaoHppA6wBqRQD6mDzu1mLRfL1D6XCIjmBdT_B&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=U7xVlhm0Qo7p72RmuuDIkbViYEI%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:26:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 113ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 12:26:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 100ms (View: 44, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 12:26:10) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"smart-lawfirm.com", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.8ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('smart-lawfirm.com', 't', '2010-06-08 16:26:10', '2010-06-08 16:26:10', 'smart-lawfirm.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 16:26:10', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'admin@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Admin', '0ecddca6ba36ff0953c1ea3fbd5b4e41375a0266', '2010-06-08 16:26:17', NULL, '9cc349e9315bf4c762c4649f38c395d43fd543d6', NULL, '2010-06-08 16:26:17', '85c862f102bfd2b5fae5eb8fd5571b0f99eb1a18', NULL, 'admin@smart-lawfirm.com', 1, NULL, 'admin@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'billy@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Billy Wang', 'a2b5bb5de69085c1402729385896ff2dfce0a36e', '2010-06-08 16:26:17', NULL, '530c717799fe3ddef2eda5e0b2c8fa3331534109', NULL, '2010-06-08 16:26:17', '16cdea7de6c6a353e5d39f701995cac77a4d2243', NULL, 'billy@smart-lawfirm.com', 1, NULL, 'billy@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bob@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Bob Jones', 'f24383f0a65584b7fa64cdd6d710acdc5e185579', '2010-06-08 16:26:17', NULL, 'c5c9f312a3cfee40d3f762ffa3a85946a0305551', NULL, '2010-06-08 16:26:17', '980d6a1ba95e10ba0d4061557bb10692c796ba8d', NULL, 'bob@smart-lawfirm.com', 1, NULL, 'bob@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'breno@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Breno Sanchez', '5ad05388cf5a7d223146c399284bdcf0f857e4b0', '2010-06-08 16:26:17', NULL, '89e8de2e755047e75b1384090a6fa9424ccbecd2', NULL, '2010-06-08 16:26:17', '9e7880e60faf25afdedf9a56c42ee568e5d45d46', NULL, 'breno@smart-lawfirm.com', 1, NULL, 'breno@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'cra@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Chandra Raghavan', '31ef474186db9a02109e9843ff5d82508e7e4295', '2010-06-08 16:26:17', NULL, '3d8053fc4c1ab5db47b78c461f80ae9ee8f316c9', NULL, '2010-06-08 16:26:17', '326a62104ac046872056e5fdb3fdbf7a605ae3c6', NULL, 'cra@smart-lawfirm.com', 1, NULL, 'cra@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'dirk@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Dirk Brennan', 'f3e513cae5681952daff35ce23ff4c48ec3b1753', '2010-06-08 16:26:17', NULL, '48cf4f11107b50c7088323ddbc210310f6f44147', NULL, '2010-06-08 16:26:17', 'd7ad398e2590503168cbf92b1a7172854639c6a9', NULL, 'dirk@smart-lawfirm.com', 1, NULL, 'dirk@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jim@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jim MacArthur', 'bccd66cb5638bf1506f0cf7ceb85b8373774d160', '2010-06-08 16:26:17', NULL, '55a29fa0255a69d271eb66431ca5f11879fb5ba5', NULL, '2010-06-08 16:26:17', '88faf521b5f14d875d1c0512bc90eb816a958d3b', NULL, 'jim@smart-lawfirm.com', 1, NULL, 'jim@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'joe@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Smith', 'bc353e8080f0d4d29eeaf325bda65d39d7c5ee55', '2010-06-08 16:26:18', NULL, '612ce9d0bd427b0e51e09ebcfda24abde8c443c8', NULL, '2010-06-08 16:26:18', '550fe226893fed588cf8c2a916a52669ecc4ea6d', NULL, 'joe@smart-lawfirm.com', 1, NULL, 'joe@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jose@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jose Vipul', '8e631da8af7640ce7eded244515f0d800a870f86', '2010-06-08 16:26:18', NULL, '7b888b92122d61f8821a7fa7c6fccfeee6dfc8fd', NULL, '2010-06-08 16:26:18', 'b760ea959d114678b189e385a89b6624ef0b64d1', NULL, 'jose@smart-lawfirm.com', 1, NULL, 'jose@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kate@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kate Michaels', '5a427b322f6c9059d5061c7f6359a8a6fab20d69', '2010-06-08 16:26:18', NULL, '7c43eb7bab16d2f6863521a4aea62119d0326296', NULL, '2010-06-08 16:26:18', '1048e2afe23bc4fd974f495d35cab67312504b7d', NULL, 'kate@smart-lawfirm.com', 1, NULL, 'kate@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kim@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kim Eisenberg', '600783f083eafdc31e65c7b89add0d5c1f77892f', '2010-06-08 16:26:18', NULL, '45a358373736952cdef67456ca67ce3c1af7380f', NULL, '2010-06-08 16:26:18', '5e1849b21694375720a37b8070670840dfae4702', NULL, 'kim@smart-lawfirm.com', 1, NULL, 'kim@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'mike@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Michael Osborne', '178850d3c5f8844fdc3d84b328533c8bc61bcc54', '2010-06-08 16:26:18', NULL, '7f3c78653dd883ecaf9faaedaecbcaaa5e537f3a', NULL, '2010-06-08 16:26:18', 'acddcec8bc43e6b9a970b1423ae33a4c3d2bdb2d', NULL, 'mike@smart-lawfirm.com', 1, NULL, 'mike@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'pam@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Pam Kennedy', 'ea8ccc863b3f9675236fb92de789715c137d8f96', '2010-06-08 16:26:18', NULL, '00b2ec65303ddc1d36f2e4a394d3d68d2f585760', NULL, '2010-06-08 16:26:18', '00e48e4666ef64aa871e93e025c37fb4376f4c7c', NULL, 'pam@smart-lawfirm.com', 1, NULL, 'pam@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'rebecca@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Rebecca Li', '30526693c1ef4b42f414c88357a8a8665bdd1ceb', '2010-06-08 16:26:18', NULL, 'da61a97f7c098a3d6f4aab77910e47692ecccdc0', NULL, '2010-06-08 16:26:18', '558a45e62a38cb8a3b6e9670fd292757259fc547', NULL, 'rebecca@smart-lawfirm.com', 1, NULL, 'rebecca@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Ryan Boyd', '0a45bfbf322ad2bf68220fb11bdff123a3ccb9d9', '2010-06-08 16:26:18', NULL, '92fee43470ec31682cf8549df82dc7f14517d520', NULL, '2010-06-08 16:26:18', '9080b1b11d03f2183af14aa921cb245d679de0c9', NULL, 'ryan@smart-lawfirm.com', 1, NULL, 'ryan@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'tom@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Tom Nurik', '167d4c8d3abb426fab6b17256fd7b8fb1c27317e', '2010-06-08 16:26:18', NULL, 'ed76d61ede72aef93b17dc69ef09fab3471402bb', NULL, '2010-06-08 16:26:18', '07f9d078ea919d5d5f89eae5673a11d9604b39ec', NULL, 'tom@smart-lawfirm.com', 1, NULL, 'tom@smart-lawfirm.com')[0m
  [4;35;1mPhoneNumber Create (0.3ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 16:26:18', '2010-06-08 16:26:18', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 7285ms (DB: 12) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-08 12:26:18) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 61ms (DB: 4) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-08 12:26:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 210ms (View: 89, DB: 4) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-08 12:26:21) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"extensions"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 16:26:21', '2010-06-08 16:26:21', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 159ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:26:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 278ms (View: 152, DB: 4) | 200 OK [http://localhost/messages]


Processing UsersController#index (for 127.0.0.1 at 2010-06-08 12:26:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (1.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.1ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mUser Load (10.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".organization_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 2) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 3) LIMIT 1[0m
  [4;36;1mExtension Load (0.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 4) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 5) LIMIT 1[0m
  [4;36;1mExtension Load (0.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 6) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 7) LIMIT 1[0m
  [4;36;1mExtension Load (0.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 8) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 9) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 10) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 11) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 12) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 13) LIMIT 1[0m
  [4;36;1mExtension Load (0.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 14) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 15) LIMIT 1[0m
  [4;36;1mExtension Load (0.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 16) LIMIT 1[0m
  [4;35;1mExtension Load (0.2ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 17) LIMIT 1[0m
Completed in 201ms (View: 72, DB: 18) | 200 OK [http://localhost/users]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:26:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (3.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (1.0ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 182ms (View: 49, DB: 6) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 12:41:56) [GET]
  Parameters: {"action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_ ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 658ms (DB: 0) | 302 Found [http://localhost/openid/start?identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:42:00) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"J/Ll/pD6a7Xuy84Fu4VZAtvER8I=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:42:00ZPWNPyygsyu35ww", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015320|PWNPyygsyu35ww
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015320|PWNPyygsyu35ww ({:expires_in=>18005})
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

NoMethodError (undefined method `downcase' for nil:NilClass):
  oauth (0.4.0) lib/oauth/request_proxy/base.rb:93:in `normalized_uri'
  oauth (0.4.0) lib/oauth/request_proxy/base.rb:113:in `signature_base_string'
  oauth (0.4.0) lib/oauth/signature/base.rb:77:in `signature_base_string'
  oauth (0.4.0) lib/oauth/signature/hmac/base.rb:12:in `digest'
  oauth (0.4.0) lib/oauth/signature/base.rb:65:in `signature'
  oauth (0.4.0) lib/oauth/signature.rb:23:in `sign'
  oauth (0.4.0) lib/oauth/client/helper.rb:45:in `signature'
  oauth (0.4.0) lib/oauth/client/helper.rb:75:in `header'
  oauth (0.4.0) lib/oauth/client/net_http.rb:85:in `set_oauth_header'
  oauth (0.4.0) lib/oauth/client/net_http.rb:30:in `send'
  oauth (0.4.0) lib/oauth/client/net_http.rb:30:in `oauth!'
  oauth (0.4.0) lib/oauth/consumer.rb:223:in `sign!'
  oauth (0.4.0) lib/oauth/consumer.rb:189:in `create_signed_request'
  oauth (0.4.0) lib/oauth/consumer.rb:159:in `request'
  oauth (0.4.0) lib/oauth/tokens/consumer_token.rb:25:in `request'
  oauth (0.4.0) lib/oauth/tokens/access_token.rb:11:in `request'
  lib/google.rb:30:in `get_feed'
  lib/google.rb:49:in `all_contacts'
  app/models/user.rb:90:in `load_contacts'
  app/controllers/sessions_controller.rb:119:in `openid_complete'

Rendered rescues/_trace (112.8ms)
Rendered rescues/_request_and_response (4.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:42:41) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"J/Ll/pD6a7Xuy84Fu4VZAtvER8I=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:42:00ZPWNPyygsyu35ww", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015320|PWNPyygsyu35ww
Redirected to http://localhost:3000/session/new
Completed in 144ms (DB: 0) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A42%3A00ZPWNPyygsyu35ww&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=J%2FLl%2FpD6a7Xuy84Fu4VZAtvER8I%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing SessionsController#new (for 127.0.0.1 at 2010-06-08 12:42:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Completed in 170ms (View: 154, DB: 1) | 200 OK [http://localhost/session/new]


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 12:42:46) [POST]
  Parameters: {"commit"=>"Log in with OpenID", "action"=>"openid_start", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 73ms (DB: 0) | 302 Found [http://localhost/openid/start]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:42:51) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"fgw9DeKiOKWDB2cRbLW6mvwM8Gc=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:42:51ZQl5FF6bsmMtGsg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015371|Ql5FF6bsmMtGsg
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015371|Ql5FF6bsmMtGsg ({:expires_in=>18005})
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts

NoMethodError (undefined method `downcase' for nil:NilClass):
  oauth (0.4.0) lib/oauth/request_proxy/base.rb:93:in `normalized_uri'
  oauth (0.4.0) lib/oauth/request_proxy/base.rb:113:in `signature_base_string'
  oauth (0.4.0) lib/oauth/signature/base.rb:77:in `signature_base_string'
  oauth (0.4.0) lib/oauth/signature/hmac/base.rb:12:in `digest'
  oauth (0.4.0) lib/oauth/signature/base.rb:65:in `signature'
  oauth (0.4.0) lib/oauth/signature.rb:23:in `sign'
  oauth (0.4.0) lib/oauth/client/helper.rb:45:in `signature'
  oauth (0.4.0) lib/oauth/client/helper.rb:75:in `header'
  oauth (0.4.0) lib/oauth/client/net_http.rb:85:in `set_oauth_header'
  oauth (0.4.0) lib/oauth/client/net_http.rb:30:in `send'
  oauth (0.4.0) lib/oauth/client/net_http.rb:30:in `oauth!'
  oauth (0.4.0) lib/oauth/consumer.rb:223:in `sign!'
  oauth (0.4.0) lib/oauth/consumer.rb:189:in `create_signed_request'
  oauth (0.4.0) lib/oauth/consumer.rb:159:in `request'
  oauth (0.4.0) lib/oauth/tokens/consumer_token.rb:25:in `request'
  oauth (0.4.0) lib/oauth/tokens/access_token.rb:11:in `request'
  lib/google.rb:31:in `get_feed'
  lib/google.rb:50:in `all_contacts'
  app/models/user.rb:90:in `load_contacts'
  app/controllers/sessions_controller.rb:119:in `openid_complete'

Rendered rescues/_trace (200.9ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:44:14) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"fgw9DeKiOKWDB2cRbLW6mvwM8Gc=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:42:51ZQl5FF6bsmMtGsg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015371|Ql5FF6bsmMtGsg
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015371|Ql5FF6bsmMtGsg ({:expires_in=>18005})
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contact_+16503903790
Cache write: steve@smart-lawfirm.com_contact_+16502144491
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache write: steve@smart-lawfirm.com_contact_+16502530121
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Redirected to http://localhost:3000/messages
Completed in 7039ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A42%3A51ZQl5FF6bsmMtGsg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcr0e5-rAs30S8R4uCmFSZMt5K93MISkRKi8ajpHXoJzhCWNIw_&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=fgw9DeKiOKWDB2cRbLW6mvwM8Gc%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:44:21) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 291ms (View: 77, DB: 4) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (2.7ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 12:46:46) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcON42c8Y10GzGrB8C0joftCcVIaR-SnNFTsoP9hucmCqOOHsHj ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcON42c8Y10GzGrB8C0joftCcVIaR-SnNFTsoP9hucmCqOOHsHj&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 649ms (DB: 0) | 302 Found [http://localhost/openid/start?marketplace=1&identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:46:49) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"lHc5Qsg/lJRp54MClK+KFhJGDjs=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:46:49ZW2xoPqM5BeTwyw", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcON42c8Y10GzGrB8C0joftCcVIaR-SnNFTsoP9hucmCqOOHsHj", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcON42c8Y10GzGrB8C0joftCcVIaR-SnNFTsoP9hucmCqOOHsHj
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015609|W2xoPqM5BeTwyw
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015609|W2xoPqM5BeTwyw ({:expires_in=>18005})
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', 'e15a76a89772edf61f8384b10201230cb5af416a', '2010-06-08 16:46:50', NULL, '79c61fb27ddd124bf47c232588a329a975690205', NULL, '2010-06-08 16:46:50', 'd0c0b02f095225440b28605d864eec36081bfd2c', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:46:50', "activated_at" = '2010-06-08 16:46:50', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 879ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A46%3A49ZW2xoPqM5BeTwyw&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcON42c8Y10GzGrB8C0joftCcVIaR-SnNFTsoP9hucmCqOOHsHj&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=lHc5Qsg%2FlJRp54MClK%2BKFhJGDjs%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:46:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 108ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 12:46:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (3.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 103ms (View: 43, DB: 3) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 12:46:54) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"smart-lawfirm.com", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.6ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('smart-lawfirm.com', 't', '2010-06-08 16:46:54', '2010-06-08 16:46:54', 'smart-lawfirm.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 16:46:54', "organization_id" = 1 WHERE "id" = 1[0m

NameError (undefined local variable or method `session' for #<Organization:0x2592cdc>):
  lib/authenticated_system.rb:108:in `login_from_session'
  lib/authenticated_system.rb:12:in `current_user'
  app/models/organization.rb:44:in `after_create'
  app/controllers/organizations_controller.rb:58:in `create'
  app/controllers/organizations_controller.rb:57:in `create'

Rendered rescues/_trace (114.6ms)
Rendered rescues/_request_and_response (3.6ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (0.7ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (2.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (3.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 12:48:41) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46800})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcQ72tm1tKfSN9DaIRXKxn5_NiYLdROBzr-HQwmiIEPavyK_yEm ({:expires_in=>46800})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUcQ72tm1tKfSN9DaIRXKxn5_NiYLdROBzr-HQwmiIEPavyK_yEm&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 5657ms (DB: 0) | 302 Found [http://localhost/openid/start?marketplace=1&identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:48:49) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"BwLt4bfzmR1D0eT527Sp8HBJ88A=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:48:49ZXenFc7x2Bn0Pkg", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUcQ72tm1tKfSN9DaIRXKxn5_NiYLdROBzr-HQwmiIEPavyK_yEm", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUcQ72tm1tKfSN9DaIRXKxn5_NiYLdROBzr-HQwmiIEPavyK_yEm
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015729|XenFc7x2Bn0Pkg
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015729|XenFc7x2Bn0Pkg ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', '4f548a19fed25604a4d361ccde649cb832313302', '2010-06-08 16:48:50', NULL, '33f0e5b3718b98d08b69fbc32c08eea0b9ada46e', NULL, '2010-06-08 16:48:50', 'e820cbffcbca43657d4320d28f3476ee690370f7', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:48:50', "activated_at" = '2010-06-08 16:48:50', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 796ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A48%3A49ZXenFc7x2Bn0Pkg&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUcQ72tm1tKfSN9DaIRXKxn5_NiYLdROBzr-HQwmiIEPavyK_yEm&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=BwLt4bfzmR1D0eT527Sp8HBJ88A%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:48:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 109ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 12:48:50) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 100ms (View: 45, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 12:48:52) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"smart-lawfirm.com", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;35;1mOrganization Create (0.5ms)[0m   [0mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('smart-lawfirm.com', 't', '2010-06-08 16:48:52', '2010-06-08 16:48:52', 'smart-lawfirm.com', NULL)[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:48:52', "organization_id" = 1 WHERE "id" = 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'admin@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Admin', '122f79d6185dcd76c1f427e6d622c8c36dc77573', '2010-06-08 16:48:59', NULL, '8cc1e7f8d2139eefd4d8725789113452a4073310', NULL, '2010-06-08 16:48:59', 'eabd91d7eb430bb5415ee2f438fa6c678a60379c', NULL, 'admin@smart-lawfirm.com', 1, NULL, 'admin@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'billy@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Billy Wang', 'c75a1eded932b3803cb83d4a97680933b39f5862', '2010-06-08 16:48:59', NULL, '6088ba76c7cdf6bde0abd3805b504e20ba2df10d', NULL, '2010-06-08 16:48:59', 'fa27659dc2ccf3fc0d38880b8491213f87a29fc1', NULL, 'billy@smart-lawfirm.com', 1, NULL, 'billy@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bob@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Bob Jones', '721d3493bbf4f6c926036a29aba6e1f94d2bfba4', '2010-06-08 16:48:59', NULL, 'f9ff44e8eae055d351b13fcc6b7925585b79fde8', NULL, '2010-06-08 16:48:59', '39d92ab12edc70e33bb3524628a9a2eed39fbb9d', NULL, 'bob@smart-lawfirm.com', 1, NULL, 'bob@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'breno@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Breno Sanchez', '2619b8b549252ab838f791306fb47ee02073b7d4', '2010-06-08 16:48:59', NULL, 'c97e1564a998c75bc0a00ed9301f7a999ae5a7f8', NULL, '2010-06-08 16:48:59', 'abd7e95e69564d5446b689b758fbbe4bba0d8688', NULL, 'breno@smart-lawfirm.com', 1, NULL, 'breno@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'cra@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Chandra Raghavan', '978f1ec5a21e5afba0b8446067ba225796447174', '2010-06-08 16:48:59', NULL, 'e971ec69682835dc72f2cd6ba115c0234747accb', NULL, '2010-06-08 16:48:59', '5659ed203369c7f01fb34bcec10800b2ca0026a3', NULL, 'cra@smart-lawfirm.com', 1, NULL, 'cra@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'dirk@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Dirk Brennan', '82b3f199e6265fa884a01c191a4f07e24e6a5ade', '2010-06-08 16:48:59', NULL, 'd8e08fe7d60deca90ac20b691e9c0b0cf9dfc80b', NULL, '2010-06-08 16:48:59', '93bae19da287d3b03213b7fab9ce2ee61d2a5700', NULL, 'dirk@smart-lawfirm.com', 1, NULL, 'dirk@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jim@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jim MacArthur', '6d50467c3b55842dea776b31d8643319da505ad4', '2010-06-08 16:48:59', NULL, '7fb38c6e3431812c36247153490385773bd2b80b', NULL, '2010-06-08 16:48:59', '4fbc6e9ab21261154d03c40a04559b7681faf839', NULL, 'jim@smart-lawfirm.com', 1, NULL, 'jim@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'joe@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Smith', 'c098e04c74e120b0e248a206ff17d84f412458ba', '2010-06-08 16:48:59', NULL, 'd8413684776427535e13e7762b8388f63791d608', NULL, '2010-06-08 16:48:59', 'a99114c4dcdcd4b47f3bca5501639468de819e73', NULL, 'joe@smart-lawfirm.com', 1, NULL, 'joe@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jose@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jose Vipul', 'e882dc29bac62a660cfc88976fd4f35eb9d6ff99', '2010-06-08 16:48:59', NULL, '3a0bd307cb75019bbe2989e0b10255212c10121e', NULL, '2010-06-08 16:48:59', '74ab3d0e90fd8e68283a7bcea04c082cfd4d2d3e', NULL, 'jose@smart-lawfirm.com', 1, NULL, 'jose@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kate@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kate Michaels', '763b42741b7e839f30c07c87850af1d0333dec99', '2010-06-08 16:48:59', NULL, '51299f416bc1595766a152afce8356fde6d4c375', NULL, '2010-06-08 16:48:59', '817c1d7754863be1fabcafcaf0117dbabbcfda12', NULL, 'kate@smart-lawfirm.com', 1, NULL, 'kate@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kim@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kim Eisenberg', 'd5340aa0cf88d90021e5957edbdf56045e600e7d', '2010-06-08 16:48:59', NULL, 'ad46c34f483e64a486199169f6503d247bf72d71', NULL, '2010-06-08 16:48:59', '5ca121668bc20d199f8d51d3bc20d97f29573936', NULL, 'kim@smart-lawfirm.com', 1, NULL, 'kim@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'mike@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Michael Osborne', 'd64b62a9296c2fcdeff4af3a7bfff3939d481c81', '2010-06-08 16:48:59', NULL, '544e18eb00b6c88c14e832de9975f8ce7671e775', NULL, '2010-06-08 16:48:59', 'bb00e53d6a2610599128401bbb98b673f1431a5e', NULL, 'mike@smart-lawfirm.com', 1, NULL, 'mike@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'pam@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Pam Kennedy', '5dc1d51a9d75f77aa66d308d3b2d75d8cbf70d96', '2010-06-08 16:48:59', NULL, 'f0845d4a6853852cfb3fa11e5f6b46771ca1bc23', NULL, '2010-06-08 16:48:59', '829b813cc716e11cf920b58eb9a8a9a1d82df61c', NULL, 'pam@smart-lawfirm.com', 1, NULL, 'pam@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'rebecca@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Rebecca Li', 'f6e77dedd4ff912c6edc9512f8cc6d51399586f1', '2010-06-08 16:48:59', NULL, '81c767b23a74030624881ea8e1c9d90259aa3684', NULL, '2010-06-08 16:48:59', '0a1180506c2e7d4adfacda5490ecc19118cabca0', NULL, 'rebecca@smart-lawfirm.com', 1, NULL, 'rebecca@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Ryan Boyd', '33bf17ee65abfe170e82e891150f7ed00f728062', '2010-06-08 16:48:59', NULL, '48e1932ddfc8f904769f00e8341eb1bd091fbc53', NULL, '2010-06-08 16:48:59', '827c34cef5637bb992fd09c49e81eddf1a932012', NULL, 'ryan@smart-lawfirm.com', 1, NULL, 'ryan@smart-lawfirm.com')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'tom@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Tom Nurik', '465e2f2393d372decd92c1d8bd2998263b12975c', '2010-06-08 16:49:00', NULL, 'd969011d4d30373fa66ac18543fdc55cf635a01d', NULL, '2010-06-08 16:49:00', '7a93e9d3248c9da358fcf9cc1a14236f0256e56d', NULL, 'tom@smart-lawfirm.com', 1, NULL, 'tom@smart-lawfirm.com')[0m
  [4;36;1mPhoneNumber Create (0.3ms)[0m   [0;1mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 16:49:00', '2010-06-08 16:49:00', 1)[0m
Redirected to http://localhost:3000/organizations/1
Completed in 7521ms (DB: 11) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-08 12:49:00) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 56ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-08 12:49:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 207ms (View: 89, DB: 3) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-08 12:49:02) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"extensions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.9ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mPhoneNumber Load (0.9ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;35;1mExtension Load (0.3ms)[0m   [0mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mExtension Create (0.5ms)[0m   [0;1mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 16:49:02', '2010-06-08 16:49:02', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 163ms (DB: 5) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:49:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (0.9ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 279ms (View: 153, DB: 4) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)
  [4;36;1mSQL (1.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (88.9ms)[0m   [0;1mCREATE TABLE "consumer_tokens" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "type" varchar(30), "token" varchar(1024), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (38.9ms)[0m   [0mCREATE UNIQUE INDEX "index_consumer_tokens_on_token" ON "consumer_tokens" ("token")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "extensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "forward_to" varchar(255), "phone_number_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "invitations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "organization_id" integer, "email" varchar(255), "expired" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "extension_id" integer, "guid" varchar(255), "from" varchar(255), "url" varchar(255), "duration" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.9ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "domain" varchar(255), "enabled" boolean, "created_at" datetime, "updated_at" datetime, "from_marketplace" boolean) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "phone_numbers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "organization_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(40), "name" varchar(100) DEFAULT '', "email" varchar(100), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(40), "remember_token_expires_at" datetime, "activation_code" varchar(40), "activated_at" datetime, "organization_id" integer, "openid" varchar(255)) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [4;35;1mSQL (1.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (3.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM "schema_migrations"[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100528180135')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525221245')[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525222447')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525233106')[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525234001')[0m
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235346')[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100525235510')[0m
  [4;35;1mSQL (3.2ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100525235616')[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mINSERT INTO "schema_migrations" (version) VALUES ('20100526222914')[0m
  [4;35;1mSQL (3.4ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('20100528175713')[0m
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing SessionsController#openid_start (for 127.0.0.1 at 2010-06-08 12:52:43) [GET]
  Parameters: {"marketplace"=>"1", "action"=>"openid_start", "controller"=>"sessions", "identifier"=>"smart-lawfirm.com"}
Performing discovery for smart-lawfirm.com
Discovering domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Cache write: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Initializing CA bundle
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Discovery info = smart-lawfirm.com<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id= local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 ({:expires_in=>46799})
Cache write: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUdK20YQ7gLW_TXjCItL9JmJ-oYM3yDNEdHWhnI75D68y_G87g5D ({:expires_in=>46799})
Redirected to https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8&openid.assoc_handle=AOQobUdK20YQ7gLW_TXjCItL9JmJ-oYM3yDNEdHWhnI75D68y_G87g5D&openid.ax.mode=fetch_request&openid.ax.required=last%2Cfirstname%2Cemail&openid.ax.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ax.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ax.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.claimed_id=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.identity=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0%2Fidentifier_select&openid.mode=checkid_setup&openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.ns.ax=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.realm=http%3A%2F%2Flocalhost%3A3000%2F&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete
Completed in 627ms (DB: 0) | 302 Found [http://localhost/openid/start?marketplace=1&identifier=smart-lawfirm.com]


Processing SessionsController#openid_complete (for 127.0.0.1 at 2010-06-08 12:52:46) [GET]
  Parameters: {"openid.ext1.value.firstname"=>"Steve", "openid.mode"=>"id_res", "openid.op_endpoint"=>"https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8", "openid.return_to"=>"http://localhost:3000/openid/complete", "openid.sig"=>"C1EVMsXSKWV+x4+Jk/vyiTLFj2s=", "openid.ext1.value.email"=>"steve@smart-lawfirm.com", "openid.ext1.type.last"=>"http://axschema.org/namePerson/last", "openid.response_nonce"=>"2010-06-08T16:52:46ZmtUanAbVrTHZvQ", "openid.ns"=>"http://specs.openid.net/auth/2.0", "openid.ext1.value.last"=>"Bazyl", "action"=>"openid_complete", "openid.ext1.mode"=>"fetch_response", "openid.identity"=>"http://smart-lawfirm.com/openid?id=103109758892074972350", "openid.ext1.type.firstname"=>"http://axschema.org/namePerson/first", "openid.assoc_handle"=>"AOQobUdK20YQ7gLW_TXjCItL9JmJ-oYM3yDNEdHWhnI75D68y_G87g5D", "openid.signed"=>"op_endpoint,claimed_id,identity,return_to,response_nonce,assoc_handle,ns.ext1,ext1.mode,ext1.type.firstname,ext1.value.firstname,ext1.type.email,ext1.value.email,ext1.type.last,ext1.value.last", "openid.ns.ext1"=>"http://openid.net/srv/ax/1.0", "openid.ext1.type.email"=>"http://axschema.org/contact/email", "controller"=>"sessions", "openid.claimed_id"=>"http://smart-lawfirm.com/openid?id=103109758892074972350"}
Performing discovery for http://smart-lawfirm.com/openid?id=103109758892074972350
Discovering user identity http://smart-lawfirm.com/openid?id=103109758892074972350 for domain smart-lawfirm.com
Cache read: __GAPPS_OPENID__smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/site-xrds?ns=2&hd=smart-lawfirm.com
Retrieving XRDS from https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache read: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Cache write: __GAPPS_OPENID__XRDS_https://www.google.com/accounts/o8/user-xrds?uri=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350
Discovery info = http://smart-lawfirm.com/openid?id=103109758892074972350<OpenID::OpenIDServiceEndpoint server_url=https://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8 claimed_id=http://smart-lawfirm.com/openid?id=103109758892074972350 local_id= canonical_id= used_yadis=true>
Cache read: openid-store:Ahttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|AOQobUdK20YQ7gLW_TXjCItL9JmJ-oYM3yDNEdHWhnI75D68y_G87g5D
Cache exist?: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015966|mtUanAbVrTHZvQ
Cache write: openid-store:Nhttps://www.google.com/a/smart-lawfirm.com/o8/ud?be=o8|1276015966|mtUanAbVrTHZvQ ({:expires_in=>18005})
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."openid" = 'http://smart-lawfirm.com/openid?id=103109758892074972350') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.8ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Steve Bazyl', '243bcfd4b1d3db5e1b169ab445487f296cc7ea0b', '2010-06-08 16:52:47', NULL, 'e72b56d77b882d8b004c09b277b951b7e78d070d', NULL, '2010-06-08 16:52:47', '75ee4ab15172babc7f500b178ab0f0487f383787', NULL, 'steve@smart-lawfirm.com', NULL, 'http://smart-lawfirm.com/openid?id=103109758892074972350', 'steve@smart-lawfirm.com')[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-06-08 16:52:47', "activated_at" = '2010-06-08 16:52:47', "activation_code" = NULL WHERE "id" = 1[0m
  [4;35;1mGoogleToken Load (0.3ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Redirected to http://localhost:3000/messages
Completed in 824ms (DB: 3) | 302 Found [http://localhost/openid/complete?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&openid.mode=id_res&openid.op_endpoint=https%3A%2F%2Fwww.google.com%2Fa%2Fsmart-lawfirm.com%2Fo8%2Fud%3Fbe%3Do8&openid.response_nonce=2010-06-08T16%3A52%3A46ZmtUanAbVrTHZvQ&openid.return_to=http%3A%2F%2Flocalhost%3A3000%2Fopenid%2Fcomplete&openid.assoc_handle=AOQobUdK20YQ7gLW_TXjCItL9JmJ-oYM3yDNEdHWhnI75D68y_G87g5D&openid.signed=op_endpoint%2Cclaimed_id%2Cidentity%2Creturn_to%2Cresponse_nonce%2Cassoc_handle%2Cns.ext1%2Cext1.mode%2Cext1.type.firstname%2Cext1.value.firstname%2Cext1.type.email%2Cext1.value.email%2Cext1.type.last%2Cext1.value.last&openid.sig=C1EVMsXSKWV%2Bx4%2BJk%2FvyiTLFj2s%3D&openid.identity=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.claimed_id=http%3A%2F%2Fsmart-lawfirm.com%2Fopenid%3Fid%3D103109758892074972350&openid.ns.ext1=http%3A%2F%2Fopenid.net%2Fsrv%2Fax%2F1.0&openid.ext1.mode=fetch_response&openid.ext1.type.firstname=http%3A%2F%2Faxschema.org%2FnamePerson%2Ffirst&openid.ext1.value.firstname=Steve&openid.ext1.type.email=http%3A%2F%2Faxschema.org%2Fcontact%2Femail&openid.ext1.value.email=steve%40smart-lawfirm.com&openid.ext1.type.last=http%3A%2F%2Faxschema.org%2FnamePerson%2Flast&openid.ext1.value.last=Bazyl]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:52:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.3ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."domain" = 'smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mInvitation Load (0.3ms)[0m   [0;1mSELECT * FROM "invitations" WHERE ("invitations"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
Redirected to http://localhost:3000/organizations/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 110ms (DB: 2) | 302 Found [http://localhost/messages]


Processing OrganizationsController#new (for 127.0.0.1 at 2010-06-08 12:52:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"organizations"}
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering organizations/new
Completed in 101ms (View: 44, DB: 1) | 200 OK [http://localhost/organizations/new]


Processing OrganizationsController#create (for 127.0.0.1 at 2010-06-08 12:52:52) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"organizations", "organization"=>{"name"=>"smart-lawfirm.com", "domain"=>"smart-lawfirm.com"}}
  [4;36;1mUser Load (1.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com' AND "users".id <> 1) LIMIT 1[0m
  [4;36;1mOrganization Create (0.5ms)[0m   [0;1mINSERT INTO "organizations" ("name", "from_marketplace", "created_at", "updated_at", "domain", "enabled") VALUES('smart-lawfirm.com', 't', '2010-06-08 16:52:52', '2010-06-08 16:52:52', 'smart-lawfirm.com', NULL)[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-06-08 16:52:52', "organization_id" = 1 WHERE "id" = 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'admin@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Admin', '67c386957a3df875e04c93eb657241a91da03857', '2010-06-08 16:52:54', NULL, '05078dc67f1f2745f26e62411f7029efee7cabc0', NULL, '2010-06-08 16:52:54', '10f4cf70775ccc0421269a376dd53cd537c3eb60', NULL, 'admin@smart-lawfirm.com', 1, NULL, 'admin@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'billy@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Billy Wang', 'cef56de68d72b4f297654dcc95ce48539689f4ba', '2010-06-08 16:52:54', NULL, '6f8a9d92cf6d81e00a7465bd1548d6a7a09294a8', NULL, '2010-06-08 16:52:54', '20dc46630f57579bf2f898287889cef294b5fb90', NULL, 'billy@smart-lawfirm.com', 1, NULL, 'billy@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'bob@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Bob Jones', '8e4d4a031634ab42ded0eaf1da6752c371a5d57a', '2010-06-08 16:52:54', NULL, '6bc4519771c80014abcb82ee78d82a7a5e7bbe33', NULL, '2010-06-08 16:52:54', '4e3700da06f2502eb19882778e5715ce9523d219', NULL, 'bob@smart-lawfirm.com', 1, NULL, 'bob@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'breno@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Breno Sanchez', '4a964798f96f2791354e88acb6bb57cdbcaa94ce', '2010-06-08 16:52:54', NULL, '1076c07d4d17e2fb43ccd280b983fbc680fd21c6', NULL, '2010-06-08 16:52:54', 'd3f5ef73e4068b3290da07f28b943f54a1fe7220', NULL, 'breno@smart-lawfirm.com', 1, NULL, 'breno@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'cra@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Chandra Raghavan', '3e85a762e0e81558a8589cae9ad32cf2419d2f81', '2010-06-08 16:52:54', NULL, '9256985add35d9befebc9ad61c3d389227e4deef', NULL, '2010-06-08 16:52:54', '07460084a99cf6b7d9a027c3f02d7b1c666d3165', NULL, 'cra@smart-lawfirm.com', 1, NULL, 'cra@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'dirk@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Dirk Brennan', 'd90c7ec8ddca685e9a07d3fe42d3bbdedcc27db0', '2010-06-08 16:52:54', NULL, '33c70e0cde4840a6f411537b9012973f5781c300', NULL, '2010-06-08 16:52:54', 'e7759df09768609503537562ac06d3509a36ecb1', NULL, 'dirk@smart-lawfirm.com', 1, NULL, 'dirk@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jim@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jim MacArthur', '17de1061e07f2135c3e4aa9c04ca0f535561dec1', '2010-06-08 16:52:54', NULL, 'f1d961c6acc3bbf16684a47d788152ad061c6619', NULL, '2010-06-08 16:52:54', 'dbca4e3dd9a4a22e831f72e992baf9676aa6ce51', NULL, 'jim@smart-lawfirm.com', 1, NULL, 'jim@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'joe@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Joe Smith', 'c1660c4e89d8600b9d759e98bbb6c668b1eb8cdd', '2010-06-08 16:52:54', NULL, '8ba16fb9f09d04c7d0848eaf8074afa3725be64a', NULL, '2010-06-08 16:52:54', 'bbb4f2511a84dc99b082c3a8ca765ee4e40eeda0', NULL, 'joe@smart-lawfirm.com', 1, NULL, 'joe@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'jose@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Jose Vipul', 'e5b69ec0070b7f7063bdd4696a5169bc7cf0d913', '2010-06-08 16:52:54', NULL, 'ecd42bf3881ad121f9bff4333f2490c1df1fcc66', NULL, '2010-06-08 16:52:54', 'f87fbb65252352e996fbcd195be0d4bf17c5f905', NULL, 'jose@smart-lawfirm.com', 1, NULL, 'jose@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kate@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kate Michaels', '9bcc6e5237bcb4b1cc8123dfe71d390fcc96de51', '2010-06-08 16:52:54', NULL, '10120f2426dde408a2b86ede11b1ea09f669a629', NULL, '2010-06-08 16:52:54', '1581d219dc5632215c6508a1edfe1369c4753819', NULL, 'kate@smart-lawfirm.com', 1, NULL, 'kate@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'kim@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Kim Eisenberg', '041ae20e5a6641a3873db658124b58f9c41041d0', '2010-06-08 16:52:54', NULL, '1c1f242f2f5f41d2dd3cda193bb62da4cf490562', NULL, '2010-06-08 16:52:54', '2def352a2de1691d28d0c25836febc9feb763613', NULL, 'kim@smart-lawfirm.com', 1, NULL, 'kim@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'mike@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Michael Osborne', '0f8b1f59c4a28f9c5ca68c73dcf0c470fe5c1bce', '2010-06-08 16:52:54', NULL, '15a7ed6b4f9eba4ce922f9676431a9014d609cb3', NULL, '2010-06-08 16:52:54', '8458b629a1af2b61d728de55f236af78a35628a8', NULL, 'mike@smart-lawfirm.com', 1, NULL, 'mike@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'pam@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Pam Kennedy', '29cbf349f57582e8e81ba5d09878d3686c1f140c', '2010-06-08 16:52:54', NULL, '6c08d376924c707ee603820e4fc76ab1705ea9ed', NULL, '2010-06-08 16:52:54', 'ede2a1ae393833680274f4f2decdac5fb7bdffe0', NULL, 'pam@smart-lawfirm.com', 1, NULL, 'pam@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'rebecca@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Rebecca Li', 'cb95c30854f9809b2d137916f79203d2062720bd', '2010-06-08 16:52:54', NULL, '5b01ff1f6eab65270800aee96959f0128b2df90d', NULL, '2010-06-08 16:52:54', 'c5133dfc7d2e4909da5654446b72dc236f24f499', NULL, 'rebecca@smart-lawfirm.com', 1, NULL, 'rebecca@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'ryan@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Ryan Boyd', 'bc2ed6b9f50615ad0de750f9b01e5238615ba7f2', '2010-06-08 16:52:54', NULL, '1c2ce884d695a799f717f4800928d03d183f6a2c', NULL, '2010-06-08 16:52:54', 'c22a8a3bbc012c8d41f4dfda9ba00b2d4fab0d0b', NULL, 'ryan@smart-lawfirm.com', 1, NULL, 'ryan@smart-lawfirm.com')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'steve@smart-lawfirm.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'tom@smart-lawfirm.com') LIMIT 1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "salt", "created_at", "activated_at", "crypted_password", "remember_token_expires_at", "updated_at", "activation_code", "remember_token", "login", "organization_id", "openid", "email") VALUES('Tom Nurik', 'd5d1d373533f1f9a950ee1ed16c9b913f0c4a8dc', '2010-06-08 16:52:54', NULL, '935b4c2a046a2e20b8a521828b533fa0c5d9930a', NULL, '2010-06-08 16:52:54', 'fbf630c276d203de96131379bb25da7275b11f0e', NULL, 'tom@smart-lawfirm.com', 1, NULL, 'tom@smart-lawfirm.com')[0m
  [4;35;1mPhoneNumber Create (0.2ms)[0m   [0mINSERT INTO "phone_numbers" ("number", "created_at", "updated_at", "organization_id") VALUES('+18776601798', '2010-06-08 16:52:54', '2010-06-08 16:52:54', 1)[0m
  [4;36;1mGoogleToken Load (0.3ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contact_+16503903790
Cache write: steve@smart-lawfirm.com_contact_+16502144491
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache write: steve@smart-lawfirm.com_contact_+16502530121
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Redirected to http://localhost:3000/organizations/1
Completed in 2630ms (DB: 13) | 302 Found [http://localhost/organizations]


Processing OrganizationsController#show (for 127.0.0.1 at 2010-06-08 12:52:55) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"organizations"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.4ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Redirected to http://localhost:3000/extensions/new
Filter chain halted as [:ensure_setup] rendered_or_redirected.
Completed in 57ms (DB: 3) | 302 Found [http://localhost/organizations/1]


Processing ExtensionsController#new (for 127.0.0.1 at 2010-06-08 12:52:55) [GET]
  Parameters: {"action"=>"new", "controller"=>"extensions"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (2.2ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
Rendering template within layouts/application
Rendering extensions/new
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
Completed in 175ms (View: 60, DB: 5) | 200 OK [http://localhost/extensions/new]


Processing ExtensionsController#create (for 127.0.0.1 at 2010-06-08 12:53:01) [POST]
  Parameters: {"commit"=>"Give me my extension!", "extension"=>{"forward_to"=>""}, "action"=>"create", "authenticity_token"=>"05qKqWI2PH60khFbSKEnlnZttTa/o6uK6QSdFS3BQGk=", "controller"=>"extensions"}
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (1.0ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mPhoneNumber Load (1.0ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers".organization_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT max("extensions".number) AS max_number FROM "extensions" WHERE (phone_number_id = 1) [0m
  [4;36;1mExtension Load (0.3ms)[0m   [0;1mSELECT "extensions".id FROM "extensions" WHERE ("extensions"."number" = '1' AND "extensions".phone_number_id = 1) LIMIT 1[0m
  [4;35;1mExtension Create (0.5ms)[0m   [0mINSERT INTO "extensions" ("number", "phone_number_id", "forward_to", "created_at", "updated_at", "user_id") VALUES(1, 1, '', '2010-06-08 16:53:01', '2010-06-08 16:53:01', 1)[0m
Redirected to http://localhost:3000/messages
Completed in 157ms (DB: 7) | 302 Found [http://localhost/extensions]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:53:01) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (3.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.8ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 280ms (View: 65, DB: 6) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 12:59:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.8ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
Completed in 882ms (View: 111, DB: 4) | 200 OK [http://localhost/messages]
DEPRECATION WARNING: require "activesupport" is deprecated and will be removed in Rails 3. Use require "active_support" instead.. (called from /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/activesupport.rb:2)


Processing TwilioController#record (for 127.0.0.1 at 2010-06-08 13:03:30) [POST]
  Parameters: {"CallGuid"=>"123", "extension"=>"1", "Caller"=>"4156010719", "action"=>"record", "controller"=>"twilio", "RecordingUrl"=>"http://www.yahoo.com", "Called"=>"8776601798", "Duration"=>"1"}
  [4;36;1mPhoneNumber Load (0.8ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."number" = '+18776601798') LIMIT 1[0m
  [4;35;1mExtension Load (0.8ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions"."number" = '1') AND ("extensions".phone_number_id = 1) LIMIT 1[0m
  [4;36;1mMessage Create (0.7ms)[0m   [0;1mINSERT INTO "messages" ("duration", "created_at", "guid", "from", "updated_at", "url", "extension_id") VALUES(1, '2010-06-08 17:03:30', '123', '+14156010719', '2010-06-08 17:03:30', 'http://www.yahoo.com', 1)[0m
Completed in 138ms (View: 1, DB: 2) | 200 OK [http://localhost/twilio/record?extension=1]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 13:03:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;36;1mOrganization Load (0.8ms)[0m   [0;1mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;35;1mExtension Load (1.0ms)[0m   [0mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;36;1mPhoneNumber Load (0.7ms)[0m   [0;1mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mMessage Load (0.9ms)[0m   [0;1mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mGoogleToken Load (0.5ms)[0m   [0mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contacts
Cache write: steve@smart-lawfirm.com_contact_+16503903790
Cache write: steve@smart-lawfirm.com_contact_+16502144491
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache write: steve@smart-lawfirm.com_contact_+16502530121
Cache write: steve@smart-lawfirm.com_contact_+14156010719
Cache read: steve@smart-lawfirm.com_contact_+14156010719
Rendered messages/_contact (96.6ms)
Completed in 6637ms (View: 5840, DB: 6) | 200 OK [http://localhost/messages]


Processing MessagesController#index (for 127.0.0.1 at 2010-06-08 13:03:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"messages"}
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) LIMIT 1[0m
  [4;35;1mOrganization Load (0.9ms)[0m   [0mSELECT * FROM "organizations" WHERE ("organizations"."id" = 1) [0m
  [4;36;1mExtension Load (0.9ms)[0m   [0;1mSELECT * FROM "extensions" WHERE ("extensions".user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering messages/index
  [4;35;1mPhoneNumber Load (0.7ms)[0m   [0mSELECT * FROM "phone_numbers" WHERE ("phone_numbers"."id" = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;35;1mMessage Load (1.0ms)[0m   [0mSELECT * FROM "messages" WHERE ("messages".extension_id = 1) [0m
  [4;36;1mGoogleToken Load (0.4ms)[0m   [0;1mSELECT * FROM "consumer_tokens" WHERE ("consumer_tokens".user_id = 1) AND ( ("consumer_tokens"."type" = 'GoogleToken' ) ) LIMIT 1[0m
Cache read: steve@smart-lawfirm.com_contacts
Cache read: steve@smart-lawfirm.com_contact_+14156010719
Rendered messages/_contact (5.9ms)
Completed in 285ms (View: 161, DB: 6) | 200 OK [http://localhost/messages]
